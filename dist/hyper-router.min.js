Opal.modules["hyperstack/boot"]=function(e){e.top;var t=[],n=e.nil,r=e.$$$,$=e.$$,a=e.module,o=e.truthy,i=e.klass,s=e.send,l=e.hash2;return e.add_stubs(["$attr_reader","$<<","$receivers","$set_var","$new","$each","$call"]),function(t,c){var u=[a(t,"Hyperstack")].concat(c);return o($(u,"Operation","skip_raise")?"constant":n)?n:(function(e,$super,t){[i(e,null,"Operation")].concat(t)}(u[0],0,u),function(t,$super,a){var o=[i(t,null,"Application")].concat(a);return function(t,$super,a){var o=i(t,$super,"Boot"),c=[o].concat(a);return function(t,$super,n){var r,$=i(t,null,"ReactDummyParams");[$].concat(n);$.$attr_reader("context"),e.def($,"$initialize",r=function(e){return this.context=e},r.$$arity=1)}(c[0],0,c),function(t,a){var o,i,c,u=[t].concat(a);return e.def(t,"$on_dispatch",o=function(){var e=o.$$p,t=e||n,r=this;return e&&(o.$$p=null),e&&(o.$$p=null),r.$receivers()["$<<"](t)},o.$$arity=0),e.def(t,"$receivers",i=function(){var e,t=this;return s(r($(u,"Hyperstack"),"Context"),"set_var",[t,"@receivers",l(["force"],{force:!0})],((e=function(){null==e.$$s||e.$$s;return[]}).$$s=t,e.$$arity=0,e))},i.$$arity=0),e.def(t,"$run",c=function(t){var r,a,o=this,i=n;if(null==t)t=l([],{});else if(!t.$$is_hash)throw e.ArgumentError.$new("expected kwargs");return null==(r=t.$$smap.context)&&(r=n),i=$(u,"ReactDummyParams").$new(r),s(o.$receivers(),"each",[],((a=function(e){null==a.$$s||a.$$s;return null==e&&(e=n),e.$call(i)}).$$s=o,a.$$arity=1,a))},c.$$arity=-1),n&&"run"}(e.get_singleton_class(o),c)}(o[0],$(o,"Operation"),o)}(u[0],0,u))}(t[0],t)},Opal.modules["hyperstack/native_wrapper_compatibility"]=function(e){e.top;var t=[],n=e.nil,r=e.$$$,$=e.$$,a=e.module,o=e.truthy;return e.add_stubs(["$include?","$instance_methods","$include","$extend"]),function(t,i){var s=[a(t,"Native")].concat(i);return function(t,i){var s,l=a(t,"Wrapper"),c=[l].concat(i);return e.defs(l,"$included",s=function(e){return o($(c,"Native").$instance_methods()["$include?"]("to_n"))?e.$include($(c,"Native")):e.$extend(r($(c,"Native"),"Helpers"))},s.$$arity=1),n&&"included"}(s[0],s)}(t[0],t)},Opal.modules["hyperstack/deprecation_warning"]=function(e){e.top;var t=[],n=e.nil,r=(e.$$$,e.$$,e.module),$=e.truthy;return e.add_stubs(["$production?","$env","$include?","$<<"]),function(t,a){var o,i=r(t,"Hyperstack");[i].concat(a);return e.defs(i,"$deprecation_warning",o=function(e,t){var r=this,a=n;return null==r.deprecation_messages&&(r.deprecation_messages=n),$(r.$env()["$production?"]())?n:(r.deprecation_messages=$(a=r.deprecation_messages)?a:[],t="Warning: Deprecated feature used in "+e+". "+t,$(r.deprecation_messages["$include?"](t))?n:(r.deprecation_messages["$<<"](t),console.warn.apply(console,[t])))},o.$$arity=2),n&&"deprecation_warning"}(t[0],t)},Opal.modules["hyperstack/string"]=function(e){e.top;var t=[],n=e.nil,r=(e.$$$,e.$$,e.klass);return function(t,$super,$){var a,o=r(t,null,"String");[o].concat($);return e.def(o,"$to_json",a=function(){var e=this;return JSON.stringify(e)},a.$$arity=0),n&&"to_json"}(t[0],0,t)},Opal.modules["hyperstack/client_stubs"]=function(e){e.top;var t=[],n=e.nil,r=(e.$$$,e.$$,e.module);return function(t,$){var a=r(t,"Hyperstack"),o=[a].concat($);return function(t,r){var $,a,o;[t].concat(r);return e.def(t,"$import",$=function(){return e.slice.call(arguments,0,arguments.length),n},$.$$arity=-1),e.def(t,"$imports",a=function(){return e.slice.call(arguments,0,arguments.length),n},a.$$arity=-1),e.def(t,"$import_tree",o=function(){return e.slice.call(arguments,0,arguments.length),n},o.$$arity=-1),n&&"import_tree"}(e.get_singleton_class(a),o)}(t[0],t)},Opal.modules["hyperstack/context"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}e.top;var n=[],r=e.nil,$=e.$$$,a=e.$$,o=e.module,i=e.hash2,s=e.truthy,l=e.send;return e.add_stubs(["$instance_variable_get","$!","$key?","$[]","$dup","$[]=","$-","$instance_variable_set","$each","$run","$new"]),function(n,c){var u=[o(n,"Hyperstack")].concat(c);return function(n,c){var u,_,p=o(n,"Context"),d=[p].concat(c);return e.defs(p,"$set_var",u=function(n,$,a){var o,c=u.$$p,_=c||r,p=this,d=r,f=r,h=r,m=r,y=r,v=r,g=r;if(null==p.context&&(p.context=r),c&&(u.$$p=null),null==a)a=i([],{});else if(!a.$$is_hash)throw e.ArgumentError.$new("expected kwargs");return null==(o=a.$$smap.force)&&(o=r),d=n.$instance_variable_get($),s(s(f=s(h=p.context)?p.context["$[]"](n)["$key?"]($)["$!"]():h)?s(m=o)?m:d["$!"]():f)&&(y=[$,s(v=d)?d.$dup():v],l(p.context["$[]"](n),"[]=",e.to_a(y)),y[t(y.length,1)]),s(g=d)?g:n.$instance_variable_set($,e.yieldX(_,[]))},u.$$arity=-3),e.defs(p,"$reset!",_=function(n){var o,c,u=this;return null==u.context&&(u.context=r),null==n&&(n=!0),s(u.context)?(l(u.context,"each",[],((o=function(e,t){var n,$=null==o.$$s?this:o.$$s;return null==e&&(e=r),null==t&&(t=r),l(t,"each",[],((n=function(t,$){null==n.$$s||n.$$s;var a=r;return null==t&&(t=r),null==$&&($=r),e.$instance_variable_set(t,s(a=$)?$.$dup():a)}).$$s=$,n.$$arity=2,n))}).$$s=u,o.$$arity=2,o)),s(n)?$($(a(d,"Hyperstack"),"Application"),"Boot").$run():r):u.context=l(a(d,"Hash"),"new",[],((c=function(n,$){null==c.$$s||c.$$s;var a=r;return null==n&&(n=r),null==$&&($=r),a=[$,i([],{})],l(n,"[]=",e.to_a(a)),a[t(a.length,1)]}).$$s=u,c.$$arity=2,c))},_.$$arity=-1),r&&"reset!"}(u[0],u)}(n[0],n)},Opal.modules["hyperstack/js_imports"]=function(e){e.top;var t=[],n=e.nil,r=(e.$$$,e.$$,e.module),$=e.hash2,a=e.truthy,o=e.send;return e.add_stubs(["$!","$each","$raise"]),function(t,i){var s=r(t,"Hyperstack"),l=[s].concat(i);return function(t,r){var i;[t].concat(r);return e.def(t,"$js_import",i=function(t,r){var i,s,l,c,u=this,_=n,p=n,d=n,f=n;if(null==r)r=$([],{});else if(!r.$$is_hash)throw e.ArgumentError.$new("expected kwargs");if(!e.hasOwnProperty.call(r.$$smap,"defines"))throw e.ArgumentError.$new("missing keyword: defines");return i=r.$$smap.defines,null==(s=r.$$smap.client_only)&&(s=n),null==(l=r.$$smap.server_only)&&(l=n),i=[].concat(e.to_a(i)),_="undefined"==typeof e.global.document,a(a(p=a(d=l)?_["$!"]():d)?p:a(f=s)?_:f)?n:o(i,"each",[],((c=function(t){var r=null==c.$$s?this:c.$$s;return null==t&&(t=n),a(e.global[t]===undefined)?r.$raise("The package "+t+" was not found. Add it to the webpack "+(a(s)?"client_only.js":"client_and_server.js")+" manifest."):n}).$$s=u,c.$$arity=1,c))},i.$$arity=2),n&&"js_import"}(e.get_singleton_class(s),l)}(t[0],t)},Opal.modules["hyperstack/on_client"]=function(e){e.top;var t=[],n=e.nil,r=(e.$$$,e.$$,e.module);return e.add_stubs(["$!"]),function(t,$){var a,o=r(t,"Hyperstack");[o].concat($);return e.defs(o,"$on_client?",a=function(){return("undefined"==typeof e.global.document)["$!"]()},a.$$arity=0),n&&"on_client?"}(t[0],t)},Opal.modules["hyperstack/active_support_string_inquirer"]=function(e){e.top;var t=[],n=e.nil,r=(e.$$$,e.$$),$=e.module,a=e.klass,o=e.truthy,i=e.send2,s=e.find_super,l=e.range;return e.add_stubs(["$private","$==","$[]"]),function(t,c){var u=[$(t,"ActiveSupport")].concat(c);return function(t,$super,r){var $,c,u=a(t,$super,"StringInquirer");[u].concat(r);return u.$private(),e.def(u,"$respond_to_missing?",$=function(e,t){var r=$.$$p,a=this,l=n;return r&&($.$$p=null),null==t&&(t=!1),o(l=e["$[]"](-1)["$=="]("?"))?l:i(a,s(a,"respond_to_missing?",$,!1,!0),"respond_to_missing?",[e,t],r)},$.$$arity=-2),e.def(u,"$method_missing",c=function(t){var n=c.$$p,r=this;return n&&(c.$$p=null),e.slice.call(arguments,1,arguments.length),t["$[]"](-1)["$=="]("?")?r["$=="](t["$[]"](l(0,-2,!1))):i(r,s(r,"method_missing",c,!1,!0),"method_missing",[t].concat(e.to_a(arguments)),n)},c.$$arity=-2),n&&"method_missing"}(u[0],r(u,"String"),u)}(t[0],t)},Opal.modules.hyperstack_env=function(e){e.top;var t=[],n=e.nil,r=e.$$$,$=e.$$,a=e.module,o=e.truthy;return e.add_stubs(["$new"]),function(t,i){var s,l=a(t,"Hyperstack"),c=[l].concat(i);return e.defs(l,"$env",s=function(){var e=this,t=n;return null==e.environment&&(e.environment=n),e.environment=o(t=e.environment)?t:r($(c,"ActiveSupport"),"StringInquirer").$new("development")},s.$$arity=0),n&&"env"}(t[0],t)},Opal.modules["hyperstack/hotloader/stub"]=function(e){e.top;var t=[],n=e.nil,r=(e.$$$,e.$$),$=e.module,a=e.truthy,o=e.klass;return function(t,i){var s=[$(t,"Hyperstack")].concat(i);return a(r(s,"Hotloader","skip_raise")?"constant":n)?n:function(t,$super,r){var $,a=o(t,null,"Hotloader");[a].concat(r);return e.defs(a,"$when_file_updates",$=function(){var e=$.$$p;return e&&($.$$p=null),e&&($.$$p=null),n},$.$$arity=0),n&&"when_file_updates"}(s[0],0,s)}(t[0],t)},Opal.modules["hyperstack-config"]=function(e){var t=e.top,n=[],r=(e.nil,e.$$$,e.$$,e.module);return e.add_stubs(["$require"]),t.$require("hyperstack/boot"),function(t,n){var $,a=r(t,"Hyperstack");[a].concat(n);e.defs(a,"$naming_convention",$=function(){return"camelize_params"},$.$$arity=0)}(n[0],n),t.$require("hyperstack/native_wrapper_compatibility"),t.$require("hyperstack/deprecation_warning"),t.$require("hyperstack/string"),t.$require("hyperstack/client_stubs"),t.$require("hyperstack/context"),t.$require("hyperstack/js_imports"),t.$require("hyperstack/on_client"),t.$require("hyperstack/active_support_string_inquirer.rb"),t.$require("hyperstack_env"),t.$require("hyperstack/hotloader/stub")},Opal.modules["hyperstack/internal/component"]=function(e){var t=e.top,n=[],r=(e.nil,e.$$$,e.$$,e.module);return e.add_stubs(["$require","$attr_accessor"]),t.$require("hyperstack-config"),function(t,n){var $=[r(t,"Hyperstack")].concat(n);return function(t,n){var $=[r(t,"Internal")].concat(n);return function(t,n){var $=r(t,"Component"),a=[$].concat(n);return function(e,t){[e].concat(t);return e.$attr_accessor("after_error_args")}(e.get_singleton_class($),a)}($[0],$)}($[0],$)}(n[0],n)},Opal.modules["hyperstack/internal/callbacks"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}e.top;var n=[],r=e.nil,$=(e.$$$,e.$$),a=e.module,o=e.send,i=e.truthy,s=e.hash2;return e.add_stubs(["$extend","$each","$flatten","$callbacks_for","$class","$is_a?","$method","$send","$define_singleton_method","$set_var","$lambda","$instance_exec","$to_proc","$<<","$push","$when_file_updates","$delete_if","$equal?","$call","$+","$respond_to?","$superclass","$any?"]),function(n,l){var c=[a(n,"Hyperstack")].concat(l);return function(n,l){var c=[a(n,"Internal")].concat(l);return function(n,l){var c,u,_=a(n,"Callbacks"),p=[_].concat(l);return e.defs(_,"$included",c=function(e){return e.$extend($(p,"ClassMethods"))},c.$$arity=1),e.def(_,"$run_callback",u=function(t){var n,a,s,l=this;return n=e.slice.call(arguments,1,arguments.length),a=n,o(l.$class().$callbacks_for(t).$flatten(),"each",[],((s=function(n){var l=null==s.$$s?this:s.$$s;return null==n&&(n=r),i(n["$is_a?"]($(p,"Proc")))||(n=l.$method(n)),a=o(l.$class(),"send",["_"+t+"_before_call_hook",t,l,n].concat(e.to_a(a)))}).$$s=l,s.$$arity=1,s)),a},u.$$arity=-2),function(n,l){var c,u,_,p=a(n,"ClassMethods"),d=[p].concat(l);return e.def(p,"$define_callback",c=function(t,n){var a,l,u,_,p,f=c.$$p,h=this,m=r,y=r;if(f&&(c.$$p=null),null==n)n=s([],{});else if(!n.$$is_hash)throw e.ArgumentError.$new("expected kwargs");return null==(a=n.$$smap.before_call_hook)&&(a=r),null==(l=n.$$smap.after_define_hook)&&(l=r),o(h,"define_singleton_method",[m="_"+t+"_callbacks"],((u=function(){var e,t=null==u.$$s?this:u.$$s;return o($(d,"Context"),"set_var",[t,"@"+m,s(["force"],{force:!0})],((e=function(){null==e.$$s||e.$$s;return[]}).$$s=t,e.$$arity=0,e))}).$$s=h,u.$$arity=0,u)),a=i(y=a)?y:o(h,"lambda",[],((_=function(t,n,$){var a;return null==_.$$s||_.$$s,null==t&&(t=r),null==n&&(n=r),null==$&&($=r),a=e.slice.call(arguments,3,arguments.length),o(n,"instance_exec",e.to_a(a),$.$to_proc()),a}).$$s=h,_.$$arity=-4,_)),o(h,"define_singleton_method",["_"+t+"_before_call_hook"],a.$to_proc()),o(h,"define_singleton_method",[t],((p=function(){var t,n,a,s=null==p.$$s?this:p.$$s,c=p.$$p,u=c||r;return c&&(p.$$p=null),t=e.slice.call(arguments,0,arguments.length),n=t,u!==r&&n["$<<"](u),s.$send(m).$push(n),o($(d,"Hotloader"),"when_file_updates",[],((a=function(){var e,t=null==a.$$s?this:a.$$s;return o(t.$send(m),"delete_if",[],((e=function(t){null==e.$$s||e.$$s;return null==t&&(t=r),t["$equal?"](n)}).$$s=t,e.$$arity=1,e))}).$$s=s,a.$$arity=0,a)),i(l)?l.$call(s):r}).$$s=h,p.$$arity=-1,p))},c.$$arity=-2),e.def(p,"$callbacks_for",u=function(e){var n=this,$=r;return $="_"+e+"_callbacks",t(i(n.$superclass()["$respond_to?"]("callbacks_for"))?n.$superclass().$callbacks_for(e):[],n.$send($))},u.$$arity=1),e.def(p,"$callbacks?",_=function(e){return this.$callbacks_for(e)["$any?"]()},_.$$arity=1),r&&"callbacks?"}(p[0],p)}(c[0],c)}(c[0],c)}(n[0],n)},Opal.modules["hyperstack/internal/auto_unmount"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}e.top;var n=[],r=e.nil,$=e.$$$,a=e.$$,o=e.module,i=e.send,s=e.truthy,l=e.send2,c=e.find_super;return e.add_stubs(["$include","$class_eval","$define_callback","$run_callback","$each","$[]","$objects_to_unmount","$to_proc","$delete","$instance_variables","$instance_variable_get","$respond_to?","$unmount","$unmounted?","$tap","$define_singleton_method","$abort","$<<","$new","$[]=","$-"]),function(n,u){var _=[o(n,"Hyperstack")].concat(u);return function(n,u){var _=[o(n,"Internal")].concat(u);return function(n,u){var _,p,d,f,h,m=o(n,"AutoUnmount"),y=[m].concat(u);return e.defs(m,"$included",_=function(e){var t,n=this;return e.$include($($(a(y,"Hyperstack"),"Internal"),"Callbacks")),i(e,"class_eval",[],((t=function(){return(null==t.$$s?this:t.$$s).$define_callback("before_unmount")}).$$s=n,t.$$arity=0,t))},_.$$arity=1),e.def(m,"$unmounted?",p=function(){var e=this;return null==e.__hyperstack_internal_auto_unmount_unmounted&&(e.__hyperstack_internal_auto_unmount_unmounted=r),e.__hyperstack_internal_auto_unmount_unmounted},p.$$arity=0),e.def(m,"$unmount",d=function(){var t,n=this;return n.$run_callback("before_unmount"),i(a(y,"AutoUnmount").$objects_to_unmount()["$[]"](n),"each",[],"unmount".$to_proc()),a(y,"AutoUnmount").$objects_to_unmount().$delete(n),i(n.$instance_variables(),"each",[],((t=function(n){var o=null==t.$$s?this:t.$$s,i=r;null==n&&(n=r),i=o.$instance_variable_get(n);try{return s(i["$respond_to?"]("unmount"))?i.$unmount():r}catch(l){if(!e.rescue(l,[$(a(y,"JS"),"Error")]))throw l;try{return r}finally{e.pop_exception()}}}).$$s=n,t.$$arity=1,t)),n.__hyperstack_internal_auto_unmount_unmounted=!0},d.$$arity=0),e.def(m,"$every",f=function(){var t,n,$=f.$$p,o=this;return $&&(f.$$p=null),$&&(f.$$p=null),t=e.slice.call(arguments,0,arguments.length),s(o["$unmounted?"]())?r:i(l(o,c(o,"every",f,!1,!0),"every",e.to_a(t),$),"tap",[],((n=function(e){var t,$=null==n.$$s?this:n.$$s;return null==e&&(e=r),$,i(e,"define_singleton_method",["unmount"],((t=function(){return(null==t.$$s?this:t.$$s).$abort()}).$$s=$,t.$$arity=0,t)),a(y,"AutoUnmount").$objects_to_unmount()["$[]"]($)["$<<"](e)}).$$s=o,n.$$arity=1,n))},f.$$arity=-1),e.def(m,"$after",h=function(){var t,n,$=h.$$p,o=this;return $&&(h.$$p=null),$&&(h.$$p=null),t=e.slice.call(arguments,0,arguments.length),s(o["$unmounted?"]())?r:i(l(o,c(o,"after",h,!1,!0),"after",e.to_a(t),$),"tap",[],((n=function(e){var t,$=null==n.$$s?this:n.$$s;return null==e&&(e=r),$,i(e,"define_singleton_method",["unmount"],((t=function(){return(null==t.$$s?this:t.$$s).$abort()}).$$s=$,t.$$arity=0,t)),a(y,"AutoUnmount").$objects_to_unmount()["$[]"]($)["$<<"](e)}).$$s=o,n.$$arity=1,n))},h.$$arity=-1),function(n,$){var o,l=[n].concat($);return e.def(n,"$objects_to_unmount",o=function(){var n,$=this,o=r;return null==$.objects_to_unmount&&($.objects_to_unmount=r),$.objects_to_unmount=s(o=$.objects_to_unmount)?o:i(a(l,"Hash"),"new",[],((n=function($,o){null==n.$$s||n.$$s;var s=r;return null==$&&($=r),null==o&&(o=r),s=[o,a(l,"Set").$new()],i($,"[]=",e.to_a(s)),s[t(s.length,1)]}).$$s=$,n.$$arity=2,n))},o.$$arity=0),r&&"objects_to_unmount"}(e.get_singleton_class(m),y)}(_[0],_)}(_[0],_)}(n[0],n)},Opal.modules.native=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}var r=e.top,$=[],a=e.nil,o=e.$$$,i=e.$$,s=e.module,l=e.truthy,c=e.send,u=e.hash2,_=e.range,p=e.alias,d=e.klass,f=e.send2,h=e.find_super,m=e.gvars;return e.add_stubs(["$try_convert","$native?","$respond_to?","$to_n","$raise","$inspect","$Native","$proc","$map!","$end_with?","$define_method","$[]","$convert","$call","$to_proc","$new","$each","$native_reader","$native_writer","$extend","$warn","$include","$is_a?","$map","$to_a","$_Array","$method_missing","$bind","$instance_method","$slice","$-","$length","$[]=","$enum_for","$===","$>=","$<<","$each_pair","$method_defined?","$_initialize","$name","$native_module"]),function(t,n){var r,$,p,d,f,h,m=s(t,"Native"),y=[m].concat(n);e.defs(m,"$is_a?",r=function(e,t){var n=this;try{return e instanceof n.$try_convert(t)}catch(r){return!1}},r.$$arity=2),e.defs(m,"$try_convert",$=function(e,t){return null==t&&(t=a),this["$native?"](e)?e:e["$respond_to?"]("to_n")?e.$to_n():t},$.$$arity=-2),e.defs(m,"$convert",p=function(e){var t=this;return t["$native?"](e)?e:e["$respond_to?"]("to_n")?e.$to_n():void t.$raise(i(y,"ArgumentError"),e.$inspect()+" isn't native")},p.$$arity=1),e.defs(m,"$call",d=function(t,n){var r,$=d.$$p,o=$||a,i=this;$&&(d.$$p=null),$&&(d.$$p=null),r=e.slice.call(arguments,2,arguments.length);var s=t[n];if(s instanceof Function){for(var l=new Array(r.length),c=0,u=r.length;c<u;c++){var _=r[c],p=i.$try_convert(_);l[c]=p===a?_:p}return o!==a&&l.push(o),i.$Native(s.apply(t,l))}return i.$Native(s)},d.$$arity=-3),e.defs(m,"$proc",f=function(){var t,n=f.$$p,r=n||a,$=this;return n&&(f.$$p=null),n&&(f.$$p=null),l(r)||$.$raise(i(y,"LocalJumpError"),"no block given"),c(o("::","Kernel"),"proc",[],((t=function(){var n,$,o,i=null==t.$$s?this:t.$$s,s=a;if(n=e.slice.call(arguments,0,arguments.length),c($=n,"map!",[],((o=function(e){var t=null==o.$$s?this:o.$$s;return null==e&&(e=a),t.$Native(e)}).$$s=i,o.$$arity=1,o)),s=i.$Native(this),this===e.global)return r.apply(i,$);var l=r.$$s;r.$$s=null;try{return r.apply(s,$)}finally{r.$$s=l}}).$$s=$,t.$$arity=-1,t))},f.$$arity=0),function(t,n){var r,$,o,p,d=s(t,"Helpers"),f=[d].concat(n);e.def(d,"$alias_native",r=function(t){var n,$,o,s,p,d,h,m=r.$$p,y=this;if(m&&(r.$$p=null),n=e.slice.call(arguments,1,arguments.length),null==($=e.extract_kwargs(n)))$=u([],{});else if(!$.$$is_hash)throw e.ArgumentError.$new("expected kwargs");return n.length>0&&(o=n[0],n.splice(0,1)),null==o&&(o=t),null==(s=$.$$smap.as)&&(s=a),l(o["$end_with?"]("="))?c(y,"define_method",[t],((p=function(e){var t=null==p.$$s?this:p.$$s;return null==t.native&&(t.native=a),null==e&&(e=a),t.native[o["$[]"](_(0,-2,!1))]=i(f,"Native").$convert(e),e}).$$s=y,p.$$arity=1,p)):l(s)?c(y,"define_method",[t],((d=function(){var t,n=null==d.$$s?this:d.$$s,r=d.$$p,$=r||a,u=a;return null==n.native&&(n.native=a),r&&(d.$$p=null),t=e.slice.call(arguments,0,arguments.length),u=c(i(f,"Native"),"call",[n.native,o].concat(e.to_a(t)),$.$to_proc()),l(u)?s.$new(u.$to_n()):a}).$$s=y,d.$$arity=-1,d)):c(y,"define_method",[t],((h=function(){var t,n=null==h.$$s?this:h.$$s,r=h.$$p,$=r||a;return null==n.native&&(n.native=a),r&&(h.$$p=null),t=e.slice.call(arguments,0,arguments.length),c(i(f,"Native"),"call",[n.native,o].concat(e.to_a(t)),$.$to_proc())}).$$s=y,h.$$arity=-1,h))},r.$$arity=-2),e.def(d,"$native_reader",$=function(){var t,n,r=this;return t=e.slice.call(arguments,0,arguments.length),c(t,"each",[],((n=function(e){var t,r=null==n.$$s?this:n.$$s;return null==e&&(e=a),c(r,"define_method",[e],((t=function(){var n=null==t.$$s?this:t.$$s;return null==n.native&&(n.native=a),n.$Native(n.native[e])}).$$s=r,t.$$arity=0,t))}).$$s=r,n.$$arity=1,n))},$.$$arity=-1),e.def(d,"$native_writer",o=function(){var t,n,r=this;return t=e.slice.call(arguments,0,arguments.length),c(t,"each",[],((n=function(e){var t,r=null==n.$$s?this:n.$$s;return null==e&&(e=a),c(r,"define_method",[e+"="],((t=function(n){var r=null==t.$$s?this:t.$$s;return null==r.native&&(r.native=a),null==n&&(n=a),r.$Native(r.native[e]=n)}).$$s=r,t.$$arity=1,t))}).$$s=r,n.$$arity=1,n))},o.$$arity=-1),e.def(d,"$native_accessor",p=function(){var t,n=this;return t=e.slice.call(arguments,0,arguments.length),c(n,"native_reader",e.to_a(t)),c(n,"native_writer",e.to_a(t))},p.$$arity=-1)}(y[0],y),function(t,n){var r,$,c,u=s(t,"Wrapper"),_=[u].concat(n);e.def(u,"$initialize",r=function(e){var t=this;return l(o("::","Kernel")["$native?"](e))||o("::","Kernel").$raise(i(_,"ArgumentError"),e.$inspect()+" isn't native"),t.native=e},r.$$arity=1),e.def(u,"$to_n",$=function(){var e=this;return null==e.native&&(e.native=a),e.native},$.$$arity=0),e.defs(u,"$included",c=function(e){return e.$extend(i(_,"Helpers"))},c.$$arity=1)}(y[0],y),e.defs(m,"$included",h=function(e){return this.$warn("Including ::Native is deprecated. Please include Native::Wrapper instead."),e.$include(i(y,"Wrapper"))},h.$$arity=1)}($[0],$),function(t,n){var r,$,u,_=s(t,"Kernel"),d=[_].concat(n);e.def(_,"$native?",r=function(e){return null==e||!e.$$class},r.$$arity=1),e.def(_,"$Native",$=function(t){var n,r,s=$.$$p,u=this;return s&&($.$$p=null),l(null==t)?a:l(u["$native?"](t))?o(i(d,"Native"),"Object").$new(t):l(t["$is_a?"](i(d,"Array")))?c(t,"map",[],((n=function(e){var t=null==n.$$s?this:n.$$s;return null==e&&(e=a),t.$Native(e)}).$$s=u,n.$$arity=1,n)):l(t["$is_a?"](i(d,"Proc")))?c(u,"proc",[],((r=function(){var n,$=null==r.$$s?this:r.$$s,o=r.$$p,i=o||a;return o&&(r.$$p=null),n=e.slice.call(arguments,0,arguments.length),$.$Native(c(t,"call",e.to_a(n),i.$to_proc()))}).$$s=u,r.$$arity=-1,r)):t},$.$$arity=1),p(_,"_Array","Array"),e.def(_,"$Array",u=function(t){var n,r=u.$$p,$=r||a,s=this;return r&&(u.$$p=null),r&&(u.$$p=null),n=e.slice.call(arguments,1,arguments.length),l(s["$native?"](t))?c(o(i(d,"Native"),"Array"),"new",[t].concat(e.to_a(n)),$.$to_proc()).$to_a():s.$_Array(t)},u.$$arity=-2)}($[0],$),function(n,$super,r){var $,i,s,_,f,h,m,y,v,g,b,k,w,x,O,H=d(n,$super,"Object");[H].concat(r);H.$$prototype.native=a,H.$include(o(o("::","Native"),"Wrapper")),e.def(H,"$==",$=function(e){return this.native===o("::","Native").$try_convert(e)},$.$$arity=1),e.def(H,"$has_key?",i=function(t){var n=this;return e.hasOwnProperty.call(n.native,t)},i.$$arity=1),p(H,"key?","has_key?"),p(H,"include?","has_key?"),p(H,"member?","has_key?"),e.def(H,"$each",s=function(){var t,n=s.$$p,r=n||a,$=this;if(n&&(s.$$p=null),t=e.slice.call(arguments,0,arguments.length),r!==a){for(var o in $.native)e.yieldX(r,[o,$.native[o]]);return $}return c($,"method_missing",["each"].concat(e.to_a(t)))},s.$$arity=-1),e.def(H,"$[]",_=function(e){var t=this,n=t.native[e];return n instanceof Function?n:o("::","Native").$call(t.native,e)},_.$$arity=1),e.def(H,"$[]=",f=function(e,t){var n=this,r=a;return r=o("::","Native").$try_convert(t),l(r===a)?n.native[e]=t:n.native[e]=r},f.$$arity=2),e.def(H,"$merge!",h=function(e){var t=this;for(var n in e=o("::","Native").$convert(e))t.native[n]=e[n];return t},h.$$arity=1),e.def(H,"$respond_to?",m=function(e,t){var n=this;return null==t&&(t=!1),o("::","Kernel").$instance_method("respond_to?").$bind(n).$call(e,t)},m.$$arity=-2),e.def(H,"$respond_to_missing?",y=function(t,n){var r=this;return null==n&&(n=!1),e.hasOwnProperty.call(r.native,t)},y.$$arity=-2),e.def(H,"$method_missing",v=function(n){var r,$=v.$$p,i=$||a,s=this,l=a;return $&&(v.$$p=null),$&&(v.$$p=null),r=e.slice.call(arguments,1,arguments.length),"="===n.charAt(n.length-1)?(l=[n.$slice(0,t(n.$length(),1)),r["$[]"](0)],c(s,"[]=",e.to_a(l)),l[t(l.length,1)]):c(o("::","Native"),"call",[s.native,n].concat(e.to_a(r)),i.$to_proc())},v.$$arity=-2),e.def(H,"$nil?",g=function(){return!1},g.$$arity=0),e.def(H,"$is_a?",b=function(t){var n=this;return e.is_a(n,t)},b.$$arity=1),p(H,"kind_of?","is_a?"),e.def(H,"$instance_of?",k=function(e){return this.$$class===e},k.$$arity=1),e.def(H,"$class",w=function(){return this.$$class},w.$$arity=0),e.def(H,"$to_a",x=function(e){var t=x.$$p,n=t||a,r=this;return t&&(x.$$p=null),t&&(x.$$p=null),null==e&&(e=u([],{})),c(o(o("::","Native"),"Array"),"new",[r.native,e],n.$to_proc()).$to_a()},x.$$arity=-1),e.def(H,"$inspect",O=function(){return"#<Native:"+String(this.native)+">"},O.$$arity=0)}(i($,"Native"),i($,"BasicObject"),$),function(r,$super,$){var s,c,_,m,y,v,g,b=d(r,null,"Array"),k=[b].concat($);b.$$prototype.named=b.$$prototype.native=b.$$prototype.get=b.$$prototype.block=b.$$prototype.set=b.$$prototype.length=a,b.$include(o(i(k,"Native"),"Wrapper")),b.$include(i(k,"Enumerable")),e.def(b,"$initialize",s=function(e,t){var n=s.$$p,r=n||a,$=this,o=a,c=a,_=a;return n&&(s.$$p=null),n&&(s.$$p=null),null==t&&(t=u([],{})),f($,h($,"initialize",s,!1,!0),"initialize",[e],null),$.get=l(o=t["$[]"]("get"))?o:t["$[]"]("access"),$.named=t["$[]"]("named"),$.set=l(c=t["$[]"]("set"))?c:t["$[]"]("access"),$.length=l(_=t["$[]"]("length"))?_:"length",$.block=r,l(null==$.$length())?$.$raise(i(k,"ArgumentError"),"no length found on the array-like object"):a},s.$$arity=-2),e.def(b,"$each",c=function(){var t=c.$$p,n=t||a,r=this;if(t&&(c.$$p=null),t&&(c.$$p=null),!l(n))return r.$enum_for("each");for(var $=0,o=r.$length();$<o;$++)e.yield1(n,r["$[]"]($));return r},c.$$arity=0),e.def(b,"$[]",_=function(e){var t=this,n=a,r=a;return r=e,n=i(k,"String")["$==="](r)||i(k,"Symbol")["$==="](r)?l(t.named)?t.native[t.named](e):t.native[e]:i(k,"Integer")["$==="](r)?l(t.get)?t.native[t.get](e):t.native[e]:a,l(n)?l(t.block)?t.block.$call(n):t.$Native(n):a},_.$$arity=1),e.def(b,"$[]=",m=function(e,t){var n=this;return l(n.set)?n.native[n.set](e,i(k,"Native").$convert(t)):n.native[e]=i(k,"Native").$convert(t)},m.$$arity=2),e.def(b,"$last",y=function(e){var r=this,$=a,o=a;if(null==e&&(e=a),l(e)){for($=t(r.$length(),1),o=[];l(n($,0));)o["$<<"](r["$[]"]($)),$=t($,1);return o}return r["$[]"](t(r.$length(),1))},y.$$arity=-1),e.def(b,"$length",v=function(){var e=this;return e.native[e.length]},v.$$arity=0),p(b,"to_ary","to_a"),e.def(b,"$inspect",g=function(){return this.$to_a().$inspect()},g.$$arity=0)}(i($,"Native"),0,$),function(t,$super,n){var r,$=d(t,null,"Numeric");[$].concat(n);e.def($,"$to_n",r=function(){return this.valueOf()},r.$$arity=0)}($[0],0,$),function(t,$super,n){var r,$=d(t,null,"Proc");[$].concat(n);e.def($,"$to_n",r=function(){return this},r.$$arity=0)}($[0],0,$),function(t,$super,n){var r,$=d(t,null,"String");[$].concat(n);e.def($,"$to_n",r=function(){return this.valueOf()},r.$$arity=0)}($[0],0,$),function(t,$super,n){var r,$=d(t,null,"Regexp");[$].concat(n);e.def($,"$to_n",r=function(){return this.valueOf()},r.$$arity=0)}($[0],0,$),function(t,$super,n){var r,$=d(t,null,"MatchData");[$].concat(n);$.$$prototype.matches=a,e.def($,"$to_n",r=function(){return this.matches},r.$$arity=0)}($[0],0,$),function(t,$super,n){var r,$=d(t,null,"Struct"),o=[$].concat(n);e.def($,"$to_n",r=function(){var e,t=this,n=a;return n={},c(t,"each_pair",[],((e=function(t,r){null==e.$$s||e.$$s;return null==t&&(t=a),null==r&&(r=a),n[t]=i(o,"Native").$try_convert(r,r)}).$$s=t,e.$$arity=2,e)),n},r.$$arity=0)}($[0],0,$),function(t,$super,n){var r,$=d(t,null,"Array"),a=[$].concat(n);e.def($,"$to_n",r=function(){for(var e=this,t=[],n=0,r=e.length;n<r;n++){var $=e[n];t.push(i(a,"Native").$try_convert($,$))}return t},r.$$arity=0)}($[0],0,$),function(t,$super,n){var r,$=d(t,null,"Boolean");[$].concat(n);e.def($,"$to_n",r=function(){return this.valueOf()},r.$$arity=0)}($[0],0,$),function(t,$super,n){var r,$=d(t,null,"Time");[$].concat(n);e.def($,"$to_n",r=function(){return this},r.$$arity=0)}($[0],0,$),function(t,$super,n){var r,$=d(t,null,"NilClass");[$].concat(n);e.def($,"$to_n",r=function(){return null},r.$$arity=0)}($[0],0,$),l(i($,"Hash")["$method_defined?"]("_initialize"))||function(t,$super,n){var r,$,o=d(t,null,"Hash"),s=[o].concat(n);p(o,"_initialize","initialize"),e.def(o,"$initialize",r=function(e){var t=r.$$p,n=t||a,$=this;if(t&&(r.$$p=null),t&&(r.$$p=null),null!=e&&(e.constructor===undefined||e.constructor===Object)){var o,l,u=$.$$smap,_=$.$$keys;for(o in e)!(l=e[o])||l.constructor!==undefined&&l.constructor!==Object?l&&l.$$is_array?(l=l.map(function(e){return!e||e.constructor!==undefined&&e.constructor!==Object?$.$Native(e):i(s,"Hash").$new(e)}),u[o]=l):u[o]=$.$Native(l):u[o]=i(s,"Hash").$new(l),_.push(o);return $}return c($,"_initialize",[e],n.$to_proc())},r.$$arity=-1),e.def(o,"$to_n",$=function(){for(var e,t,n=this,r={},$=n.$$keys,a=n.$$smap,o=0,l=$.length;o<l;o++)t=(e=$[o]).$$is_string?a[e]:(e=e.key).value,r[e]=i(s,"Native").$try_convert(t,t);return r},$.$$arity=0)}($[0],0,$),function(t,$super,n){var r,$=d(t,null,"Module");[$].concat(n);e.def($,"$native_module",r=function(){var t=this;return e.global[t.$name()]=t},r.$$arity=0)}($[0],0,$),function(t,$super,n){var r,$,a=d(t,null,"Class"),o=[a].concat(n);e.def(a,"$native_alias",r=function(e,t){var n=this,r=n.prototype["$"+t];r||n.$raise(i(o,"NameError").$new("undefined method `"+t+"' for class `"+n.$inspect()+"'",t)),n.prototype[e]=r},r.$$arity=2),e.def(a,"$native_class",$=function(){var e=this;return e.$native_module(),e["new"]=e.$new},$.$$arity=0)}($[0],0,$),m.$=m.global=r.$Native(e.global)},Opal.modules.json=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}e.top;var n=[],r=e.nil,$=e.$$$,a=e.$$,o=e.module,i=e.klass,s=e.send,l=e.hash2,c=e.truthy;return e.add_stubs(["$raise","$new","$push","$[]=","$-","$[]","$create_id","$json_create","$const_get","$attr_accessor","$create_id=","$===","$parse","$generate","$from_object","$merge","$to_json","$responds_to?","$to_io","$write","$to_s","$to_a","$strftime"]),function(n,u){function _(e){try{return JSON.parse(e)}catch(t){b.$raise($(a(k,"JSON"),"ParserError"),t.message)}}function p(n,o){var i,l,c,u,_,d;switch(typeof n){case"string":case"number":return n;case"boolean":return!!n;case"undefined":return r;case"object":if(!n)return r;if(n.$$is_array){for(l=o.array_class.$new(),u=0,_=n.length;u<_;u++)l.$push(p(n[u],o));return l}for(d in c=o.object_class.$new(),n)x.call(n,d)&&(w=[d,p(n[d],o)],s(c,"[]=",e.to_a(w)),w[t(w.length,1)]);return o.parse||(i=c["$[]"](a(k,"JSON").$create_id()))==r?c:$("::","Object").$const_get(i).$json_create(c)}}var d,f,h,m,y,v,g,b=o(n,"JSON"),k=[b].concat(u),w=r;!function(e,$super,t){[i(e,$super,"JSONError")].concat(t)}(k[0],a(k,"StandardError"),k),function(e,$super,t){[i(e,$super,"ParserError")].concat(t)}(k[0],a(k,"JSONError"),k);var x=e.hasOwnProperty;(function(e,t){[e].concat(t);e.$attr_accessor("create_id")})(e.get_singleton_class(b),k),w=["json_class"],s(b,"create_id=",e.to_a(w)),w[t(w.length,1)],e.defs(b,"$[]",d=function(e,t){var n=this;return null==t&&(t=l([],{})),c(a(k,"String")["$==="](e))?n.$parse(e,t):n.$generate(e,t)},d.$$arity=-2),e.defs(b,"$parse",f=function(e,t){var n=this;return null==t&&(t=l([],{})),n.$from_object(_(e),t.$merge(l(["parse"],{parse:!0})))},f.$$arity=-2),e.defs(b,"$parse!",h=function(e,t){var n=this;return null==t&&(t=l([],{})),n.$parse(e,t)},h.$$arity=-2),e.defs(b,"$load",m=function(e,t){var n=this;return null==t&&(t=l([],{})),n.$from_object(_(e),t)},m.$$arity=-2),e.defs(b,"$from_object",y=function(n,$){var o=r;return null==$&&($=l([],{})),c($["$[]"]("object_class"))||(o=["object_class",a(k,"Hash")],s($,"[]=",e.to_a(o)),o[t(o.length,1)]),c($["$[]"]("array_class"))||(o=["array_class",a(k,"Array")],s($,"[]=",e.to_a(o)),o[t(o.length,1)]),p(n,$.$$smap)},y.$$arity=-2),e.defs(b,"$generate",v=function(e,t){return null==t&&(t=l([],{})),e.$to_json(t)},v.$$arity=-2),e.defs(b,"$dump",g=function(e,t,n){var $=r;return null==t&&(t=r),null==n&&(n=r),$=this.$generate(e),c(t)?(c(t["$responds_to?"]("to_io"))&&(t=t.$to_io()),t.$write($),t):$},g.$$arity=-2)}(n[0],n),function(t,$super,n){var r,$=i(t,null,"Object");[$].concat(n);e.def($,"$to_json",r=function(){return this.$to_s().$to_json()},r.$$arity=0)}(n[0],0,n),function(t,n){var r,$=o(t,"Enumerable");[$].concat(n);e.def($,"$to_json",r=function(){return this.$to_a().$to_json()},r.$$arity=0)}(n[0],n),function(t,$super,n){var r,$=i(t,null,"Array");[$].concat(n);e.def($,"$to_json",r=function(){for(var e=this,t=[],n=0,r=e.length;n<r;n++)t.push(e[n].$to_json());return"["+t.join(",")+"]"},r.$$arity=0)}(n[0],0,n),function(t,$super,n){var r,$=i(t,null,"Boolean");[$].concat(n);e.def($,"$to_json",r=function(){return 1==this?"true":"false"},r.$$arity=0)}(n[0],0,n),function(t,$super,n){var r,$=i(t,null,"Hash");[$].concat(n);e.def($,"$to_json",r=function(){for(var e,t,n=this,r=[],$=0,a=n.$$keys,o=a.length;$<o;$++)(e=a[$]).$$is_string?t=n.$$smap[e]:(t=e.value,e=e.key),r.push(e.$to_s().$to_json()+":"+t.$to_json());return"{"+r.join(",")+"}"},r.$$arity=0)}(n[0],0,n),function(t,$super,n){var r,$=i(t,null,"NilClass");[$].concat(n);e.def($,"$to_json",r=function(){return"null"},r.$$arity=0)}(n[0],0,n),function(t,$super,n){
var r,$=i(t,null,"Numeric");[$].concat(n);e.def($,"$to_json",r=function(){return this.toString()},r.$$arity=0)}(n[0],0,n),function(t,$super,n){var r,$=i(t,null,"String");[$].concat(n);e.def($,"$to_json",r=function(){var e=this;return JSON.stringify(e)},r.$$arity=0)}(n[0],0,n),function(t,$super,n){var r,$=i(t,null,"Time");[$].concat(n);e.def($,"$to_json",r=function(){return this.$strftime("%FT%T%z").$to_json()},r.$$arity=0)}(n[0],0,n),function(t,$super,n){var $,a,o=i(t,null,"Date");[o].concat(n);return e.def(o,"$to_json",$=function(){return this.$to_s().$to_json()},$.$$arity=0),e.def(o,"$as_json",a=function(){return this.$to_s()},a.$$arity=0),r&&"as_json"}(n[0],0,n)},Opal.modules["hyperstack/state/observer"]=function(e){e.top;var t=[],n=e.nil,r=e.$$$,$=e.$$,a=e.module,o=e.hash2,i=e.send;return e.add_stubs(["$observing","$to_proc","$update_objects_to_observe","$remove"]),function(t,s){var l=[a(t,"Hyperstack")].concat(s);return function(t,s){var l=[a(t,"State")].concat(s);return function(t,s){var l,c,u,_=a(t,"Observer"),p=[_].concat(s);return e.def(_,"$observing",l=function(t){var a,s,c,u=l.$$p,_=u||n,d=this;if(u&&(l.$$p=null),u&&(l.$$p=null),null==t)t=o([],{});else if(!t.$$is_hash)throw e.ArgumentError.$new("expected kwargs");return null==(a=t.$$smap.immediate_update)&&(a=!1),null==(s=t.$$smap.rendering)&&(s=!1),null==(c=t.$$smap.update_objects)&&(c=!1),i(r(r($(p,"Internal"),"State"),"Mapper"),"observing",[d,a,s,c],_.$to_proc())},l.$$arity=-1),e.def(_,"$update_objects_to_observe",c=function(){var e=this;return r(r($(p,"Internal"),"State"),"Mapper").$update_objects_to_observe(e)},c.$$arity=0),e.def(_,"$remove",u=function(){var e=this;return r(r($(p,"Internal"),"State"),"Mapper").$remove(e)},u.$$arity=0),n&&"remove"}(l[0],l)}(l[0],l)}(t[0],t)},Opal.modules["hyperstack/internal/component/validator"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}e.top;var r=[],$=e.nil,a=(e.$$$,e.$$),o=e.module,i=e.klass,s=e.send,l=e.hash2,c=e.truthy;return e.add_stubs(["$attr_accessor","$attr_reader","$private","$tap","$new","$each","$instance_variable_set","$dup","$instance_variable_get","$build","$to_proc","$instance_eval","$[]=","$-","$define_rule","$coerce_native_hash_values","$rules","$define_all_others","$props_wrapper","$reject","$[]","$errors=","$allow_undefined_props?","$validate_undefined","$defined_props","$validate_required","$validate_types","$validate_allowed","$errors","$inject","$select","$include?","$keys","$!","$define_param","$is_a?","$type_check","$>","$length","$validate_value_array","$nil?","$respond_to?","$_react_param_conversion","$<<","$each_with_index","$Native"]),function(r,u){var _=[o(r,"Hyperstack")].concat(u);return function(r,u){var _=[o(r,"Internal")].concat(u);return function(r,u){var _=[o(r,"Component")].concat(u);return function(r,$super,o){var u,_,p,d,f,h,m,y,v,g,b,k,w,x,O,H,I,C,R,S,z,q,N=i(r,null,"Validator"),j=[N].concat(o);return N.$$prototype.allow_undefined_props=N.$$prototype.rules=N.$$prototype.errors=$,N.$attr_accessor("errors"),N.$attr_reader("props_wrapper"),N.$private("errors","props_wrapper"),e.def(N,"$copy",u=function(e){var t,n=this;return s(a(j,"Validator").$new(e),"tap",[],((t=function(e){var n,r=null==t.$$s?this:t.$$s;return null==e&&(e=$),s(["@allow_undefined_props","@rules","@errors"],"each",[],((n=function(t){var r=null==n.$$s?this:n.$$s;return null==t&&(t=$),e.$instance_variable_set(t,r.$instance_variable_get(t).$dup())}).$$s=r,n.$$arity=1,n))}).$$s=n,t.$$arity=1,t))},u.$$arity=1),e.def(N,"$initialize",_=function(e){var t=this;return null==e&&(e=a(j,"Class").$new(a(j,"PropsWrapper"))),t.props_wrapper=e},_.$$arity=-1),e.defs(N,"$build",p=function(){var e=p.$$p,t=e||$,n=this;return e&&(p.$$p=null),e&&(p.$$p=null),s(n.$new(),"build",[],t.$to_proc())},p.$$arity=0),e.def(N,"$build",d=function(){var e=d.$$p,t=e||$,n=this;return e&&(d.$$p=null),e&&(d.$$p=null),s(n,"instance_eval",[],t.$to_proc()),n},d.$$arity=0),e.def(N,"$requires",f=function(n,r){var a=this,o=$;return null==r&&(r=l([],{})),o=["required",!0],s(r,"[]=",e.to_a(o)),o[t(o.length,1)],a.$define_rule(n,r)},f.$$arity=-2),e.def(N,"$optional",h=function(n,r){var a=this,o=$;return null==r&&(r=l([],{})),o=["required",!1],s(r,"[]=",e.to_a(o)),o[t(o.length,1)],a.$define_rule(n,r)},h.$$arity=-2),e.def(N,"$event",m=function(n){var r=this,o=$;return o=[n,r.$coerce_native_hash_values(l(["default","type","allow_nil"],{"default":$,type:a(j,"Proc"),allow_nil:!0}))],s(r.$rules(),"[]=",e.to_a(o)),o[t(o.length,1)]},m.$$arity=1),e.def(N,"$all_other_params",y=function(e){var t,n=this;return n.allow_undefined_props=!0,s(n.$props_wrapper(),"define_all_others",[e],((t=function(e){var n,r=null==t.$$s?this:t.$$s;return null==e&&(e=$),s(e,"reject",[],((n=function(e,t){var r=null==n.$$s?this:n.$$s;return null==e&&(e=$),null==t&&(t=$),r.$rules()["$[]"](e)}).$$s=r,n.$$arity=2,n))}).$$s=n,t.$$arity=1,t))},y.$$arity=1),e.def(N,"$validate",v=function(n){var r,a=this,o=$;return o=[[]],s(a,"errors=",e.to_a(o)),o[t(o.length,1)],c(a["$allow_undefined_props?"]())||a.$validate_undefined(n),n=a.$coerce_native_hash_values(a.$defined_props(n)),a.$validate_required(n),s(n,"each",[],((r=function(e,t){var n=null==r.$$s?this:r.$$s;return null==e&&(e=$),null==t&&(t=$),n.$validate_types(e,t),n.$validate_allowed(e,t)}).$$s=a,r.$$arity=2,r)),a.$errors()},v.$$arity=1),e.def(N,"$default_props",g=function(){var n,r,a=this;return s(s(a.$rules(),"select",[],((n=function(e,t){null==n.$$s||n.$$s;return null==e&&(e=$),null==t&&(t=$),t.$keys()["$include?"]("default")}).$$s=a,n.$$arity=2,n)),"inject",[l([],{})],((r=function(n,a){null==r.$$s||r.$$s;var o,i,l=$;return null==n&&(n=$),null==a&&(a=$),i=a,l=[null==(o=e.to_ary(i))[0]?$:o[0],(null==o[1]?$:o[1])["$[]"]("default")],s(n,"[]=",e.to_a(l)),l[t(l.length,1)],n}).$$s=a,r.$$arity=2,r.$$has_top_level_mlhs_arg=!0,r))},g.$$arity=0),N.$private(),e.def(N,"$defined_props",b=function(e){var t,n=this;return s(e,"select",[],((t=function(e){var n=null==t.$$s?this:t.$$s;return null==e&&(e=$),n.$rules().$keys()["$include?"](e)}).$$s=n,t.$$arity=1,t))},b.$$arity=1),e.def(N,"$allow_undefined_props?",k=function(){return this.allow_undefined_props["$!"]()["$!"]()},k.$$arity=0),e.def(N,"$rules",w=function(){var e=this,t=$;return e.rules=c(t=e.rules)?t:l(["children"],{children:l(["required"],{required:!1})})},w.$$arity=0),e.def(N,"$define_rule",x=function(n,r){var a=this,o=$;return null==r&&(r=l([],{})),o=[n,a.$coerce_native_hash_values(r)],s(a.$rules(),"[]=",e.to_a(o)),o[t(o.length,1)],a.$props_wrapper().$define_param(n,r["$[]"]("type"),r["$[]"]("alias"))},x.$$arity=-2),e.def(N,"$errors",O=function(){var e=this,t=$;return e.errors=c(t=e.errors)?t:[]},O.$$arity=0),e.def(N,"$validate_types",H=function(e,t){var r=this,o=$,i=$;return c(o=r.$rules()["$[]"](e)["$[]"]("type"))?c(o["$is_a?"](a(j,"Array"))["$!"]())?(i=r.$rules()["$[]"](e)["$[]"]("allow_nil")["$!"]()["$!"](),r.$type_check("`"+e+"`",t,o,i)):c(n(o.$length(),0))?r.$validate_value_array(e,t):(i=r.$rules()["$[]"](e)["$[]"]("allow_nil")["$!"]()["$!"](),r.$type_check("`"+e+"`",t,a(j,"Array"),i)):$},H.$$arity=2),e.def(N,"$type_check",I=function(e,t,n,r){var a=this,o=$,i=$;return c(c(o=r)?t["$nil?"]():o)?$:c(t["$is_a?"](n))?$:c(c(i=n["$respond_to?"]("_react_param_conversion"))?n.$_react_param_conversion(t,"validate_only"):i)?$:a.$errors()["$<<"]("Provided prop "+e+" could not be converted to "+n)},I.$$arity=4),e.def(N,"$validate_allowed",C=function(e,t){var n=this,r=$;return c(r=n.$rules()["$[]"](e)["$[]"]("values"))?c(r["$include?"](t))?$:n.$errors()["$<<"]("Value `"+t+"` for prop `"+e+"` is not an allowed value"):$},C.$$arity=2),e.def(N,"$validate_required",R=function(e){var n,r=this;return s(t(r.$rules().$keys(),e.$keys()),"each",[],((n=function(e){var t=null==n.$$s?this:n.$$s;return null==e&&(e=$),c(t.$rules()["$[]"](e)["$[]"]("required"))?t.$errors()["$<<"]("Required prop `"+e+"` was not specified"):$}).$$s=r,n.$$arity=1,n))},R.$$arity=1),e.def(N,"$validate_undefined",S=function(e){var n,r=this;return s(t(e.$keys(),r.$rules().$keys()),"each",[],((n=function(e){var t=null==n.$$s?this:n.$$s;return null==e&&(e=$),t.$errors()["$<<"]("Provided prop `"+e+"` not specified in spec")}).$$s=r,n.$$arity=1,n))},S.$$arity=1),e.def(N,"$validate_value_array",z=function(t,n){var r,o=this,i=$,l=$;try{return i=o.$rules()["$[]"](t)["$[]"]("type"),l=o.$rules()["$[]"](t)["$[]"]("allow_nil")["$!"]()["$!"](),s(n,"each_with_index",[],((r=function(e,n){var a=null==r.$$s?this:r.$$s;return null==e&&(e=$),null==n&&(n=$),a.$type_check("`"+t+"`["+n+"]",a.$Native(e),i["$[]"](0),l)}).$$s=o,r.$$arity=2,r))}catch(c){if(!e.rescue(c,[a(j,"NoMethodError")]))throw c;try{return o.$errors()["$<<"]("Provided prop `"+t+"` was not an Array")}finally{e.pop_exception()}}},z.$$arity=2),e.def(N,"$coerce_native_hash_values",q=function(n){var r,a=this;return s(n,"each",[],((r=function(a,o){var i=null==r.$$s?this:r.$$s,l=$;return null==a&&(a=$),null==o&&(o=$),l=[a,i.$Native(o)],s(n,"[]=",e.to_a(l)),l[t(l.length,1)]}).$$s=a,r.$$arity=2,r))},q.$$arity=1),$&&"coerce_native_hash_values"}(_[0],0,_)}(_[0],_)}(_[0],_)}(r[0],r)},Opal.modules["hyperstack/ext/component/string"]=function(e){e.top;var t=[],n=e.nil,r=(e.$$$,e.$$,e.klass);return function(t,$super,$){var a,o=r(t,null,"String");[o].concat($);return e.def(o,"$event_camelize",a=function(){return this.replace(/(^|_)([^_]+)/g,function(e,t,n){return!0?n.substr(0,1).toUpperCase()+n.substr(1):n})},a.$$arity=0),n&&"event_camelize"}(t[0],0,t)},Opal.modules["hyperstack/component/element"]=function(e){var t=e.top,n=[],r=e.nil,$=e.$$$,a=e.$$,o=e.module,i=e.klass,s=e.truthy,l=e.hash2,c=e.send,u=e.alias,_=e.hash;return e.add_stubs(["$require","$attr_reader","$attr_accessor","$new","$is_a?","$!","$empty?","$raise","$==","$convert_string","$set_native_attributes","$_update_ref","$[]","$properties","$element_type","$ref","$dom_node","$each","$!=","$strip","$merge_event_prop!","$to_proc","$shallow_to_n","$render","$convert_props","$block","$delete","$private","$=~","$merge_component_event_prop!","$gsub","$include?","$event_camelize","$merge_built_in_event_prop!","$key_code","$instance_variable_get","$merge!","$Array","$ignore_bulk_updates"]),t.$require("hyperstack/ext/component/string"),function(t,n){var p=[o(t,"Hyperstack")].concat(n);return function(t,n){var p=[o(t,"Component")].concat(n);return function(t,$super,n){var o,p,d,f,h,m,y,v,g,b,k,w,x,O,H=i(t,null,"Element"),I=[H].concat(n);return H.$$prototype.props=H.$$prototype._props_as_hash=H.$$prototype._child_element=H.$$prototype._ref=H.$$prototype.properties=r,H.$attr_reader("type"),H.$attr_reader("element_type"),H.$attr_reader("properties"),H.$attr_reader("block"),H.$attr_reader("to_n"),H.$attr_accessor("waiting_on_resources"),e.def(H,"$set_native_attributes",o=function(e){var t=this;return t.key=e.key,t.props=e.props,t.ref=e.ref,t.type=e.type,t._owner=e._owner,t._props_as_hash=a(I,"Hash").$new(t.props)},o.$$arity=1),e.def(H,"$props",p=function(){return this._props_as_hash},p.$$arity=0),e.def(H,"$convert_string",d=function(e,t,n,$){var o=this,i=r;return s(e["$is_a?"])&&s(e["$is_a?"](a(I,"String")))?(s(s(i=n["$empty?"]()["$!"]())?i:$)&&o.$raise("Internal Error Element.new called with string, but non-nil props or block"),t["$=="]("wrap_child")?React.createElement(React.Fragment,null,[e]):React.createElement(e,null)):e},d.$$arity=4),e.def(H,"$initialize",f=function(t,n,$,o){var i=this,c=r;null==n&&(n=r),null==$&&($=l([],{})),null==o&&(o=r);try{return t=i.$convert_string(t,n,$,o),n["$=="]("wrap_child")||(i.element_type=n),i.properties=s(c=s(void 0===$)?r:$)?c:l([],{}),i.block=o,i.$$typeof=t.$$typeof,i.to_n=i,i.$set_native_attributes(t)}catch(u){if(!e.rescue(u,[a(I,"Exception")]))throw u;try{return r}finally{e.pop_exception()}}},f.$$arity=-2),e.def(H,"$children",h=function(){return this.props.children},h.$$arity=0),e.def(H,"$_update_ref",m=function(e){var t=this;return t._ref=e,s(t._child_element)?t._child_element.$_update_ref(e):r},m.$$arity=1),e.def(H,"$ref",y=function(){var e=this;return s(e._ref)?e._ref:(s(e.$properties()["$[]"]("ref"))&&e.$raise("The instance of "+e.$element_type()+" has not been mounted yet"),e.$raise("Attempt to get a ref on "+e.$element_type()+" which is a static component."))},y.$$arity=0),e.def(H,"$dom_node",v=function(){var e=this;return s("function"==typeof e.$ref().$dom_node)?e.$ref().$dom_node():e.$ref()},v.$$arity=0),e.def(H,"$on",g=function(){var t,n,$=g.$$p,a=$||r,o=this,i=r;return $&&(g.$$p=null),$&&(g.$$p=null),t=e.slice.call(arguments,0,arguments.length),i=!1,c(t,"each",[],((n=function(e){var t=null==n.$$s?this:n.$$s,$=r;return null==e&&(e=r),s(s($=e)?e.$strip()["$!="](""):$)?(c(t,"merge_event_prop!",[e],a.$to_proc()),i=!0):r}).$$s=o,n.$$arity=1,n)),s(i)&&o.$set_native_attributes(React.cloneElement(o,o.properties.$shallow_to_n())),o},g.$$arity=-1),e.def(H,"$render",b=function(){var t,n,r=this;return t=e.slice.call(arguments,0,arguments.length),s((n=t)["$empty?"]())?$($($(a(I,"Hyperstack"),"Internal"),"Component"),"RenderingContext").$render(r):(n=c($($($(a(I,"Hyperstack"),"Internal"),"Component"),"ReactWrapper"),"convert_props",[r.$element_type(),r.properties].concat(e.to_a(n))),r._child_element=$($($(a(I,"Hyperstack"),"Internal"),"Component"),"RenderingContext").$render(a(I,"Element").$new(React.cloneElement(r,n.$shallow_to_n()),r.$element_type(),n,r.$block())))},b.$$arity=-1),e.def(H,"$~",k=function(){var e=this;return $($($(a(I,"Hyperstack"),"Internal"),"Component"),"RenderingContext").$delete(e)},k.$$arity=0),u(H,"as_node","~"),u(H,"delete","~"),H.$private(),e.def(H,"$merge_event_prop!",w=function(t){var n,o=w.$$p,i=o||r,l=this,u=r;return o&&(w.$$p=null),o&&(w.$$p=null),s(t["$=~"](/^<(.+)>$/))?c(l,"merge_component_event_prop!",[t.$gsub(/^<(.+)>$/,"\\1")],i.$to_proc()):s($(a(I,"Event"),"BUILT_IN_EVENTS")["$include?"](u="on"+t.$event_camelize()))?c(l,"merge_built_in_event_prop!",[u],i.$to_proc()):t["$=="]("enter")?c(l,"merge_built_in_event_prop!",["onKeyDown"],((n=function(t){null==n.$$s||n.$$s;return null==t&&(t=r),t.$key_code()["$=="](13)?e.yield1(i,t):r}).$$s=l,n.$$arity=1,n)):s(l.$element_type().$instance_variable_get("@native_import"))?c(l,"merge_component_event_prop!",[u],i.$to_proc()):c(l,"merge_component_event_prop!",["on_"+t],i.$to_proc())},w.$$arity=1),e.def(H,"$merge_built_in_event_prop!",x=function(t){var n=x.$$p,o=n||r,i=this;return n&&(x.$$p=null),n&&(x.$$p=null),i.properties["$merge!"](_(t,function(){var t,n=arguments[0];return 0!=arguments.length&&n.nativeEvent?arguments.length>1?(t=Array.prototype.slice.call(arguments).slice(1,arguments.length),c($($(a(I,"Internal"),"State"),"Mapper"),"ignore_bulk_updates",[a(I,"Event").$new(n)].concat(e.to_a(t)),o.$to_proc())):c($($(a(I,"Internal"),"State"),"Mapper"),"ignore_bulk_updates",[a(I,"Event").$new(n)],o.$to_proc()):e.yieldX(o,e.to_a(i.$Array(arguments)))}))},x.$$arity=1),e.def(H,"$merge_component_event_prop!",O=function(t){var n=O.$$p,$=n||r,a=this;return n&&(O.$$p=null),a.properties["$merge!"](_(t,function(){return e.yieldX($,e.to_a(a.$Array(arguments)))}))},O.$$arity=1),r&&"merge_component_event_prop!"}(p[0],0,p)}(p[0],p)}(n[0],n)},Opal.modules["hyperstack/component/native_library"]=function(Opal){function $rb_plus(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var self=Opal.top,$nesting=[],nil=Opal.nil,$$$=Opal.$$$,$$=Opal.$$,$module=Opal.module,$klass=Opal.klass,$send=Opal.send,$truthy=Opal.truthy,$range=Opal.range,$send2=Opal.send2,$find_super=Opal.find_super;return Opal.add_stubs(["$each","$lookup_native_name","$create_component_wrapper","$create_library_wrapper","$raise","$name","$scope_native_name","$+","$downcase","$[]","$import_const_from_native","$const_defined?","$const_get","$render","$to_proc","$private","$native_react_component?","$const_set","$imports","$new","$class_eval","$include"]),function($base,$parent_nesting){var self=$module($base,"Hyperstack"),$nesting=[self].concat($parent_nesting);return function($base,$parent_nesting){var self=$module($base,"Component"),$nesting=[self].concat($parent_nesting);return function($base,$super,$parent_nesting){var self=$klass($base,$super,"NativeLibrary"),$nesting=[self].concat($parent_nesting);return function(self,$parent_nesting){var $nesting=[self].concat($parent_nesting),$imports$1,$rename$2,$import_const_from_native$4,$const_missing$5,$method_missing$6,$lookup_native_name$7,$scope_native_name$8,$create_component_wrapper$9,$create_library_wrapper$11;Opal.def(self,"$imports",$imports$1=function(e){var t=this;return t.__hyperstack_component_native_prefix=e+".",t},$imports$1.$$arity=1),Opal.def(self,"$rename",$rename$2=function(e){var t,n=this;return $send(e,"each",[],((t=function(e,n){var r=null==t.$$s?this:t.$$s,$=nil,a=nil;return null==e&&(e=nil),null==n&&(n=nil),$=r.$lookup_native_name(e),$truthy(r.$lookup_native_name(e))?$truthy(a=r.$create_component_wrapper(r,$,n))?a:r.$create_library_wrapper(r,$,n):r.$raise("class "+r.$name()+" < Hyperstack::Component::NativeLibrary could not import "+e+". Native value "+r.$scope_native_name(e)+" is undefined.")}).$$s=n,t.$$arity=2,t))},$rename$2.$$arity=1),Opal.def(self,"$import_const_from_native",$import_const_from_native$4=function(e,t,n){var r=this,$=nil,a=nil,o=nil,i=nil,s=nil;return $=$truthy(a=r.$lookup_native_name(t))?a:r.$lookup_native_name($rb_plus(t["$[]"](0).$downcase(),t["$[]"]($range(1,-1,!1)))),$truthy(o=$)?$truthy(i=r.$create_component_wrapper(e,$,t))?i:$truthy(s=n)?r.$create_library_wrapper(e,$,t):s:o},$import_const_from_native$4.$$arity=3),Opal.def(self,"$const_missing",$const_missing$5=function(e){var t=$const_missing$5.$$p,n=this,r=nil;return t&&($const_missing$5.$$p=null),$truthy(r=n.$import_const_from_native(n,e,!0))?r:$send2(n,$find_super(n,"const_missing",$const_missing$5,!1,!0),"const_missing",[e],t)},$const_missing$5.$$arity=1),Opal.def(self,"$method_missing",$method_missing$6=function(e){var t,n=$method_missing$6.$$p,r=n||nil,$=this,a=nil,o=nil;return n&&($method_missing$6.$$p=null),n&&($method_missing$6.$$p=null),t=Opal.slice.call(arguments,1,arguments.length),$truthy($["$const_defined?"](e,!1))&&(a=$.$const_get(e)),a=$truthy(o=a)?o:$.$import_const_from_native($,e,!1),$truthy(a)||$.$raise("could not import a react component named: "+$.$scope_native_name(e)),$send($$$($$$($$$($$($nesting,"Hyperstack"),"Internal"),"Component"),"RenderingContext"),"render",[a].concat(Opal.to_a(t)),r.$to_proc())},$method_missing$6.$$arity=-2),self.$private(),Opal.def(self,"$lookup_native_name",$lookup_native_name$7=function $$lookup_native_name(js_name){var self=this,native_name=nil;try{return native_name=self.$scope_native_name(js_name),eval(native_name)!==undefined&&native_name}catch($err){if(!Opal.rescue($err,[$$($nesting,"Exception")]))throw $err;try{return nil}finally{Opal.pop_exception()}}},$lookup_native_name$7.$$arity=1),Opal.def(self,"$scope_native_name",$scope_native_name$8=function(e){var t=this;return null==t.__hyperstack_component_native_prefix&&(t.__hyperstack_component_native_prefix=nil),""+t.__hyperstack_component_native_prefix+e},$scope_native_name$8.$$arity=1),Opal.def(self,"$create_component_wrapper",$create_component_wrapper$9=function(e,t,n){var r,$=this,a=nil;return $truthy($$$($$$($$$($$($nesting,"Hyperstack"),"Internal"),"Component"),"ReactWrapper")["$native_react_component?"](t))?(a=e.$const_set(n,$$($nesting,"Class").$new($$($nesting,"NativeLibrary")).$imports(t)),$send(a,"class_eval",[],((r=function(){var e=null==r.$$s?this:r.$$s;return e.$include($$($nesting,"Component")),e.$imports(t)}).$$s=$,r.$$arity=0,r)),a):nil},$create_component_wrapper$9.$$arity=3),Opal.def(self,"$create_library_wrapper",$create_library_wrapper$11=function(e,t,n){return e.$const_set(n,$$($nesting,"Class").$new($$($nesting,"NativeLibrary")).$imports(t))},$create_library_wrapper$11.$$arity=3)}(Opal.get_singleton_class(self),$nesting),self.$imports("NativeLibrary")}($nesting[0],null,$nesting)}($nesting[0],$nesting)}($nesting[0],$nesting)},Opal.modules["hyperstack/internal/component/react_wrapper"]=function(Opal){function $rb_minus(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function $rb_plus(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var self=Opal.top,$nesting=[],nil=Opal.nil,$$$=Opal.$$$,$$=Opal.$$,$module=Opal.module,$klass=Opal.klass,$class_variable_set=Opal.class_variable_set,$hash2=Opal.hash2,$send=Opal.send,$class_variable_get=Opal.class_variable_get,$truthy=Opal.truthy,$lambda=Opal.lambda,$range=Opal.range;return Opal.add_stubs(["$require","$instance_variable_set","$[]=","$-","$raise","$stateless?","$eval_native_react_component","$add_after_error_hook_to_native","$[]","$!","$method_defined?","$respond_to?","$native_mixins","$to_n","$static_call_backs","$new","$name","$default_props","$prop_types","$callbacks?","$<<","$is_a?","$create_native_react_class","$include?","$_update_ref","$convert_props","$shallow_to_n","$flatten","$call","$each","$split","$==","$merge","$lower_camelize","$join","$to_key","$ignore_mutations","$const_defined?","$gsub","$html_attr?","$private","$first","$concat","$map","$+","$upcase"]),self.$require("hyperstack/component/native_library"),function($base,$parent_nesting){var self=$module($base,"Hyperstack"),$nesting=[self].concat($parent_nesting);return function($base,$parent_nesting){var self=$module($base,"Internal"),$nesting=[self].concat($parent_nesting);return function($base,$parent_nesting){var self=$module($base,"Component"),$nesting=[self].concat($parent_nesting);return function($base,$super,$parent_nesting){var self=$klass($base,$super,"ReactWrapper"),$nesting=[self].concat($parent_nesting),$ReactWrapper_stateless$ques$1,$ReactWrapper_import_native_component$2,$ReactWrapper_eval_native_react_component$3,$ReactWrapper_native_react_component$ques$4,$ReactWrapper_add_after_error_hook$5,$ReactWrapper_add_after_error_hook_to_native$6,$ReactWrapper_create_native_react_class$7,$ReactWrapper_create_element$8,$ReactWrapper_clear_component_class_cache$10,$ReactWrapper_convert_props$11,$ReactWrapper_lower_camelize$22;return $class_variable_set($nesting[0],"@@component_classes",$hash2([],{})),Opal.defs(self,"$stateless?",$ReactWrapper_stateless$ques$1=function(e){return"symbol"==typeof e||"function"==typeof e&&!(e.prototype&&e.prototype.isReactComponent)},$ReactWrapper_stateless$ques$1.$$arity=1),Opal.defs(self,"$import_native_component",$ReactWrapper_import_native_component$2=function(e,t){var n=nil;return e.$instance_variable_set("@native_import",!0),n=[e,t],$send($class_variable_get($nesting[0],"@@component_classes",!1),"[]=",Opal.to_a(n)),n[$rb_minus(n.length,1)]},$ReactWrapper_import_native_component$2.$$arity=2),Opal.defs(self,"$eval_native_react_component",$ReactWrapper_eval_native_react_component$3=function $$eval_native_react_component(name){var self=this,component=nil,is_component_class=nil,$ret_or_1=nil,$ret_or_2=nil,has_render_method=nil,$ret_or_3=nil,$ret_or_4=nil;return component=eval(name),$truthy(component===undefined)&&self.$raise(name+" is not defined"),$truthy(component.__esModule)&&(component=component["default"]),is_component_class=$truthy($ret_or_1=component.prototype!==undefined)?$truthy($ret_or_2=!!component.prototype.isReactComponent)?$ret_or_2:!!component.prototype.render:$ret_or_1,has_render_method="function"==typeof component.render,$truthy($truthy($ret_or_3=$truthy($ret_or_4=is_component_class)?$ret_or_4:self["$stateless?"](component))?$ret_or_3:has_render_method)||self.$raise("does not appear to be a native react component"),component},$ReactWrapper_eval_native_react_component$3.$$arity=1),Opal.defs(self,"$native_react_component?",$ReactWrapper_native_react_component$ques$4=function(e){var t=this;null==e&&(e=nil);try{return!!$truthy(e)&&(t.$eval_native_react_component(e),!0)}catch(n){if(!Opal.rescue(n,[$$($nesting,"Exception")]))throw n;try{return!1}finally{Opal.pop_exception()}}},$ReactWrapper_native_react_component$ques$4.$$arity=-1),Opal.defs(self,"$add_after_error_hook",$ReactWrapper_add_after_error_hook$5=function(e){return this.$add_after_error_hook_to_native($class_variable_get($nesting[0],"@@component_classes",!1)["$[]"](e))},$ReactWrapper_add_after_error_hook$5.$$arity=1),Opal.defs(self,"$add_after_error_hook_to_native",$ReactWrapper_add_after_error_hook_to_native$6=function(e){if(!$truthy(e))return nil;e.prototype.componentDidCatch=function(e,t){this.__opalInstanceSyncSetState=!1,this.__opalInstance.$component_did_catch(e,Opal.Hash.$new(t))}},$ReactWrapper_add_after_error_hook_to_native$6.$$arity=1),Opal.defs(self,"$create_native_react_class",$ReactWrapper_create_native_react_class$7=function(e){var t=this,n=nil,r=nil,$=nil,a=nil,o=nil,i=nil;return $truthy("undefined"==typeof createReactClass)&&t.$raise("createReactClass is undefined. Add the 'react-create-class' npm module, and import it as 'createReactClass'"),$truthy(e["$method_defined?"]("render")["$!"]())&&t.$raise("Provided class should define `render` method"),n=e["$method_defined?"]("_render_wrapper")["$!"](),r=$truthy(n)?"render":"_render_wrapper",$truthy($=$class_variable_get($nesting[0],"@@component_classes",!1)["$[]"](e))?$:(a=[e,(o=createReactClass({getInitialState:function(){return this.mixins=$truthy(e["$respond_to?"]("native_mixins"))?e.$native_mixins():[],this.statics=$truthy(e["$respond_to?"]("static_call_backs"))?e.$static_call_backs().$to_n():{},this.__opalInstanceInitializedState=!1,this.__opalInstanceSyncSetState=!0,this.__opalInstance=e.$new(this),this.__opalInstanceInitializedState=!0,this.__opalInstanceSyncSetState=!1,this.__name=e.$name(),{}},displayName:e.$name(),getDefaultProps:function(){return $truthy(e["$respond_to?"]("default_props"))?e.$default_props().$to_n():{}},propTypes:$truthy(e["$respond_to?"]("prop_types"))?e.$prop_types().$to_n():{},componentWillMount:n&&function(){e["$method_defined?"]("component_will_mount")&&(this.__opalInstanceSyncSetState=!0,this.__opalInstance.$component_will_mount(),this.__opalInstanceSyncSetState=!1)},componentDidMount:function(){this.__opalInstance.__hyperstack_component_is_mounted=!0,e["$method_defined?"]("component_did_mount")&&(this.__opalInstanceSyncSetState=!1,this.__opalInstance.$component_did_mount())},UNSAFE_componentWillReceiveProps:function(t){e["$method_defined?"]("component_will_receive_props")&&(this.__opalInstanceSyncSetState=!0,this.__opalInstance.$component_will_receive_props(Opal.Hash.$new(t)),this.__opalInstanceSyncSetState=!1)},shouldComponentUpdate:function(t,n){return!e["$method_defined?"]("should_component_update?")||(this.__opalInstanceSyncSetState=!1,this.__opalInstance["$should_component_update?"](Opal.Hash.$new(t),Opal.Hash.$new(n)))},UNSAFE_componentWillUpdate:function(t,n){e["$method_defined?"]("component_will_update")&&(this.__opalInstanceSyncSetState=!1,this.__opalInstance.$component_will_update(Opal.Hash.$new(t),Opal.Hash.$new(n)))},componentDidUpdate:function(t,n){e["$method_defined?"]("component_did_update")&&(this.__opalInstanceSyncSetState=!1,this.__opalInstance.$component_did_update(Opal.Hash.$new(t),Opal.Hash.$new(n)))},componentWillUnmount:function(){e["$method_defined?"]("component_will_unmount")&&(this.__opalInstanceSyncSetState=!1,this.__opalInstance.$component_will_unmount()),this.__opalInstance.__hyperstack_component_is_mounted=!1},render:function(){return this.__opalInstanceSyncSetState=!1,this.__opalInstance.$send(r).$to_n()}}),$truthy($truthy(i=e["$respond_to?"]("callbacks?"))?e["$callbacks?"]("after_error"):i)&&t.$add_after_error_hook_to_native(o),o)],$send($class_variable_get($nesting[0],"@@component_classes",!1),"[]=",Opal.to_a(a)),a[$rb_minus(a.length,1)])},$ReactWrapper_create_native_react_class$7.$$arity=1),Opal.defs(self,"$create_element",$ReactWrapper_create_element$8=function(e){var t,n,r=$ReactWrapper_create_element$8.$$p,$=r||nil,a=this,o=nil,i=nil,s=nil,l=nil,c=nil,u=nil,_=nil;if(r&&($ReactWrapper_create_element$8.$$p=null),r&&($ReactWrapper_create_element$8.$$p=null),t=Opal.slice.call(arguments,1,arguments.length),o=[],i=$class_variable_get($nesting[0],"@@component_classes",!1)["$[]"](e),$truthy(i))o["$<<"](i);else if($truthy(e["$is_a?"]($$($nesting,"Class"))))o["$<<"](a.$create_native_react_class(e));else if($truthy($truthy(s=$!==nil)?s:$$$($$($nesting,"Tags"),"HTML_TAGS")["$include?"](e)))o["$<<"](e);else{if($truthy(e["$is_a?"]($$($nesting,"String"))))return $$$($$$($$($nesting,"Hyperstack"),"Component"),"Element").$new(e);a.$raise(e+" not implemented")}if(l=nil,$truthy(a["$stateless?"](i))||(c=$lambda(((n=function(e){null==n.$$s||n.$$s;return null==e&&(e=nil),l.$_update_ref(e)}).$$s=a,n.$$arity=1,n))),u=$send(a,"convert_props",[e,$hash2(["ref"],{ref:c})].concat(Opal.to_a(t))),o["$<<"](u.$shallow_to_n()),$truthy($))for(var p=0,d=(_=[$.$call()].$flatten()).length;p<d;p++)o.push(_[p].$to_n());return l=$$$($$$($$($nesting,"Hyperstack"),"Component"),"Element").$new(React.createElement.apply(null,o),e,u,$)},$ReactWrapper_create_element$8.$$arity=-2),Opal.defs(self,"$clear_component_class_cache",$ReactWrapper_clear_component_class_cache$10=function(){return $class_variable_set($nesting[0],"@@component_classes",$hash2([],{}))},$ReactWrapper_clear_component_class_cache$10.$$arity=0),Opal.defs(self,"$convert_props",$ReactWrapper_convert_props$11=function(e){var t,n,r,$=this,a=nil,o=nil;return t=Opal.slice.call(arguments,1,arguments.length),a=$hash2([],{}),$send(t,"each",[],((n=function(e){var t,r=null==n.$$s?this:n.$$s,$=nil;return null==e&&(e=nil),$truthy(e["$is_a?"]($$($nesting,"String")))?($=[e,!0],$send(a,"[]=",Opal.to_a($)),$[$rb_minus($.length,1)]):$truthy(e["$is_a?"]($$($nesting,"Hash")))?$send(e,"each",[],((t=function(e,n){var r=null==t.$$s?this:t.$$s,o=nil,i=nil,s=nil;return null==e&&(e=nil),null==n&&(n=nil),$truthy(["class","className","class_name"]["$include?"](e))?$truthy(n)?($truthy(n["$is_a?"]($$($nesting,"String")))?n=n.$split(" "):$truthy(n["$is_a?"]($$($nesting,"Array"))["$!"]())&&r.$raise("The class param must be a string or array of strings"),$=["className",[].concat(Opal.to_a(a["$[]"]("className"))).concat(Opal.to_a(n))],$send(a,"[]=",Opal.to_a($)),$[$rb_minus($.length,1)]):nil:e["$=="]("style")?$truthy(n)?($truthy(n["$is_a?"]($$($nesting,"Hash"))["$!"]())&&r.$raise("The style param must be a Hash"),$=["style",($truthy(o=a["$[]"]("style"))?o:$hash2([],{})).$merge(n)],$send(a,"[]=",Opal.to_a($)),$[$rb_minus($.length,1)]):nil:$truthy($truthy(i=$$$($$$($$$($$($nesting,"Hyperstack"),"Component"),"ReactAPI"),"HASH_ATTRIBUTES")["$include?"](e))?n["$is_a?"]($$($nesting,"Hash")):i)?($=[e,($truthy(s=a["$[]"](e))?s:$hash2([],{})).$merge(n)],$send(a,"[]=",Opal.to_a($)),$[$rb_minus($.length,1)]):($=[e,n],$send(a,"[]=",Opal.to_a($)),$[$rb_minus($.length,1)])}).$$s=r,t.$$arity=2,t)):nil}).$$s=$,n.$$arity=1,n)),o=$hash2([],{}),$send(a,"each",[],((r=function(t,n){var $,i,s,l,c,u,_,p=null==r.$$s?this:r.$$s,d=nil,f=nil,h=nil;return null==t&&(t=nil),null==n&&(n=nil),$truthy(["style","dangerously_set_inner_HTML"]["$include?"](t))?(d=[p.$lower_camelize(t),n.$to_n()],$send(o,"[]=",Opal.to_a(d)),d[$rb_minus(d.length,1)]):t["$=="]("className")?(d=[t,n.$join(" ")],$send(o,"[]=",Opal.to_a(d)),d[$rb_minus(d.length,1)]):t["$=="]("key")?(d=["key",n.$to_key()],$send(o,"[]=",Opal.to_a(d)),d[$rb_minus(d.length,1)]):t["$=="]("init")?($truthy(["select","textarea"]["$include?"](e))?t="defaultValue":e["$=="]("input")&&(t=$truthy(["radio","checkbox"]["$include?"](a["$[]"]("type")))?"defaultChecked":"defaultValue"),d=[t,n],$send(o,"[]=",Opal.to_a(d)),d[$rb_minus(d.length,1)]):t["$=="]("ref")?$truthy(n)?($truthy(n["$respond_to?"]("call"))||p.$raise("The ref and dom params must be given a Proc.\nIf you want to capture the ref in an instance variable use the `set` method.\nFor example `ref: set(:TheRef)` will capture assign the ref to `@TheRef`\n"),$truthy(n.__hyperstack_component_ref_is_already_wrapped)||(f=n,(n=function(e){null!==e&&e.__opalInstance!==undefined&&null!==e.__opalInstance?$send($$$($$$($$$($$($nesting,"Hyperstack"),"Internal"),"State"),"Mapper"),"ignore_mutations",[],(($=function(){null==$.$$s||$.$$s;return f.$call(e.__opalInstance)}).$$s=p,$.$$arity=0,$)):null!==e&&ReactDOM.findDOMNode!==undefined&&e.nodeType===undefined?$send($$$($$$($$$($$($nesting,"Hyperstack"),"Internal"),"State"),"Mapper"),"ignore_mutations",[],((i=function(){null==i.$$s||i.$$s;return f.$call(ReactDOM.findDOMNode(e))}).$$s=p,i.$$arity=0,i)):null!==e&&$send($$$($$$($$$($$($nesting,"Hyperstack"),"Internal"),"State"),"Mapper"),"ignore_mutations",[],((s=function(){null==s.$$s||s.$$s;return f.$call(e)}).$$s=p,s.$$arity=0,s))}).__hyperstack_component_ref_is_already_wrapped=!0),d=[t,n],$send(o,"[]=",Opal.to_a(d)),
d[$rb_minus(d.length,1)]):nil:t["$=="]("jq_ref")?($truthy(n["$respond_to?"]("call"))||p.$raise("The ref and dom params must be given a Proc.\nIf you want to capture the dom node in an instance variable use the `set` method.\nFor example `dom: set(:DomNode)` will assign the dom node to `@DomNode`\n"),$truthy($$($nesting,"Module")["$const_defined?"]("Element"))||p.$raise("You must include 'hyperstack/component/jquery' in your manifest to use the `dom` reference key.\nFor example if using rails include `config.import 'hyperstack/component/jquery', client_only: true`in your config/initializer/hyperstack.rb file"),d=["ref",function(e){null!==e&&e.__opalInstance!==undefined&&null!==e.__opalInstance?$send($$$($$$($$$($$($nesting,"Hyperstack"),"Internal"),"State"),"Mapper"),"ignore_mutations",[],((l=function(){null==l.$$s||l.$$s;return n.$call($$$("::","Element")["$[]"](e.__opalInstance))}).$$s=p,l.$$arity=0,l)):null!==e&&ReactDOM.findDOMNode!==undefined&&e.nodeType===undefined?$send($$$($$$($$$($$($nesting,"Hyperstack"),"Internal"),"State"),"Mapper"),"ignore_mutations",[],((c=function(){null==c.$$s||c.$$s;return n.$call($$$("::","Element")["$[]"](ReactDOM.findDOMNode(e)))}).$$s=p,c.$$arity=0,c)):null!==e&&$send($$$($$$($$$($$($nesting,"Hyperstack"),"Internal"),"State"),"Mapper"),"ignore_mutations",[],((u=function(){null==u.$$s||u.$$s;return n.$call($$$("::","Element")["$[]"](e))}).$$s=p,u.$$arity=0,u))}],$send(o,"[]=",Opal.to_a(d)),d[$rb_minus(d.length,1)]):$truthy($truthy(h=$$$($$$($$$($$($nesting,"Hyperstack"),"Component"),"ReactAPI"),"HASH_ATTRIBUTES")["$include?"](t))?n["$is_a?"]($$($nesting,"Hash")):h)?$send(n,"each",[],((_=function(e,n){null==_.$$s||_.$$s;return null==e&&(e=nil),null==n&&(n=nil),d=[t+"-"+e.$gsub(/__|_/,$hash2(["__","_"],{__:"_",_:"-"})),n.$to_n()],$send(o,"[]=",Opal.to_a(d)),d[$rb_minus(d.length,1)]}).$$s=p,_.$$arity=2,_)):(d=[$truthy($$$($$$($$($nesting,"Hyperstack"),"Component"),"ReactAPI")["$html_attr?"](p.$lower_camelize(t)))?p.$lower_camelize(t):t,n],$send(o,"[]=",Opal.to_a(d)),d[$rb_minus(d.length,1)])}).$$s=$,r.$$arity=2,r)),o},$ReactWrapper_convert_props$11.$$arity=-2),self.$private(),Opal.defs(self,"$lower_camelize",$ReactWrapper_lower_camelize$22=function(e){var t,n=this,r=nil;return[(r=e.$split("_")).$first()].$concat($send(r["$[]"]($range(1,-1,!1)),"map",[],(t=function(e){null==t.$$s||t.$$s;return null==e&&(e=nil),$rb_plus(e["$[]"](0).$upcase(),e["$[]"]($range(1,-1,!1)))},t.$$s=n,t.$$arity=1,t))).$join("")},$ReactWrapper_lower_camelize$22.$$arity=1),nil&&"lower_camelize"}($nesting[0],null,$nesting)}($nesting[0],$nesting)}($nesting[0],$nesting)}($nesting[0],$nesting)},Opal.modules["hyperstack/ext/component/hash"]=function(e){e.top;var t=[],n=e.nil,r=(e.$$$,e.$$,e.klass),$=e.send;return e.add_stubs(["$each"]),function(t,$super,a){var o,i=r(t,null,"Hash");[i].concat(a);return e.def(i,"$shallow_to_n",o=function(){var e,t=this,r=n;return r={},$(t,"each",[],((e=function(t,$){null==e.$$s||e.$$s;return null==t&&(t=n),null==$&&($=n),r[t]=$}).$$s=t,e.$$arity=2,e)),r},o.$$arity=0),n&&"shallow_to_n"}(t[0],0,t)},Opal.modules["active_support/core_ext/kernel/singleton_class"]=function(e){e.top;var t=[],n=e.nil,r=(e.$$$,e.$$,e.module),$=e.send;return e.add_stubs(["$class_eval","$singleton_class","$to_proc"]),function(t,a){var o,i=r(t,"Kernel");[i].concat(a);return e.def(i,"$class_eval",o=function(){var t,r=o.$$p,a=r||n,i=this;return r&&(o.$$p=null),r&&(o.$$p=null),t=e.slice.call(arguments,0,arguments.length),$(i.$singleton_class(),"class_eval",e.to_a(t),a.$to_proc())},o.$$arity=-1),n&&"class_eval"}(t[0],t)},Opal.modules["active_support/core_ext/module/remove_method"]=function(e){e.top;var t=[],n=e.nil,r=(e.$$$,e.$$,e.klass),$=e.truthy,a=e.send;return e.add_stubs(["$method_defined?","$private_method_defined?","$undef_method","$remove_possible_method","$define_method","$to_proc"]),function(t,$super,o){var i,s,l=r(t,null,"Module");[l].concat(o);return e.def(l,"$remove_possible_method",i=function(e){var t=this,r=n;return $($(r=t["$method_defined?"](e))?r:t["$private_method_defined?"](e))?t.$undef_method(e):n},i.$$arity=1),e.def(l,"$redefine_method",s=function(e){var t=s.$$p,r=t||n,$=this;return t&&(s.$$p=null),t&&(s.$$p=null),$.$remove_possible_method(e),a($,"define_method",[e],r.$to_proc())},s.$$arity=1),n&&"redefine_method"}(t[0],0,t)},Opal.modules["active_support/core_ext/array/extract_options"]=function(e){e.top;var t=[],n=e.nil,r=(e.$$$,e.$$),$=e.klass,a=e.truthy,o=e.hash2;return e.add_stubs(["$instance_of?","$is_a?","$last","$extractable_options?","$pop"]),function(t,$super,n){var a,o=$(t,null,"Hash"),i=[o].concat(n);e.def(o,"$extractable_options?",a=function(){return this["$instance_of?"](r(i,"Hash"))},a.$$arity=0)}(t[0],0,t),function(t,$super,i){var s,l=$(t,null,"Array"),c=[l].concat(i);return e.def(l,"$extract_options!",s=function(){var e=this,t=n;return a(a(t=e.$last()["$is_a?"](r(c,"Hash")))?e.$last()["$extractable_options?"]():t)?e.$pop():o([],{})},s.$$arity=0),n&&"extract_options!"}(t[0],0,t)},Opal.modules["active_support/core_ext/class/attribute"]=function(e){var t=e.top,n=[],r=e.nil,$=(e.$$$,e.$$,e.klass),a=e.truthy,o=e.send;return e.add_stubs(["$require","$extract_options!","$fetch","$each","$define_singleton_method","$!","$public_send","$class_eval","$singleton_class","$remove_possible_method","$define_method","$singleton_class?","$instance_variable_defined?","$instance_variable_get","$send","$class","$attr_writer","$private","$respond_to?","$!=","$first","$ancestors"]),t.$require("active_support/core_ext/kernel/singleton_class"),t.$require("active_support/core_ext/module/remove_method"),t.$require("active_support/core_ext/array/extract_options"),function(t,$super,n){var i,s,l=$(t,null,"Class");[l].concat(n);return e.def(l,"$class_attribute",i=function(){var t,n,$,i=this,s=r,l=r,c=r,u=r,_=r,p=r;return t=e.slice.call(arguments,0,arguments.length),s=(n=t)["$extract_options!"](),l=a(c=s.$fetch("instance_accessor",!0))?s.$fetch("instance_reader",!0):c,u=a(_=s.$fetch("instance_accessor",!0))?s.$fetch("instance_writer",!0):_,p=s.$fetch("instance_predicate",!0),o(n,"each",[],(($=function(e){var t,n,i,s,c,_=null==$.$$s?this:$.$$s,d=r;return null==e&&(e=r),o(_,"define_singleton_method",[e],((t=function(){null==t.$$s||t.$$s;return r}).$$s=_,t.$$arity=0,t)),a(p)&&o(_,"define_singleton_method",[e+"?"],((n=function(){return(null==n.$$s?this:n.$$s).$public_send(e)["$!"]()["$!"]()}).$$s=_,n.$$arity=0,n)),d="@"+e,o(_,"define_singleton_method",[e+"="],((i=function(t){var n,$,s=null==i.$$s?this:i.$$s;return null==t&&(t=r),o(s.$singleton_class(),"class_eval",[],((n=function(){var r,$=null==n.$$s?this:n.$$s;return $.$remove_possible_method(e),o($,"define_method",[e],((r=function(){null==r.$$s||r.$$s;return t}).$$s=$,r.$$arity=0,r))}).$$s=s,n.$$arity=0,n)),a(s["$singleton_class?"]())&&o(s,"class_eval",[],(($=function(){var t,n=null==$.$$s?this:$.$$s;return n.$remove_possible_method(e),o(n,"define_method",[e],((t=function(){var n=null==t.$$s?this:t.$$s;return a(n["$instance_variable_defined?"](d))?n.$instance_variable_get(d):n.$singleton_class().$send(e)}).$$s=n,t.$$arity=0,t))}).$$s=s,$.$$arity=0,$)),t}).$$s=_,i.$$arity=1,i)),a(l)&&(_.$remove_possible_method(e),o(_,"define_method",[e],((s=function(){var t=null==s.$$s?this:s.$$s;return a(t["$instance_variable_defined?"](d))?t.$instance_variable_get(d):t.$class().$public_send(e)}).$$s=_,s.$$arity=0,s)),a(p)&&o(_,"define_method",[e+"?"],((c=function(){return(null==c.$$s?this:c.$$s).$public_send(e)["$!"]()["$!"]()}).$$s=_,c.$$arity=0,c))),a(u)?_.$attr_writer(e):r}).$$s=i,$.$$arity=1,$))},i.$$arity=-1),l.$private(),a(l["$respond_to?"]("singleton_class?"))?r:(e.def(l,"$singleton_class?",s=function(){var e=this,t=r;return a(t=!0)?t:e.$ancestors().$first()["$!="](e)},s.$$arity=0),r&&"singleton_class?")}(n[0],0,n)},Opal.modules["hyperstack/internal/component/rendering_context"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}e.top;var r=[],$=e.nil,a=e.$$$,o=e.$$,i=e.module,s=e.klass,l=e.truthy,c=e.send,u=e.alias;return e.add_stubs(["$attr_accessor","$waiting_on_resources","$raise_if_not_quiet?","$raise","$new","$<<","$!","$remove_nodes_from_args","$build","$waiting_on_resources=","$-","$run_child_block","$to_proc","$dup","$tap","$create_element","$detect","$respond_to?","$is_a?","$last","$collect","$render","$to_s","$>","$length","$first","$delete","$include?","$index","$[]=","$[]","$each","$check_for_component_return","$dummy_value?","$==","$empty?","$pushable_string?","$try","$log","$loading?","$define_method","$unshift","$hyper_component?","$send"]),function(r,_){var p=[i(r,"Hyperstack")].concat(_);(function(r,_){var p=[i(r,"Internal")].concat(_);(function(r,_){var p=[i(r,"Component")].concat(_);(function(r,$super,i){var _=s(r,null,"RenderingContext"),p=[_].concat(i);(function(e,$super,t){[s(e,$super,"NotQuiet")].concat(t)})(p[0],o(p,"Exception"),p),function(r,i){var s,_,p,d,f,h,m,y,v,g,b,k,w,x,O,H=[r].concat(i);r.$attr_accessor("waiting_on_resources"),e.def(r,"$raise_if_not_quiet?",s=function(){var e=this;return null==e.raise_if_not_quiet&&(e.raise_if_not_quiet=$),e.raise_if_not_quiet},s.$$arity=0),e.def(r,"$raise_if_not_quiet=",_=function(e){return this.raise_if_not_quiet=e},_.$$arity=1),e.def(r,"$quiet_test",p=function(e){var t=this,n=$;return l(l(n=e.$waiting_on_resources())?t["$raise_if_not_quiet?"]():n)?t.$raise(o(H,"NotQuiet").$new(e+" is waiting on resources")):$},p.$$arity=1),e.def(r,"$render_string",d=function(e){var t=this,n=$;return null==t.buffer&&(t.buffer=$),t.buffer=l(n=t.buffer)?n:[],t.buffer["$<<"](e)},d.$$arity=1),e.def(r,"$render",f=function(r){var i,s,u,_=f.$$p,p=_||$,d=this,h=$,m=$,y=$,v=$;return null==d.not_outer_most&&(d.not_outer_most=$),null==d.buffer&&(d.buffer=$),_&&(f.$$p=null),_&&(f.$$p=null),i=e.slice.call(arguments,1,arguments.length),s=i,function(){try{return h=d.not_outer_most["$!"](),d.not_outer_most=!0,d.$remove_nodes_from_args(s),d.buffer=l(m=d.buffer)?m:[],l(p)?y=c(d,"build",[],((u=function(){var i,_,d,f=null==u.$$s?this:u.$$s,h=$,m=$,y=$;return null==f.buffer&&(f.buffer=$),h=$,m=[$],c(f,"waiting_on_resources=",e.to_a(m)),m[t(m.length,1)],c(f,"run_child_block",[],p.$to_proc()),l(r)?(y=f.buffer.$dup(),c(c(o(H,"ReactWrapper"),"create_element",[r].concat(e.to_a(s)),((i=function(){null==i.$$s||i.$$s;return y}).$$s=f,i.$$arity=0,i)),"tap",[],((_=function(n){var r,a=null==_.$$s?this:_.$$s,i=$,s=$;return null==n&&(n=$),m=[l(i=h)?i:c(y,"detect",[],(r=function(e){return null==r.$$s||r.$$s,null==e&&(e=$),l(e["$respond_to?"]("waiting_on_resources"))?e.$waiting_on_resources():$},r.$$s=a,r.$$arity=1,r))["$!"]()["$!"]()],c(n,"waiting_on_resources=",e.to_a(m)),m[t(m.length,1)],l(y.$last()["$is_a?"](o(H,"String")))?l(s=n.$waiting_on_resources())?s:(m=[a.$waiting_on_resources()],c(n,"waiting_on_resources=",e.to_a(m)),m[t(m.length,1)]):$}).$$s=f,_.$$arity=1,_))):(y=c(f.buffer,"collect",[],((d=function(n){var r,i,s=null==d.$$s?this:d.$$s;return null==n&&(n=$),l(n["$is_a?"](a(a(o(H,"Hyperstack"),"Component"),"Element")))?(l(n.$waiting_on_resources())||(m=[h],c(n,"waiting_on_resources=",e.to_a(m)),m[t(m.length,1)]),n):c(c(o(H,"RenderingContext"),"render",["span"],((r=function(){null==r.$$s||r.$$s;return n.$to_s()}).$$s=s,r.$$arity=0,r)),"tap",[],((i=function(n){null==i.$$s||i.$$s;return null==n&&(n=$),m=[h],c(n,"waiting_on_resources=",e.to_a(m)),m[t(m.length,1)]}).$$s=s,i.$$arity=1,i))}).$$s=f,d.$$arity=1,d)),l(n(y.$length(),1))?y:y.$first())}).$$s=d,u.$$arity=0,u)):l(r["$is_a?"](a(a(o(H,"Hyperstack"),"Component"),"Element")))?y=r:(y=c(o(H,"ReactWrapper"),"create_element",[r].concat(e.to_a(s))),v=[d.$waiting_on_resources()],c(y,"waiting_on_resources=",e.to_a(v)),v[t(v.length,1)]),d.buffer["$<<"](y),v=[$],c(d,"waiting_on_resources=",e.to_a(v)),v[t(v.length,1)],y}finally{l(h)&&(d.not_outer_most=d.buffer=$)}}()},f.$$arity=-2),e.def(r,"$build",h=function(){var t=h.$$p,n=t||$,r=this,a=$,o=$;return null==r.buffer&&(r.buffer=$),t&&(h.$$p=null),a=r.buffer,r.buffer=[],o=e.yield1(n,r.buffer),r.buffer=a,o},h.$$arity=0),e.def(r,"$delete",m=function(e){var t=this;return null==t.buffer&&(t.buffer=$),t.buffer.$delete(e),t.last_deleted=e,e},m.$$arity=1),u(r,"as_node","delete"),e.def(r,"$rendered?",y=function(e){var t=this;return null==t.buffer&&(t.buffer=$),t.buffer["$include?"](e)},y.$$arity=1),e.def(r,"$replace",v=function(n,r){var a=this,o=$;return null==a.buffer&&(a.buffer=$),o=[a.buffer.$index(n),r],c(a.buffer,"[]=",e.to_a(o)),o[t(o.length,1)]},v.$$arity=2),e.def(r,"$remove_nodes_from_args",g=function(t){var n,r=this,i=$;return l(l(i=t["$[]"](0))?t["$[]"](0)["$is_a?"](o(H,"Hash")):i)?c(t["$[]"](0),"each",[],((n=function(t,r){null==n.$$s||n.$$s;null==t&&(t=$),null==r&&(r=$);try{return l(r["$is_a?"](a(a(o(H,"Hyperstack"),"Component"),"Element")))?r.$delete():$}catch(i){if(!e.rescue(i,[o(H,"Exception")]))throw i;try{return $}finally{e.pop_exception()}}}).$$s=r,n.$$arity=2,n)):$},g.$$arity=1),e.def(r,"$run_child_block",b=function(){var t,n=b.$$p,r=n||$,i=this,s=$;return null==i.last_deleted&&(i.last_deleted=$),null==i.buffer&&(i.buffer=$),n&&(b.$$p=null),s=e.yieldX(r,[]),i.$check_for_component_return(s),l(i["$dummy_value?"](s))?c(o(H,"RenderingContext"),"render",["span"],((t=function(){null==t.$$s||t.$$s;return s.$to_s()}).$$s=i,t.$$arity=0,t)):l(s["$is_a?"](a(a(o(H,"Hyperstack"),"Component"),"Element")))?i.last_deleted["$=="](s)||l(i.buffer["$empty?"]())&&i.buffer["$<<"](s):l(i["$pushable_string?"](s))&&i.buffer["$<<"](s.$to_s()),i.last_deleted=$},b.$$arity=0),e.def(r,"$check_for_component_return",k=function(e){return l(e.$try("hyper_component?"))?a(a(o(H,"Hyperstack"),"Component"),"IsomorphicHelpers").$log("a component's render method returned the component class "+e+", did you mean to say "+e+"()","warning"):$},k.$$arity=1),e.def(r,"$dummy_value?",w=function(e){var t=$;return l(t=e["$respond_to?"]("loading?"))?e["$loading?"]():t},w.$$arity=1),e.def(r,"$pushable_string?",x=function(e){var t=this,n=$,r=$;return null==t.buffer&&(t.buffer=$),l(t.buffer["$empty?"]())?l(n=l(r=e)?e["$respond_to?"]("to_n"):r)?e["$is_a?"](o(H,"Array"))["$!"]():n:e["$is_a?"](o(H,"String"))},x.$$arity=1),e.def(r,"$improper_render",O=function(){return $},O.$$arity=2)}(e.get_singleton_class(_),p)})(p[0],0,p)})(p[0],p)})(p[0],p)}(r[0],r),function(t,$super,n){var r,i,u,_=s(t,null,"Object"),p=[_].concat(n);return c(["span","td","th"],"each",[],((r=function(t){var n,i=null==r.$$s?this:r.$$s;return null==t&&(t=$),c(i,"define_method",[t],((n=function(){var r,i,s=null==n.$$s?this:n.$$s,u=n.$$p,_=u||$,d=$;return u&&(n.$$p=null),(r=e.slice.call(arguments,0,arguments.length)).$unshift(t),l(l(d=s["$respond_to?"]("hyper_component?"))?s["$hyper_component?"]():d)?c(s,"send",e.to_a(r),_.$to_proc()):c(a(a(a(o(p,"Hyperstack"),"Internal"),"Component"),"RenderingContext"),"render",e.to_a(r),((i=function(){return(null==i.$$s?this:i.$$s).$to_s()}).$$s=s,i.$$arity=0,i))}).$$s=i,n.$$arity=-1,n))}).$$s=_,r.$$arity=1,r)),e.def(_,"$para",i=function(){var t,n,r=i.$$p,s=r||$,u=this,_=$;return r&&(i.$$p=null),r&&(i.$$p=null),(t=e.slice.call(arguments,0,arguments.length)).$unshift("p"),l(l(_=u["$respond_to?"]("hyper_component?"))?u["$hyper_component?"]():_)?c(u,"send",e.to_a(t),s.$to_proc()):c(a(a(a(o(p,"Hyperstack"),"Internal"),"Component"),"RenderingContext"),"render",e.to_a(t),((n=function(){return(null==n.$$s?this:n.$$s).$to_s()}).$$s=u,n.$$arity=0,n))},i.$$arity=-1),e.def(_,"$br",u=function(){var e,t=this,n=$;return l(l(n=t["$respond_to?"]("hyper_component?"))?t["$hyper_component?"]():n)?t.$send("br"):c(a(a(a(o(p,"Hyperstack"),"Internal"),"Component"),"RenderingContext"),"render",[a(a(a(a(o(p,"Hyperstack"),"Internal"),"Component"),"Tags"),"FRAGMENT")],((e=function(){var t,n=null==e.$$s?this:e.$$s;return c(a(a(a(o(p,"Hyperstack"),"Internal"),"Component"),"RenderingContext"),"render",[a(a(a(a(o(p,"Hyperstack"),"Internal"),"Component"),"Tags"),"FRAGMENT")],((t=function(){return(null==t.$$s?this:t.$$s).$to_s()}).$$s=n,t.$$arity=0,t)),a(a(a(o(p,"Hyperstack"),"Internal"),"Component"),"RenderingContext").$render(a(a(a(a(o(p,"Hyperstack"),"Internal"),"Component"),"Tags"),"BR"))}).$$s=t,e.$$arity=0,e))},u.$$arity=0),$&&"br"}(r[0],0,r)},Opal.modules["hyperstack/component/children"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}e.top;var n=[],r=e.nil,$=(e.$$$,e.$$),a=e.module,o=e.klass,i=e.send,s=e.lambda,l=e.truthy;return e.add_stubs(["$include","$each","$to_proc","$render","$to_enum","$length","$>","$new","$call","$<<","$alias_method"]),function(n,c){var u=[a(n,"Hyperstack")].concat(c);return function(n,c){var u=[a(n,"Component")].concat(c);return function(n,$super,a){var c,u,_,p,d,f=o(n,null,"Children"),h=[f].concat(a);return f.$$prototype.children=f.$$prototype.length=r,f.$include($(h,"Enumerable")),e.def(f,"$initialize",c=function(e){return this.children=e},c.$$arity=1),e.def(f,"$render",u=function(){return i(this,"each",[],"render".$to_proc())},u.$$arity=0),e.def(f,"$to_proc",_=function(){var e,t=this;return s(((e=function(){return(null==e.$$s?this:e.$$s).$render()}).$$s=t,e.$$arity=0,e))},_.$$arity=0),e.def(f,"$each",p=function(){var e,n=p.$$p,a=n||r,o=this,s=r,c=r;return n&&(p.$$p=null),n&&(p.$$p=null),a===r?i(o,"to_enum",["each"],((e=function(){return(null==e.$$s?this:e.$$s).$length()}).$$s=o,e.$$arity=0,e)):l(t(o.$length(),0))?(s=[],React.Children.forEach(o.children,function(e){c=$(h,"Element").$new(e,"wrap_child"),a.$call(c),s["$<<"](c)}),s):[]},p.$$arity=0),e.def(f,"$length",d=function(){var e=this,t=r;return e.length=l(t=e.length)?t:React.Children.count(e.children)},d.$$arity=0),f.$alias_method("size","length")}(u[0],0,u)}(u[0],u)}(n[0],n)},Opal.modules["hyperstack/internal/component/instance_methods"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var n=e.top,r=[],$=e.nil,a=e.$$$,o=e.$$,i=e.module,s=e.truthy,l=e.send,c=e.lambda,u=e.hash2;return e.add_stubs(["$require","$new","$include?","$param_accessor_style","$raise","$[]","$dom_node","$==","$=~","$pluralize","$set_or_replace_state_or_prop","$to_proc","$private","$instance_eval","$callbacks?","$class","$RescueWrapper","$call","$after_error_args=","$-","$__hyperstack_component_run_post_render_hooks","$__hyperstack_component_rescue_wrapper","$__hyperstack_router_wrapper","$shallow_to_n"]),n.$require("hyperstack/component/children"),function(n,r){var _=[i(n,"Hyperstack")].concat(r);return function(n,r){var _=[i(n,"Internal")].concat(r);return function(n,r){var _=[i(n,"Component")].concat(r);return function(n,r){var _,p,d,f,h,m,y,v,g,b,k,w,x,O,H=i(n,"InstanceMethods"),I=[H].concat(r);return e.def(H,"$children",_=function(){var e=this;return null==e.__hyperstack_component_native&&(e.__hyperstack_component_native=$),a(a(o(I,"Hyperstack"),"Component"),"Children").$new(e.__hyperstack_component_native.props.children)},_.$$arity=0),e.def(H,"$params",p=function(){var e=this;return null==e.__hyperstack_component_params_wrapper&&(e.__hyperstack_component_params_wrapper=$),s(["hyperstack","accessors"]["$include?"](e.__hyperstack_component_params_wrapper.$param_accessor_style()))&&e.$raise("params are now directly accessible via instance variables.\n  to access the legacy behavior add `param_accessor_style = :legacy` to your component class\n  to access both behaviors add `param_accessor_style = :both` to your component class"),e.__hyperstack_component_params_wrapper},p.$$arity=0),e.def(H,"$props",d=function(){var e=this;return null==e.__hyperstack_component_native&&(e.__hyperstack_component_native=$),o(I,"Hash").$new(e.__hyperstack_component_native.props)},d.$$arity=0),e.def(H,"$dom_node",f=function(){var e=this;return ReactDOM.findDOMNode(e.__hyperstack_component_native)},f.$$arity=0),e.def(H,"$jq_node",h=function(){var e=this;return a("::","Element")["$[]"](e.$dom_node())},h.$$arity=0),e.def(H,"$mounted?",m=function(){var e=this;return e.__hyperstack_component_is_mounted!==undefined&&e.__hyperstack_component_is_mounted},m.$$arity=0),e.def(H,"$pluralize",y=function(e,t,n){var r=$,a=$,o=$,i=$;return null==n&&(n=$),r=s(s(a=e["$=="](1))?a:e["$=~"](/^1(\.0+)?$/))?t:s(o=n)?o:t.$pluralize(),(s(i=e)?i:0)+" "+r},y.$$arity=-3),e.def(H,"$force_update!",v=function(){var e=this;return e.__hyperstack_component_native.forceUpdate(),e},v.$$arity=0),e.def(H,"$set_state",g=function(e){var t=g.$$p,n=t||$,r=this;return t&&(g.$$p=null),t&&(g.$$p=null),l(r,"set_or_replace_state_or_prop",[e,"setState"],n.$to_proc())},g.$$arity=1),e.def(H,"$set_state!",b=function(e){var t=b.$$p,n=t||$,r=this;return t&&(b.$$p=null),t&&(b.$$p=null),l(r,"set_or_replace_state_or_prop",[e,"setState"],n.$to_proc()),r.__hyperstack_component_native.forceUpdate()},b.$$arity=1),H.$private(),e.def(H,"$__hyperstack_router_wrapper",k=function(){var e,t=k.$$p,n=t||$,r=this;return t&&(k.$$p=null),t&&(k.$$p=null),c(((e=function(){var t=null==e.$$s?this:e.$$s;return l(t,"instance_eval",[],n.$to_proc())}).$$s=r,e.$$arity=0,e))},k.$$arity=0),e.def(H,"$__hyperstack_component_rescue_wrapper",w=function(e){var t=this;return s(t.$class()["$callbacks?"]("__hyperstack_component_rescue_hook"))?a(a(o(I,"Hyperstack"),"Internal"),"Component").$RescueWrapper(u(["child","children_elements"],{child:t,children_elements:e})):e.$call()},w.$$arity=1),e.def(H,"$__hyperstack_component_select_wrappers",x=function(){var n=x.$$p,r=n||$,a=this,i=$;return n&&(x.$$p=null),n&&(x.$$p=null),i=[$],l(o(I,"RescueWrapper"),"after_error_args=",e.to_a(i)),i[t(i.length,1)],a.$__hyperstack_component_run_post_render_hooks(a.$__hyperstack_component_rescue_wrapper(l(a,"__hyperstack_router_wrapper",[],r.$to_proc())))},x.$$arity=0),e.def(H,"$set_or_replace_state_or_prop",O=function(e,t){var n=O.$$p,r=n||$,a=this;null==a.__hyperstack_component_native&&(a.__hyperstack_component_native=$),n&&(O.$$p=null),n&&(O.$$p=null),s(a.__hyperstack_component_native)||a.$raise("No native ReactComponent associated");var o=e.$shallow_to_n();if(s(r))if(!0===a.__hyperstack_component_native.__opalInstanceInitializedState)a.__hyperstack_component_native[t](o,function(){r.$call()});else for(var i in o)o.hasOwnProperty(i)&&(a.__hyperstack_component_native.state[i]=o[i]);else if(!0===a.__hyperstack_component_native.__opalInstanceInitializedState)a.__hyperstack_component_native[t](o);else for(var i in o)o.hasOwnProperty(i)&&(a.__hyperstack_component_native.state[i]=o[i])},O.$$arity=2),$&&"set_or_replace_state_or_prop"}(_[0],_)}(_[0],_)}(_[0],_)}(r[0],r)},Opal.modules["hyperstack/internal/component/class_methods"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e<=t:e["$<="](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}e.top;var a=[],o=e.nil,i=e.$$$,s=e.$$,l=e.module,c=e.send,u=e.truthy,_=e.range,p=e.hash2,d=e.send2,f=e.find_super,h=e.alias,m=e.hash;return e.add_stubs(["$create_element","$to_proc","$render","$deprecation_warning","$select","$mounted_components","$<=","$class","$param_accessor_style","$props_wrapper","$==","$[]","$<<","$each","$before_new_params","$included","$is_a?","$element_type","$define_method","$__hyperstack_component_select_wrappers","$instance_eval","$__hyperstack_component_after_render_hook","$on","$instance_exec","$empty?","$__hyperstack_component_rescue_hook","$!","$detect","$before_mount","$before_update","$after_mount","$after_update","$any?","$respond_to?","$haml_class_name","$superclass","$copy","$validator","$new","$validate","$>","$count","$+","$name","$join","$default_props","$build","$first","$delete","$merge!","$[]=","$-","$key?","$optional","$requires","$all_other_params","$props","$=~","$gsub","$include?","$event_camelize","$event","$call","$arity","$last","$pop","$state","$singleton_class","$__send__","$mutate","$native_mixins","$static_call_backs","$split","$to_n","$add_item_to_tree","$Native","$create_native_react_class","$reverse","$import_native_component","$eval_native_react_component","$raise","$message","$!=","$length","$inject"]),function(a,y){var v=[l(a,"Hyperstack")].concat(y);return function(a,y){var v=[l(a,"Internal")].concat(y);return function(a,y){var v=[l(a,"Component")].concat(y);return function(a,y){var v,g,b,k,w,x,O,H,I,C,R,S,z,q,N,j,E,A,M,T,W,D,P,L,U,F,B,X,G,V,K,J,Z,Q,Y=l(a,"ClassMethods"),ee=[Y].concat(y);return e.def(Y,"$create_element",v=function(){var t,n=v.$$p,r=n||o,$=this;return n&&(v.$$p=null),n&&(v.$$p=null),t=e.slice.call(arguments,0,arguments.length),c(s(ee,"ReactWrapper"),"create_element",[$].concat(e.to_a(t)),r.$to_proc())},v.$$arity=-1),e.def(Y,"$insert_element",g=function(){var t,n=g.$$p,r=n||o,$=this;return n&&(g.$$p=null),n&&(g.$$p=null),t=e.slice.call(arguments,0,arguments.length),c(s(ee,"RenderingContext"),"render",[$].concat(e.to_a(t)),r.$to_proc())},g.$$arity=-1),e.def(Y,"$deprecation_warning",b=function(e){var t=this;return s(ee,"Hyperstack").$deprecation_warning(t,e)},b.$$arity=1),e.def(Y,"$hyper_component?",k=function(){return!0},k.$$arity=0),e.def(Y,"$allow_deprecated_render_definition?",w=function(){return!1},w.$$arity=0),e.def(Y,"$mounted_components",x=function(){var e,n=this;return c(i(s(ee,"Hyperstack"),"Component").$mounted_components(),"select",[],((e=function(n){var r=null==e.$$s?this:e.$$s;return null==n&&(n=o),t(n.$class(),r)}).$$s=n,e.$$arity=1,e))},x.$$arity=0),e.def(Y,"$param_accessor_style",O=function(){var t,n=this;return t=e.slice.call(arguments,0,arguments.length),c(n.$props_wrapper(),"param_accessor_style",e.to_a(t))},O.$$arity=-1),e.def(Y,"$backtrace",H=function(){var t,n,r=this,$=o;return null==r.__hyperstack_component_dont_catch_exceptions&&(r.__hyperstack_component_dont_catch_exceptions=o),t=e.slice.call(arguments,0,arguments.length),n=t,r.__hyperstack_component_dont_catch_exceptions=n["$[]"](0)["$=="]("none"),r.__hyperstack_component_backtrace_off=u($=r.__hyperstack_component_dont_catch_exceptions)?$:n["$[]"](0)["$=="]("off")},H.$$arity=-1),e.def(Y,"$append_backtrace",I=function(e,t){var n,r=this;return e["$<<"]("    "+t["$[]"](0)),c(t["$[]"](_(1,-1,!1)),"each",[],((n=function(t){null==n.$$s||n.$$s;return null==t&&(t=o),e["$<<"](t)}).$$s=r,n.$$arity=1,n))},I.$$arity=2),e.def(Y,"$before_receive_props",C=function(){var t,n=C.$$p,r=n||o,$=this;return n&&(C.$$p=null),n&&(C.$$p=null),t=e.slice.call(arguments,0,arguments.length),$.$deprecation_warning("'before_receive_props' is deprecated. Use the 'before_new_params' macro instead."),c($,"before_new_params",e.to_a(t),r.$to_proc())},C.$$arity=-1),e.def(Y,"$render",R=function(e,t){var n,r,$=R.$$p,a=$||o,l=this;return $&&(R.$$p=null),$&&(R.$$p=null),null==e&&(e=o),null==t&&(t=p([],{})),s(ee,"Tags").$included(l),u(e)?(u(e["$is_a?"](i(i(s(ee,"Hyperstack"),"Component"),"Element")))&&(e=e.$element_type()),c(l,"define_method",["__hyperstack_component_render"],((n=function(){var r,$=null==n.$$s?this:n.$$s;return c($,"__hyperstack_component_select_wrappers",[],((r=function(){var n,$=null==r.$$s?this:r.$$s;return c(s(ee,"RenderingContext"),"render",[e,t],((n=function(){var e=null==n.$$s?this:n.$$s;return u(a)?c(e,"instance_eval",[],a.$to_proc()):o}).$$s=$,n.$$arity=0,n))}).$$s=$,r.$$arity=0,r))}).$$s=l,n.$$arity=0,n))):c(l,"define_method",["__hyperstack_component_render"],((r=function(){var e,t=null==r.$$s?this:r.$$s;return c(t,"__hyperstack_component_select_wrappers",[],((e=function(){var t=null==e.$$s?this:e.$$s;return c(t,"instance_eval",[],a.$to_proc())}).$$s=t,e.$$arity=0,e))}).$$s=l,r.$$arity=0,r))},R.$$arity=-1),e.def(Y,"$on",S=function(){var t,n,r,$=S.$$p,a=$||o,i=this;return $&&(S.$$p=null),$&&(S.$$p=null),t=e.slice.call(arguments,0,arguments.length),n=t,c(i,"__hyperstack_component_after_render_hook",[],((r=function(t){var $,i=null==r.$$s?this:r.$$s;return null==t&&(t=o),c(t,"on",e.to_a(n),(($=function(){var t,n=null==$.$$s?this:$.$$s;return t=e.slice.call(arguments,0,arguments.length),c(n,"instance_exec",e.to_a(t),a.$to_proc())}).$$s=i,$.$$arity=-1,$))}).$$s=i,r.$$arity=1,r))},S.$$arity=-1),e.def(Y,"$rescues",z=function(){var t,n,r,$=z.$$p,a=$||o,i=this;return $&&(z.$$p=null),$&&(z.$$p=null),t=e.slice.call(arguments,0,arguments.length),u((n=t)["$empty?"]())&&(n=[s(ee,"StandardError")]),c(i,"__hyperstack_component_rescue_hook",[],((r=function(t){var $,i,s,l=null==r.$$s?this:r.$$s,_=o;return null==t&&(t=o),$=e.slice.call(arguments,1,arguments.length),i=$,u(u(_=t)?_:c(n,"detect",[],(s=function(e){return null==s.$$s||s.$$s,null==e&&(e=o),i["$[]"](0)["$is_a?"](e)},s.$$s=l,s.$$arity=1,s))["$!"]())?[t].concat(e.to_a(i)):(c(l,"instance_exec",e.to_a(i),a.$to_proc()),[!0].concat(e.to_a(i)))}).$$s=i,r.$$arity=-2,r))},z.$$arity=-1),e.def(Y,"$before_render",q=function(){var t,n=q.$$p,r=n||o,$=this;return n&&(q.$$p=null),n&&(q.$$p=null),t=e.slice.call(arguments,0,arguments.length),c($,"before_mount",e.to_a(t),r.$to_proc()),c($,"before_update",e.to_a(t),r.$to_proc())},q.$$arity=-1),e.def(Y,"$after_render",N=function(){var t,n=N.$$p,r=n||o,$=this;return n&&(N.$$p=null),n&&(N.$$p=null),t=e.slice.call(arguments,0,arguments.length),c($,"after_mount",e.to_a(t),r.$to_proc()),c($,"after_update",e.to_a(t),r.$to_proc())},N.$$arity=-1),e.def(Y,"$method_missing",j=function(t){var n,r,$=j.$$p,a=$||o,l=this,_=o;return $&&(j.$$p=null),$&&(j.$$p=null),n=e.slice.call(arguments,1,arguments.length),u(u(_=(r=n)["$any?"]())?_:i(i(s(ee,"Hyperstack"),"Component"),"Element")["$respond_to?"]("haml_class_name")["$!"]())?d(l,f(l,"method_missing",j,!1,!0),"method_missing",[t].concat(e.to_a(r)),$):c(s(ee,"RenderingContext"),"render",[l,p(["class"],{"class":i(i(s(ee,"Hyperstack"),"Component"),"Element").$haml_class_name(t)})],a.$to_proc())},j.$$arity=-2),e.def(Y,"$validator",E=function(){var e=this;return null==e.__hyperstack_component_validator&&(e.__hyperstack_component_validator=o),u(e.__hyperstack_component_validator)?e.__hyperstack_component_validator:u(e.$superclass()["$respond_to?"]("validator"))?e.__hyperstack_component_validator=e.$superclass().$validator().$copy(e.$props_wrapper()):e.__hyperstack_component_validator=s(ee,"Validator").$new(e.$props_wrapper())},E.$$arity=0),e.def(Y,"$prop_types",A=function(){var e=this;return u(e.$validator())?p(["_componentValidator"],{_componentValidator:function(t){var $=e.$validator().$validate(s(ee,"Hash").$new(t));return u(n($.$count(),0))?new Error(r("In component `"+e.$name()+"`\n",$.$join("\n"))):undefined}}):p([],{})},A.$$arity=0),e.def(Y,"$default_props",M=function(){return this.$validator().$default_props()},M.$$arity=0),e.def(Y,"$params",T=function(){var e=T.$$p,t=e||o,n=this;return e&&(T.$$p=null),e&&(T.$$p=null),c(n.$validator(),"build",[],t.$to_proc())},T.$$arity=0),e.def(Y,"$props_wrapper",W=function(){var e=this,t=o;return null==e.__hyperstack_component_props_wrapper&&(e.__hyperstack_component_props_wrapper=o),u(e.__hyperstack_component_props_wrapper)?e.__hyperstack_component_props_wrapper:u(e.$superclass()["$respond_to?"]("props_wrapper"))?e.__hyperstack_component_props_wrapper=s(ee,"Class").$new(e.$superclass().$props_wrapper()):e.__hyperstack_component_props_wrapper=u(t=e.__hyperstack_component_props_wrapper)?t:s(ee,"Class").$new(s(ee,"PropsWrapper"))},W.$$arity=0),e.def(Y,"$param",D=function(){var t,n,r=this,a=o,i=o,l=o,_=o,d=o;return t=e.slice.call(arguments,0,arguments.length),u((n=t)["$[]"](0)["$is_a?"](s(ee,"Hash")))?(i=(a=n["$[]"](0)).$first()["$[]"](0),l=a.$first()["$[]"](1),a.$delete(i),a["$merge!"](p(["default"],{"default":l}))):(i=n["$[]"](0),a=u(_=n["$[]"](1))?_:p([],{})),a["$[]"]("type")["$=="](s(ee,"Proc"))&&(u(a["$[]"]("default"))||(d=["default",o],c(a,"[]=",e.to_a(d)),d[$(d.length,1)]),u(a["$key?"]("allow_nil"))||(d=["allow_nil",!0],c(a,"[]=",e.to_a(d)),d[$(d.length,1)])),i["$=="]("class")&&(i="className",u(a["$[]"]("alias"))||(d=["alias","Class"],c(a,"[]=",e.to_a(d)),d[$(d.length,1)])),u(a["$[]"]("default"))?r.$validator().$optional(i,a):r.$validator().$requires(i,a)},D.$$arity=-1),e.def(Y,"$collect_other_params_as",P=function(e){var t,n=this;return c(n.$validator(),"all_other_params",[e],((t=function(){return(null==t.$$s?this:t.$$s).$props()}).$$s=n,t.$$arity=0,t))},P.$$arity=1),h(Y,"other_params","collect_other_params_as"),h(Y,"others","collect_other_params_as"),h(Y,"other","collect_other_params_as"),h(Y,"opts","collect_other_params_as"),e.def(Y,"$fires",L=function(t,n){var r,$=this,a=o,l=o;return null==n&&(n=p([],{})),a=u(l=n["$[]"]("alias"))?l:t+"!",t=u(t["$=~"](/^<(.+)>$/))?t.$gsub(/^<(.+)>$/,"\\1"):u(i(i(i(s(ee,"Hyperstack"),"Component"),"Event"),"BUILT_IN_EVENTS")["$include?"]("on"+t.$event_camelize()))?"on"+t.$event_camelize():"on_"+t,$.$validator().$event(t),c($,"define_method",[a],((r=function(){
var n,$,a=null==r.$$s?this:r.$$s;return n=e.slice.call(arguments,0,arguments.length),($=a.$props()["$[]"](t))===o||null==$?o:c($,"call",e.to_a(n))}).$$s=$,r.$$arity=-1,r))},L.$$arity=-2),h(Y,"triggers","fires"),e.def(Y,"$define_state",U=function(){var t,n,r,$,a=U.$$p,i=a||o,l=this,_=o,d=o,f=o;return a&&(U.$$p=null),a&&(U.$$p=null),t=e.slice.call(arguments,0,arguments.length),n=t,l.$deprecation_warning("'define_state' is deprecated. Use the 'state' macro to declare states."),_=u(u(d=i)?i.$arity()["$=="](0):d)?e.yieldX(i,[]):o,f=u(n.$last()["$is_a?"](s(ee,"Hash")))?n.$pop():p([],{}),c(n,"each",[],((r=function(e){var t=null==r.$$s?this:r.$$s;return null==e&&(e=o),t.$state(m(e,_))}).$$s=l,r.$$arity=1,r)),c(f,"each",[],(($=function(e,t){var n=null==$.$$s?this:$.$$s;return null==e&&(e=o),null==t&&(t=o),n.$state(m(e,t))}).$$s=l,$.$$arity=2,$))},U.$$arity=-1),e.def(Y,"$export_state",F=function(){var t,n,r,a,i=F.$$p,l=i||o,_=this,d=o,f=o,h=o;return i&&(F.$$p=null),i&&(F.$$p=null),t=e.slice.call(arguments,0,arguments.length),n=t,_.$deprecation_warning("'export_state' is deprecated. Use the 'state' macro to declare states."),d=u(u(f=l)?l.$arity()["$=="](0):f)?e.yieldX(l,[]):o,h=u(n.$last()["$is_a?"](s(ee,"Hash")))?n.$pop():p([],{}),c(n,"each",[],((r=function(t){null==r.$$s||r.$$s;var n=o;return null==t&&(t=o),n=[t,d],c(h,"[]=",e.to_a(n)),n[$(n.length,1)]}).$$s=_,r.$$arity=1,r)),c(h,"each",[],((a=function(t,n){var r,$=null==a.$$s?this:a.$$s;return null==t&&(t=o),null==n&&(n=o),$.$state(m(t,n,"scope","class","reader",!0)),c($.$singleton_class(),"define_method",[t+"!"],((r=function(){var n,$=null==r.$$s?this:r.$$s;return n=e.slice.call(arguments,0,arguments.length),c($.$mutate(),"__send__",[t].concat(e.to_a(n)))}).$$s=$,r.$$arity=-1,r))}).$$s=_,a.$$arity=2,a))},F.$$arity=-1),e.def(Y,"$native_mixin",B=function(e){return this.$native_mixins()["$<<"](e)},B.$$arity=1),e.def(Y,"$native_mixins",X=function(){var e=this,t=o;return null==e.__hyperstack_component_native_mixins&&(e.__hyperstack_component_native_mixins=o),e.__hyperstack_component_native_mixins=u(t=e.__hyperstack_component_native_mixins)?t:[]},X.$$arity=0),e.def(Y,"$static_call_back",G=function(t){var n=G.$$p,r=n||o,a=this,i=o;return n&&(G.$$p=null),n&&(G.$$p=null),i=[t,r],c(a.$static_call_backs(),"[]=",e.to_a(i)),i[$(i.length,1)]},G.$$arity=1),e.def(Y,"$static_call_backs",V=function(){var e=this,t=o;return null==e.__hyperstack_component_static_call_backs&&(e.__hyperstack_component_static_call_backs=o),e.__hyperstack_component_static_call_backs=u(t=e.__hyperstack_component_static_call_backs)?t:p([],{})},V.$$arity=0),e.def(Y,"$export_component",K=function(t){var n=this,a=o,i=o,l=o,d=o;return null==t&&(t=p([],{})),d=[l=(a=(u(i=t["$[]"]("as"))?i:n.$name()).$split("::")).$first(),n.$add_item_to_tree(n.$Native(e.global)["$[]"](l),r([s(ee,"ReactWrapper").$create_native_react_class(n)],a["$[]"](_(1,-1,!1)).$reverse())).$to_n()],c(n.$Native(e.global),"[]=",e.to_a(d)),d[$(d.length,1)]},K.$$arity=-1),e.def(Y,"$imports",J=function(t){var n,r=this,$=o;return function(){try{try{return s(ee,"ReactWrapper").$import_native_component(r,s(ee,"ReactWrapper").$eval_native_react_component(t)),c(r,"render",[],((n=function(){null==n.$$s||n.$$s;return o}).$$s=r,n.$$arity=0,n))}catch(a){if(!e.rescue(a,[s(ee,"Exception")]))throw a;$=a;try{return r.$raise(r+" cannot import '"+t+"': "+$.$message()+".")}finally{e.pop_exception()}}}finally{}}()},J.$$arity=1),e.def(Y,"$add_item_to_tree",Z=function(t,n){var r,a=this,l=o,p=o;return u(u(l=a.$Native(t).$class()["$!="](i(s(ee,"Native"),"Object")))?l:n.$length()["$=="](1))?c(n,"inject",[],((r=function(e,t){null==r.$$s||r.$$s;return null==e&&(e=o),null==t&&(t=o),m(t,e)}).$$s=a,r.$$arity=2,r)):(p=[n.$last(),a.$add_item_to_tree(a.$Native(t)["$[]"](n.$last()),n["$[]"](_(0,-2,!1)))],c(a.$Native(t),"[]=",e.to_a(p)),p[$(p.length,1)],t)},Z.$$arity=2),e.def(Y,"$to_n",Q=function(){var e=this;return i(i(i(s(ee,"Hyperstack"),"Internal"),"Component"),"ReactWrapper").$create_native_react_class(e)},Q.$$arity=0),o&&"to_n"}(v[0],v)}(v[0],v)}(v[0],v)}(a[0],a)},Opal.modules["active_support/core_ext/string/filters"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}e.top;var r=[],$=e.nil,a=(e.$$$,e.$$,e.klass),o=e.hash2,i=e.truthy;return e.add_stubs(["$>","$length","$dup","$[]","$-","$rindex"]),function(r,$super,s){var l,c=a(r,null,"String");[c].concat(s);return e.def(c,"$truncate",l=function(e,r){var a=this,s=$,l=$,c=$,u=$,_=$;return null==r&&(r=o([],{})),i(t(a.$length(),e))?(s=i(l=r["$[]"]("omission"))?l:"...",c=n(e,s.$length()),u=i(r["$[]"]("separator"))&&i(_=a.$rindex(r["$[]"]("separator"),c))?_:c,""+a["$[]"](0,u)+s):a.$dup()},l.$$arity=-2),$&&"truncate"}(r[0],0,r)},Opal.modules.set=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e<=t:e["$<="](t)}e.top;var $=[],a=e.nil,o=(e.$$$,e.$$),i=e.klass,s=e.hash2,l=e.truthy,c=e.send,u=e.alias,_=e.module;return e.add_stubs(["$include","$new","$nil?","$===","$raise","$each","$add","$merge","$class","$respond_to?","$subtract","$dup","$join","$to_a","$equal?","$instance_of?","$==","$instance_variable_get","$is_a?","$size","$all?","$include?","$[]=","$-","$enum_for","$[]","$<<","$replace","$delete","$select","$reject","$delete_if","$to_proc","$keep_if","$each_key","$empty?","$eql?","$instance_eval","$clear","$<","$<=","$any?","$!","$intersect?","$keys"]),function($,$super,_){var p,d,f,h,m,y,v,g,b,k,w,x,O,H,I,C,R,S,z,q,N,j,E,A,M,T,W,D,P,L,U,F,B,X=i($,null,"Set"),G=[X].concat(_);X.$$prototype.hash=a,X.$include(o(G,"Enumerable")),e.defs(X,"$[]",p=function(){var t,n=this;return t=e.slice.call(arguments,0,arguments.length),n.$new(t)},p.$$arity=-1),e.def(X,"$initialize",d=function(t){var n,r=d.$$p,$=r||a,i=this;return r&&(d.$$p=null),r&&(d.$$p=null),null==t&&(t=a),i.hash=s([],{}),l(t["$nil?"]())?a:(l(o(G,"Enumerable")["$==="](t))||i.$raise(o(G,"ArgumentError"),"value must be enumerable"),l($)?c(t,"each",[],((n=function(t){var r=null==n.$$s?this:n.$$s;return null==t&&(t=a),r.$add(e.yield1($,t))}).$$s=i,n.$$arity=1,n)):i.$merge(t))},d.$$arity=-1),e.def(X,"$dup",f=function(){var e=this;return e.$class().$new().$merge(e)},f.$$arity=0),e.def(X,"$-",h=function(e){var t=this;return l(e["$respond_to?"]("each"))||t.$raise(o(G,"ArgumentError"),"value must be enumerable"),t.$dup().$subtract(e)},h.$$arity=1),u(X,"difference","-"),e.def(X,"$inspect",m=function(){return"#<Set: {"+this.$to_a().$join(",")+"}>"},m.$$arity=0),e.def(X,"$==",y=function(e){var t,n=this,r=a;return!!l(n["$equal?"](e))||(l(e["$instance_of?"](n.$class()))?n.hash["$=="](e.$instance_variable_get("@hash")):!!l(l(r=e["$is_a?"](o(G,"Set")))?n.$size()["$=="](e.$size()):r)&&c(e,"all?",[],((t=function(e){var n=null==t.$$s?this:t.$$s;return null==n.hash&&(n.hash=a),null==e&&(e=a),n.hash["$include?"](e)}).$$s=n,t.$$arity=1,t)))},y.$$arity=1),e.def(X,"$add",v=function(n){var r=this,$=a;return $=[n,!0],c(r.hash,"[]=",e.to_a($)),$[t($.length,1)],r},v.$$arity=1),u(X,"<<","add"),e.def(X,"$classify",g=function(){var n,r,$=g.$$p,i=$||a,s=this,l=a;return $&&(g.$$p=null),$&&(g.$$p=null),i===a?s.$enum_for("classify"):(l=c(o(G,"Hash"),"new",[],((n=function(r,$){var o=null==n.$$s?this:n.$$s,i=a;return null==r&&(r=a),null==$&&($=a),i=[$,o.$class().$new()],c(r,"[]=",e.to_a(i)),i[t(i.length,1)]}).$$s=s,n.$$arity=2,n)),c(s,"each",[],((r=function(t){null==r.$$s||r.$$s;return null==t&&(t=a),l["$[]"](e.yield1(i,t)).$add(t)}).$$s=s,r.$$arity=1,r)),l)},g.$$arity=0),e.def(X,"$collect!",b=function(){var t,n=b.$$p,r=n||a,$=this,o=a;return n&&(b.$$p=null),n&&(b.$$p=null),r===a?$.$enum_for("collect!"):(o=$.$class().$new(),c($,"each",[],((t=function(n){null==t.$$s||t.$$s;return null==n&&(n=a),o["$<<"](e.yield1(r,n))}).$$s=$,t.$$arity=1,t)),$.$replace(o))},b.$$arity=0),u(X,"map!","collect!"),e.def(X,"$delete",k=function(e){var t=this;return t.hash.$delete(e),t},k.$$arity=1),e.def(X,"$delete?",w=function(e){var t=this;return l(t["$include?"](e))?(t.$delete(e),t):a},w.$$arity=1),e.def(X,"$delete_if",x=function(){var t,n,r=x.$$p,$=r||a,o=this;return r&&(x.$$p=null),$===a?o.$enum_for("delete_if"):(c(c(o,"select",[],((t=function(n){null==t.$$s||t.$$s;return null==n&&(n=a),e.yield1($,n)}).$$s=o,t.$$arity=1,t)),"each",[],((n=function(e){var t=null==n.$$s?this:n.$$s;return null==t.hash&&(t.hash=a),null==e&&(e=a),t.hash.$delete(e)}).$$s=o,n.$$arity=1,n)),o)},x.$$arity=0),e.def(X,"$keep_if",O=function(){var t,n,r=O.$$p,$=r||a,o=this;return r&&(O.$$p=null),$===a?o.$enum_for("keep_if"):(c(c(o,"reject",[],((t=function(n){null==t.$$s||t.$$s;return null==n&&(n=a),e.yield1($,n)}).$$s=o,t.$$arity=1,t)),"each",[],((n=function(e){var t=null==n.$$s?this:n.$$s;return null==t.hash&&(t.hash=a),null==e&&(e=a),t.hash.$delete(e)}).$$s=o,n.$$arity=1,n)),o)},O.$$arity=0),e.def(X,"$reject!",H=function(){var e=H.$$p,t=e||a,n=this,r=a;return e&&(H.$$p=null),e&&(H.$$p=null),t===a?n.$enum_for("reject!"):(r=n.$size(),c(n,"delete_if",[],t.$to_proc()),n.$size()["$=="](r)?a:n)},H.$$arity=0),e.def(X,"$select!",I=function(){var e=I.$$p,t=e||a,n=this,r=a;return e&&(I.$$p=null),e&&(I.$$p=null),t===a?n.$enum_for("select!"):(r=n.$size(),c(n,"keep_if",[],t.$to_proc()),n.$size()["$=="](r)?a:n)},I.$$arity=0),u(X,"filter!","select!"),e.def(X,"$add?",C=function(e){var t=this;return l(t["$include?"](e))?a:t.$add(e)},C.$$arity=1),e.def(X,"$each",R=function(){var e=R.$$p,t=e||a,n=this;return e&&(R.$$p=null),e&&(R.$$p=null),t===a?n.$enum_for("each"):(c(n.hash,"each_key",[],t.$to_proc()),n)},R.$$arity=0),e.def(X,"$empty?",S=function(){return this.hash["$empty?"]()},S.$$arity=0),e.def(X,"$eql?",z=function(e){var t,n=this;return n.hash["$eql?"](c(e,"instance_eval",[],((t=function(){var e=null==t.$$s?this:t.$$s;return null==e.hash&&(e.hash=a),e.hash}).$$s=n,t.$$arity=0,t)))},z.$$arity=1),e.def(X,"$clear",q=function(){var e=this;return e.hash.$clear(),e},q.$$arity=0),e.def(X,"$include?",N=function(e){return this.hash["$include?"](e)},N.$$arity=1),u(X,"member?","include?"),e.def(X,"$merge",j=function(e){var t,n=this;return c(e,"each",[],((t=function(e){var n=null==t.$$s?this:t.$$s;return null==e&&(e=a),n.$add(e)}).$$s=n,t.$$arity=1,t)),n},j.$$arity=1),e.def(X,"$replace",E=function(e){var t=this;return t.$clear(),t.$merge(e),t},E.$$arity=1),e.def(X,"$size",A=function(){return this.hash.$size()},A.$$arity=0),u(X,"length","size"),e.def(X,"$subtract",M=function(e){var t,n=this;return c(e,"each",[],((t=function(e){var n=null==t.$$s?this:t.$$s;return null==e&&(e=a),n.$delete(e)}).$$s=n,t.$$arity=1,t)),n},M.$$arity=1),e.def(X,"$|",T=function(e){var t=this;return l(e["$respond_to?"]("each"))||t.$raise(o(G,"ArgumentError"),"value must be enumerable"),t.$dup().$merge(e)},T.$$arity=1),e.def(X,"$superset?",W=function(e){var t,r=this;return l(e["$is_a?"](o(G,"Set")))||r.$raise(o(G,"ArgumentError"),"value must be a set"),!l(n(r.$size(),e.$size()))&&c(e,"all?",[],((t=function(e){var n=null==t.$$s?this:t.$$s;return null==e&&(e=a),n["$include?"](e)}).$$s=r,t.$$arity=1,t))},W.$$arity=1),u(X,">=","superset?"),e.def(X,"$proper_superset?",D=function(e){var t,n=this;return l(e["$is_a?"](o(G,"Set")))||n.$raise(o(G,"ArgumentError"),"value must be a set"),!l(r(n.$size(),e.$size()))&&c(e,"all?",[],((t=function(e){var n=null==t.$$s?this:t.$$s;return null==e&&(e=a),n["$include?"](e)}).$$s=n,t.$$arity=1,t))},D.$$arity=1),u(X,">","proper_superset?"),e.def(X,"$subset?",P=function(e){var t,r=this;return l(e["$is_a?"](o(G,"Set")))||r.$raise(o(G,"ArgumentError"),"value must be a set"),!l(n(e.$size(),r.$size()))&&c(r,"all?",[],((t=function(n){null==t.$$s||t.$$s;return null==n&&(n=a),e["$include?"](n)}).$$s=r,t.$$arity=1,t))},P.$$arity=1),u(X,"<=","subset?"),e.def(X,"$proper_subset?",L=function(e){var t,n=this;return l(e["$is_a?"](o(G,"Set")))||n.$raise(o(G,"ArgumentError"),"value must be a set"),!l(r(e.$size(),n.$size()))&&c(n,"all?",[],((t=function(n){null==t.$$s||t.$$s;return null==n&&(n=a),e["$include?"](n)}).$$s=n,t.$$arity=1,t))},L.$$arity=1),u(X,"<","proper_subset?"),e.def(X,"$intersect?",U=function(e){var t,r,$=this;return l(e["$is_a?"](o(G,"Set")))||$.$raise(o(G,"ArgumentError"),"value must be a set"),l(n($.$size(),e.$size()))?c($,"any?",[],((t=function(n){null==t.$$s||t.$$s;return null==n&&(n=a),e["$include?"](n)}).$$s=$,t.$$arity=1,t)):c(e,"any?",[],((r=function(e){var t=null==r.$$s?this:r.$$s;return null==e&&(e=a),t["$include?"](e)}).$$s=$,r.$$arity=1,r))},U.$$arity=1),e.def(X,"$disjoint?",F=function(e){return this["$intersect?"](e)["$!"]()},F.$$arity=1),u(X,"+","|"),u(X,"union","|"),e.def(X,"$to_a",B=function(){return this.hash.$keys()},B.$$arity=0)}($[0],0,$),function(t,n){var r,$=_(t,"Enumerable"),i=[$].concat(n);return e.def($,"$to_set",r=function(){var t,n,$,s=r.$$p,l=s||a,u=this;return s&&(r.$$p=null),s&&(r.$$p=null),(t=e.slice.call(arguments,0,arguments.length)).length>0&&(n=t[0],t.splice(0,1)),null==n&&(n=o(i,"Set")),$=t,c(n,"new",[u].concat(e.to_a($)),l.$to_proc())},r.$$arity=-1),a&&"to_set"}($[0],$)},Opal.modules["active_support/inflector/inflections"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=e.top,$=[],a=e.nil,o=(e.$$$,e.$$),i=e.module,s=e.klass,l=e.hash2,c=e.send,u=e.truthy,_=e.range;return e.add_stubs(["$require","$extend","$add","$map","$flatten","$to_proc","$concat","$include?","$downcase","$new","$[]","$[]=","$-","$attr_reader","$each","$instance_variable_set","$dup","$send","$is_a?","$delete","$unshift","$==","$upcase","$plural","$+","$singular","$===","$instance"]),r.$require("set"),function(r,$){var p=[i(r,"ActiveSupport")].concat($);return function(r,$){var p,d=i(r,"Inflector"),f=[d].concat($);return d.$extend(d),function(r,$super,$){var i,p,d,f,h,m,y,v,g,b=s(r,null,"Inflections"),k=[b].concat($);b.$$prototype.uncountables=b.$$prototype.plurals=b.$$prototype.singulars=b.$$prototype.humans=a,b.__instance__=l([],{}),function(t,$super,n){var r,$,i,l,u=s(t,$super,"Uncountables"),_=[u].concat(n);e.def(u,"$<<",r=function(){var t,n=this;return t=e.slice.call(arguments,0,arguments.length),n.$add(t)},r.$$arity=-1),e.def(u,"$add",$=function(e){var t=this;return e=c(e.$flatten(),"map",[],"downcase".$to_proc()),t.$concat(e),t},$.$$arity=1),e.def(u,"$uncountable?",i=function(e){return this["$include?"](e.$downcase())},i.$$arity=1),e.def(u,"$dup",l=function(){var e=this,t=a;return(t=o(_,"Uncountables").$new()).$add(e),t},l.$$arity=0)}(k[0],o(k,"Array"),k),e.defs(b,"$instance",i=function(n){var r=this,$=a,o=a;return null==r.__instance__&&(r.__instance__=a),u($=r.__instance__["$[]"](n))?$:(o=[n,r.$new()],c(r.__instance__,"[]=",e.to_a(o)),o[t(o.length,1)])},i.$$arity=1),b.$attr_reader("plurals","singulars","uncountables","humans"),e.def(b,"$initialize",p=function(){var e,t=this;return e=[[],[],o(k,"Uncountables").$new(),[]],t.plurals=e[0],t.singulars=e[1],t.uncountables=e[2],t.humans=e[3],e},p.$$arity=0),e.def(b,"$initialize_dup",d=function(e){var t,n=this;return c(["plurals","singulars","uncountables","humans"],"each",[],((t=function(n){var r=null==t.$$s?this:t.$$s;return null==n&&(n=a),r.$instance_variable_set("@"+n,e.$send(n).$dup())}).$$s=n,t.$$arity=1,t))},d.$$arity=1),e.def(b,"$plural",f=function(e,t){var n=this;return u(e["$is_a?"](o(k,"String")))&&n.uncountables.$delete(e),n.uncountables.$delete(t),n.plurals.$unshift([e,t])},f.$$arity=2),e.def(b,"$singular",h=function(e,t){var n=this;return u(e["$is_a?"](o(k,"String")))&&n.uncountables.$delete(e),n.uncountables.$delete(t),n.singulars.$unshift([e,t])},h.$$arity=2),e.def(b,"$uncountable",m=function(){var t,n=this;return t=e.slice.call(arguments,0,arguments.length),n.uncountables.$add(t)},m.$$arity=-1),e.def(b,"$human",y=function(e,t){return this.humans.$unshift([e,t])},y.$$arity=2),e.def(b,"$irregular",v=function(t,r){var $=this,o=a,i=a,s=a,l=a;return $.uncountables.$delete(t),$.uncountables.$delete(r),o=t["$[]"](0),i=t["$[]"](_(1,-1,!1)),s=r["$[]"](0),l=r["$[]"](_(1,-1,!1)),o.$upcase()["$=="](s.$upcase())?($.$plural(e.regexp(["(",o,")",i,"$"],"i"),n("\\1",l)),$.$plural(e.regexp(["(",s,")",l,"$"],"i"),n("\\1",l)),$.$singular(e.regexp(["(",o,")",i,"$"],"i"),n("\\1",i)),$.$singular(e.regexp(["(",s,")",l,"$"],"i"),n("\\1",i))):($.$plural(e.regexp([o.$upcase(),i,"$"],"i"),n(s.$upcase(),l)),$.$plural(e.regexp([o.$downcase(),i,"$"],"i"),n(s.$downcase(),l)),$.$plural(e.regexp([s.$upcase(),l,"$"],"i"),n(s.$upcase(),l)),$.$plural(e.regexp([s.$downcase(),l,"$"],"i"),n(s.$downcase(),l)),$.$singular(e.regexp([o.$upcase(),i,"$"],"i"),n(o.$upcase(),i)),$.$singular(e.regexp([o.$downcase(),i,"$"],"i"),n(o.$downcase(),i)),$.$singular(e.regexp([s.$upcase(),l,"$"],"i"),n(o.$upcase(),i)),$.$singular(e.regexp([s.$downcase(),l,"$"],"i"),n(o.$downcase(),i)))},v.$$arity=2),e.def(b,"$clear",g=function(e){var t,n=this,r=a;return null==e&&(e="all"),r=e,"all"["$==="](r)?(t=[[],[],o(k,"Uncountables").$new(),[]],n.plurals=t[0],n.singulars=t[1],n.uncountables=t[2],n.humans=t[3],t):n.$instance_variable_set("@"+e,[])},g.$$arity=-1)}(f[0],0,f),e.def(d,"$inflections",p=function(t){var n=p.$$p,r=n||a;return n&&(p.$$p=null),null==t&&(t="en"),r!==a?e.yield1(r,o(f,"Inflections").$instance(t)):o(f,"Inflections").$instance(t)},p.$$arity=-1),a&&"inflections"}(p[0],p)}($[0],$)},Opal.modules["active_support/inflections"]=function(e){var t=e.top,n=[],r=e.nil,$=(e.$$$,e.$$),a=e.module,o=e.send;return e.add_stubs(["$require","$inflections","$plural","$singular","$irregular","$uncountable"]),t.$require("active_support/inflector/inflections"),function(e,t){var n,i=a(e,"ActiveSupport"),s=[i].concat(t);return o($(s,"Inflector"),"inflections",["en"],((n=function(e){null==n.$$s||n.$$s;return null==e&&(e=r),e.$plural(/$/,"s"),e.$plural(/s$/i,"s"),e.$plural(/^(ax|test)is$/i,"\\1es"),e.$plural(/(octop|vir)us$/i,"\\1i"),e.$plural(/(octop|vir)i$/i,"\\1i"),e.$plural(/(alias|status)$/i,"\\1es"),e.$plural(/(bu)s$/i,"\\1ses"),e.$plural(/(buffal|tomat)o$/i,"\\1oes"),e.$plural(/([ti])um$/i,"\\1a"),e.$plural(/([ti])a$/i,"\\1a"),e.$plural(/sis$/i,"ses"),e.$plural(/(?:([^f])fe|([lr])f)$/i,"\\1\\2ves"),e.$plural(/(hive)$/i,"\\1s"),e.$plural(/([^aeiouy]|qu)y$/i,"\\1ies"),e.$plural(/(x|ch|ss|sh)$/i,"\\1es"),e.$plural(/(matr|vert|ind)(?:ix|ex)$/i,"\\1ices"),e.$plural(/^(m|l)ouse$/i,"\\1ice"),e.$plural(/^(m|l)ice$/i,"\\1ice"),e.$plural(/^(ox)$/i,"\\1en"),e.$plural(/^(oxen)$/i,"\\1"),e.$plural(/(quiz)$/i,"\\1zes"),e.$singular(/s$/i,""),e.$singular(/(ss)$/i,"\\1"),e.$singular(/(n)ews$/i,"\\1ews"),e.$singular(/([ti])a$/i,"\\1um"),e.$singular(/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)(sis|ses)$/i,"\\1sis"),e.$singular(/(^analy)(sis|ses)$/i,"\\1sis"),e.$singular(/([^f])ves$/i,"\\1fe"),e.$singular(/(hive)s$/i,"\\1"),e.$singular(/(tive)s$/i,"\\1"),e.$singular(/([lr])ves$/i,"\\1f"),e.$singular(/([^aeiouy]|qu)ies$/i,"\\1y"),e.$singular(/(s)eries$/i,"\\1eries"),e.$singular(/(m)ovies$/i,"\\1ovie"),e.$singular(/(x|ch|ss|sh)es$/i,"\\1"),e.$singular(/^(m|l)ice$/i,"\\1ouse"),e.$singular(/(bus)(es)?$/i,"\\1"),e.$singular(/(o)es$/i,"\\1"),e.$singular(/(shoe)s$/i,"\\1"),e.$singular(/(cris|test)(is|es)$/i,"\\1is"),e.$singular(/^(a)x[ie]s$/i,"\\1xis"),e.$singular(/(octop|vir)(us|i)$/i,"\\1us"),e.$singular(/(alias|status)(es)?$/i,"\\1"),e.$singular(/^(ox)en/i,"\\1"),e.$singular(/(vert|ind)ices$/i,"\\1ex"),e.$singular(/(matr)ices$/i,"\\1ix"),e.$singular(/(quiz)zes$/i,"\\1"),e.$singular(/(database)s$/i,"\\1"),e.$irregular("person","people"),e.$irregular("man","men"),e.$irregular("child","children"),e.$irregular("sex","sexes"),e.$irregular("move","moves"),e.$irregular("zombie","zombies"),e.$uncountable(["equipment","information","rice","money","species","series","fish","sheep","jeans","police"])}).$$s=i,n.$$arity=1,n))}(n[0],n)},Opal.modules["active_support/inflector/methods"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=e.top,$=[],a=e.nil,o=(e.$$$,e.$$),i=e.module,s=e.truthy,l=e.send,c=e.gvars,u=e.hash2,_=e.range;return e.add_stubs(["$require","$extend","$apply_inflections","$plurals","$inflections","$singulars","$to_s","$sub","$capitalize","$downcase","$gsub","$freeze","$match?","$tr","$dup","$each","$humans","$is_a?","$=~","$==","$upcase","$>","$length","$+","$[]","$humanize","$underscore","$pluralize","$camelize","$singularize","$rindex","$demodulize","$split","$empty?","$raise","$size","$first","$shift","$inject","$const_get","$const_defined?","$ancestors","$constantize","$name","$!","$include?","$const_regexp","$message","$abs","$to_i","$%","$===","$ordinal","$private","$blank?","$escape","$pop","$reverse","$uncountable?","$uncountables"]),r.$require("active_support/inflections"),function(r,$){var p=[i(r,"ActiveSupport")].concat($);return function(r,$){var p,d,f,h,m,y,v,g,b,k,w,x,O,H,I,C,R,S,z,q=i(r,"Inflector"),N=[q].concat($);return q.$extend(q),e.def(q,"$pluralize",p=function(e,t){var n=this;return null==t&&(t="en"),n.$apply_inflections(e,n.$inflections(t).$plurals(),t)},p.$$arity=-2),e.def(q,"$singularize",d=function(e,t){var n=this;return null==t&&(t="en"),n.$apply_inflections(e,n.$inflections(t).$singulars(),t)},d.$$arity=-2),e.def(q,"$camelize",f=function(e,t){var n,r,$=this,o=a;return null==t&&(t=!0),o=e.$to_s(),o=s(t)?l(o,"sub",[/^[a-z\d]*/],((n=function(e){null==n.$$s||n.$$s;return null==e&&(e=a),e.$capitalize()}).$$s=$,n.$$arity=1,n)):o.$downcase(),o=(o=l(o,"gsub",[/(?:_|(\/))([a-z\d]*)/i],((r=function(){var e;null==r.$$s||r.$$s;return""+((e=c["~"])===a?a:e["$[]"](1))+((e=c["~"])===a?a:e["$[]"](2)).$capitalize()}).$$s=$,r.$$arity=0,r))).$gsub("/".$freeze(),"::".$freeze())},f.$$arity=-2),e.def(q,"$underscore",h=function(e){return s(/[A-Z-]|::/["$match?"](e))?e.$to_s().$gsub("::".$freeze(),"/".$freeze()).$gsub(/([A-Z\d]+)([A-Z][a-z])/,"\\1_\\2".$freeze()).$gsub(/([a-z\d])([A-Z])/,"\\1_\\2".$freeze()).$tr("-".$freeze(),"_".$freeze()).$downcase():e},h.$$arity=1),e.def(q,"$humanize",m=function(t,n){var r,$,i,c,_,p=this,d=a;if(null==n)n=u([],{});else if(!n.$$is_hash)throw e.ArgumentError.$new("expected kwargs");return null==(r=n.$$smap.capitalize)&&(r=!0),null==($=n.$$smap.keep_id_suffix)&&($=!1),d=t.$to_s().$dup(),function(){var t=e.new_brk();try{l(p.$inflections().$humans(),"each",[],((i=function(n){null==i.$$s||i.$$s;var r,$,l=a,c=a,u=a,_=a,p=a;if(null==n&&(n=a),$=n,r=e.to_ary($),l=null==r[0]?a:r[0],c=null==r[1]?a:r[1],!s(s(u=s(_=l["$is_a?"](o(N,"Regexp")))?d["$=~"](l):_)?u:s(p=l["$is_a?"](o(N,"String")))?d["$=="](l):p))return a;d=d.$sub(l,c),e.brk(a,t)}).$$s=p,i.$$brk=t,i.$$arity=1,i.$$has_top_level_mlhs_arg=!0,i))}catch(n){if(n===t)return n.$v;throw n}}(),d=d.$sub(/^_+/,"".$freeze()),s($)||(d=d.$sub(/_id$/,"".$freeze())),d=d.$tr("_".$freeze()," ".$freeze()),d=l(d,"gsub",[/([a-z\d]*)/i],((c=function(e){null==c.$$s||c.$$s;return null==e&&(e=a),""+e.$downcase()}).$$s=p,c.$$arity=1,c)),s(r)&&(d=l(d,"sub",[/^\w/],((_=function(e){null==_.$$s||_.$$s;return null==e&&(e=a),e.$upcase()}).$$s=p,_.$$arity=1,_))),d},m.$$arity=-2),e.def(q,"$upcase_first",y=function(e){return s(t(e.$length(),0))?n(e["$[]"](0).$upcase(),e["$[]"](_(1,-1,!1))):""},y.$$arity=1),e.def(q,"$titleize",v=function(t,n){var r,$,o=this;if(null==n)n=u([],{});else if(!n.$$is_hash)throw e.ArgumentError.$new("expected kwargs");return null==(r=n.$$smap.keep_id_suffix)&&(r=!1),l(o.$humanize(o.$underscore(t),u(["keep_id_suffix"],{keep_id_suffix:r})),"gsub",[/([a-zA-Z'\u2019`])[a-z]*/],(($=function(e){null==$.$$s||$.$$s;return null==e&&(e=a),e.$capitalize()}).$$s=o,$.$$arity=1,$))},v.$$arity=-2),e.def(q,"$tableize",g=function(e){var t=this;return t.$pluralize(t.$underscore(e))},g.$$arity=1),e.def(q,"$classify",b=function(e){var t=this;return t.$camelize(t.$singularize(e.$to_s().$sub(/.*\./,"".$freeze())))},b.$$arity=1),e.def(q,"$dasherize",k=function(e){return e.$tr("_".$freeze(),"-".$freeze())},k.$$arity=1),e.def(q,"$demodulize",w=function(t){var r=a;return t=t.$to_s(),s(r=t.$rindex("::"))?t["$[]"](e.Range.$new(n(r,2),-1,!1)):t},w.$$arity=1),e.def(q,"$deconstantize",x=function(e){var t=a;return e.$to_s()["$[]"](0,s(t=e.$rindex("::"))?t:0)},x.$$arity=1),e.def(q,"$foreign_key",O=function(e,t){var r=this;return null==t&&(t=!0),n(r.$underscore(r.$demodulize(e)),s(t)?"_id":"id")},O.$$arity=-2),e.def(q,"$constantize",H=function(n){var r,$=this,i=a,c=a;return i=n.$split("::"),s(i["$empty?"]())&&$.$raise(o(N,"NameError"),"wrong constant name "),s(s(c=t(i.$size(),1))?i.$first()["$empty?"]():c)&&i.$shift(),function(){var t=e.new_brk();try{return l(i,"inject",[o(N,"Object")],((r=function(t,n){var $,i=null==r.$$s?this:r.$$s,c=a;return null==t&&(t=a),null==n&&(n=a),t["$=="](o(N,"Object"))?t.$const_get(n):(c=t.$const_get(n),s(t["$const_defined?"](n,!1))?c:s(o(N,"Object")["$const_defined?"](n))?(t=function(){var r=e.new_brk();try{return l(t.$ancestors(),"inject",[t],(($=function(t,i){null==$.$$s||$.$$s;return null==t&&(t=a),null==i&&(i=a),i["$=="](o(N,"Object"))&&e.brk(t,r),s(i["$const_defined?"](n,!1))&&e.brk(i,r),t}).$$s=i,$.$$brk=r,$.$$arity=2,$))}catch(c){if(c===r)return c.$v;throw c}}()).$const_get(n,!1):c)}).$$s=$,r.$$brk=t,r.$$arity=2,r))}catch(n){if(n===t)return n.$v;throw n}}()},H.$$arity=1),e.def(q,"$safe_constantize",I=function(t){var n=this,r=a,$=a,i=a;try{return n.$constantize(t)}catch(l){if(e.rescue(l,[o(N,"NameError")])){r=l;try{return s(s($=r.$name())?(s(i=t.$to_s().$split("::")["$include?"](r.$name().$to_s()))?i:r.$name().$to_s()["$=="](t.$to_s()))["$!"]():$)?n.$raise():a}finally{e.pop_exception()}}else{if(!e.rescue(l,[o(N,"ArgumentError")]))throw l;r=l;try{return s(e.regexp(["not missing constant ",n.$const_regexp(t),"!$"])["$match?"](r.$message()))?a:n.$raise()}finally{e.pop_exception()}}}},I.$$arity=1),e.def(q,"$ordinal",C=function(e){var t=a,n=a;return t=e.$to_i().$abs(),s(_(11,13,!1)["$include?"](t["$%"](100)))?"th":(n=t["$%"](10),1["$==="](n)?"st":2["$==="](n)?"nd":3["$==="](n)?"rd":"th")},C.$$arity=1),e.def(q,"$ordinalize",R=function(e){return""+e+this.$ordinal(e)},R.$$arity=1),q.$private(),e.def(q,"$const_regexp",S=function(e){var t,n=this,r=a,$=a;return r=e.$split("::".$freeze()),s(r["$blank?"]())?o(N,"Regexp").$escape(e):($=r.$pop(),l(r.$reverse(),"inject",[$],((t=function(e,n){null==t.$$s||t.$$s;return null==e&&(e=a),null==n&&(n=a),s(n["$empty?"]())?e:n+"(::"+e+")?"}).$$s=n,t.$$arity=2,t)))},S.$$arity=1),e.def(q,"$apply_inflections",z=function(t,n,r){var $,i=this,c=a,u=a;return null==r&&(r="en"),c=t.$to_s().$dup(),s(s(u=t["$empty?"]())?u:i.$inflections(r).$uncountables()["$uncountable?"](c))?c:(function(){var t=e.new_brk();try{l(n,"each",[],(($=function(n){null==$.$$s||$.$$s;var r,i,l=a,u=a,_=a,p=a,d=a;if(null==n&&(n=a),i=n,r=e.to_ary(i),l=null==r[0]?a:r[0],u=null==r[1]?a:r[1],!s(s(_=s(p=l["$is_a?"](o(N,"Regexp")))?c["$=~"](l):p)?_:s(d=l["$is_a?"](o(N,"String")))?c["$=="](l):d))return a;c=c.$sub(l,u),e.brk(a,t)}).$$s=i,$.$$brk=t,$.$$arity=1,$.$$has_top_level_mlhs_arg=!0,$))}catch(r){if(r===t)return r.$v;throw r}}(),c)},z.$$arity=-3),a&&"apply_inflections"}(p[0],p)}($[0],$)},Opal.modules["active_support/inflector"]=function(e){var t=e.top;e.nil,e.$$$,e.$$;return e.add_stubs(["$require"]),t.$require("active_support/inflector/inflections"),t.$require("active_support/inflector/methods"),t.$require("active_support/inflections"),t.$require("active_support/core_ext/string/inflections")},Opal.modules["active_support/core_ext/string/inflections"]=function(e){var t=e.top,n=[],r=e.nil,$=e.$$$,a=e.$$,o=e.klass,i=e.truthy,s=e.hash2;return e.add_stubs(["$require","$is_a?","$==","$dup","$pluralize","$singularize","$constantize","$safe_constantize","$===","$camelize","$raise","$alias_method","$titleize","$underscore","$dasherize","$demodulize","$deconstantize","$tableize","$classify","$humanize","$upcase_first","$foreign_key"]),t.$require("active_support/inflector"),function(t,$super,n){var l,c,u,_,p,d,f,h,m,y,v,g,b,k,w,x=o(t,null,"String"),O=[x].concat(n);return e.def(x,"$pluralize",l=function(e,t){var n=this;return null==e&&(e=r),null==t&&(t="en"),i(e["$is_a?"](a(O,"Symbol")))&&(t=e),e["$=="](1)?n.$dup():$(a(O,"ActiveSupport"),"Inflector").$pluralize(n,t)},l.$$arity=-1),e.def(x,"$singularize",c=function(e){var t=this;return null==e&&(e="en"),$(a(O,"ActiveSupport"),"Inflector").$singularize(t,e)},c.$$arity=-1),e.def(x,"$constantize",u=function(){var e=this;return $(a(O,"ActiveSupport"),"Inflector").$constantize(e)},u.$$arity=0),e.def(x,"$safe_constantize",_=function(){var e=this;return $(a(O,"ActiveSupport"),"Inflector").$safe_constantize(e)},_.$$arity=0),e.def(x,"$camelize",p=function(e){var t=this,n=r;return null==e&&(e="upper"),n=e,"upper"["$==="](n)?$(a(O,"ActiveSupport"),"Inflector").$camelize(t,!0):"lower"["$==="](n)?$(a(O,"ActiveSupport"),"Inflector").$camelize(t,!1):t.$raise(a(O,"ArgumentError"),"Invalid option, use either :upper or :lower.")},p.$$arity=-1),x.$alias_method("camelcase","camelize"),e.def(x,"$titleize",d=function(t){var n,r=this;if(null==t)t=s([],{});else if(!t.$$is_hash)throw e.ArgumentError.$new("expected kwargs");return null==(n=t.$$smap.keep_id_suffix)&&(n=!1),$(a(O,"ActiveSupport"),"Inflector").$titleize(r,s(["keep_id_suffix"],{keep_id_suffix:n}))},d.$$arity=-1),x.$alias_method("titlecase","titleize"),e.def(x,"$underscore",f=function(){var e=this;return $(a(O,"ActiveSupport"),"Inflector").$underscore(e)},f.$$arity=0),e.def(x,"$dasherize",h=function(){var e=this;return $(a(O,"ActiveSupport"),"Inflector").$dasherize(e)},h.$$arity=0),e.def(x,"$demodulize",m=function(){var e=this;return $(a(O,"ActiveSupport"),"Inflector").$demodulize(e)},m.$$arity=0),e.def(x,"$deconstantize",y=function(){var e=this;return $(a(O,"ActiveSupport"),"Inflector").$deconstantize(e)},y.$$arity=0),e.def(x,"$tableize",v=function(){var e=this;return $(a(O,"ActiveSupport"),"Inflector").$tableize(e)},v.$$arity=0),e.def(x,"$classify",g=function(){var e=this;return $(a(O,"ActiveSupport"),"Inflector").$classify(e)},g.$$arity=0),e.def(x,"$humanize",b=function(t){var n,r,o=this;if(null==t)t=s([],{});else if(!t.$$is_hash)throw e.ArgumentError.$new("expected kwargs");return null==(n=t.$$smap.capitalize)&&(n=!0),null==(r=t.$$smap.keep_id_suffix)&&(r=!1),$(a(O,"ActiveSupport"),"Inflector").$humanize(o,s(["capitalize","keep_id_suffix"],{capitalize:n,keep_id_suffix:r}))},b.$$arity=-1),e.def(x,"$upcase_first",k=function(){var e=this;return $(a(O,"ActiveSupport"),"Inflector").$upcase_first(e)},k.$$arity=0),e.def(x,"$foreign_key",w=function(e){var t=this;return null==e&&(e=!0),$(a(O,"ActiveSupport"),"Inflector").$foreign_key(t,e)},w.$$arity=-1),r&&"foreign_key"}(n[0],0,n)},Opal.modules["active_support/core_ext/string"]=function(e){var t=e.top,n=[],r=e.nil,$=(e.$$$,e.$$,e.klass);return e.add_stubs(["$require","$gsub","$strip","$downcase"]),t.$require("active_support/core_ext/string/filters"),t.$require("active_support/core_ext/string/inflections"),function(t,$super,n){var a,o=$(t,null,"String");[o].concat(n);return e.def(o,"$parameterize",a=function(){return this.$downcase().$strip().$gsub(/\W+/,"-")},a.$$arity=0),r&&"parameterize"}(n[0],0,n)},Opal.modules["hyperstack/internal/component/props_wrapper"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var r=e.top,$=[],a=e.nil,o=(e.$$$,e.$$),i=e.module,s=e.klass,l=e.truthy,c=e.range,u=e.send;return e.add_stubs(["$require","$attr_reader","$naming_convention","$===","$fix_suffix","$camelize","$=~","$+","$[]","$respond_to?","$superclass","$param_accessor_style","$dup","$param_definitions","$new","$!=","$instance_var_name_for","$lambda","$instance_variable_set","$fetch_from_cache","$==","$[]=","$-","$include?","$define_method","$to_sym","$props","$call","$to_proc","$class","$each_value","$instance_exec","$initialize","$private","$cache","$equal?","$tap","$convert_param","$_react_param_conversion","$is_a?","$collect","$component","$instance_variable_get"]),r.$require("active_support/core_ext/string"),function(r,$){var _=[i(r,"Hyperstack")].concat($);return function(r,$){var _=[i(r,"Internal")].concat($);return function(r,$){var _=[i(r,"Component")].concat($);return function(r,$super,$){var i,_,p,d,f,h,m,y,v,g=s(r,null,"PropsWrapper"),b=[g].concat($);return g.$$prototype.component=g.$$prototype.cache=a,g.$attr_reader("component"),function(r,$){var i,s,_,p,d,f,h=[r].concat($);e.def(r,"$instance_var_name_for",i=function(e){var t=this,n=a;return n=o(h,"Hyperstack").$naming_convention(),"camelize_params"["$==="](n)?t.$fix_suffix(e.$camelize()):"prefix_params"["$==="](n)?"_"+e:e},i.$$arity=1),
e.def(r,"$fix_suffix",s=function(e){return l(e)?l(e["$=~"](/\?$/))?t(e["$[]"](c(0,-2,!1)),"_q"):l(e["$=~"](/\!$/))?t(e["$[]"](c(0,-2,!1)),"_b"):e:a},s.$$arity=1),e.def(r,"$param_accessor_style",_=function(e){var t=this,n=a;return null==t.param_accessor_style&&(t.param_accessor_style=a),null==e&&(e=a),l(e)&&(t.param_accessor_style=e),t.param_accessor_style=l(n=t.param_accessor_style)?n:l(t.$superclass()["$respond_to?"]("param_accessor_style"))?t.$superclass().$param_accessor_style():"hyperstack"},_.$$arity=-1),e.def(r,"$param_definitions",p=function(){var e=this,t=a;return null==e.param_definitions&&(e.param_definitions=a),e.param_definitions=l(t=e.param_definitions)?t:l(e.$superclass()["$respond_to?"]("param_definitions"))?e.$superclass().$param_definitions().$dup():o(h,"Hash").$new()},p.$$arity=0),e.def(r,"$define_param",d=function(t,r,$){var i,s,c,_=d.$$p,p=this,f=a,m=a,y=a,v=a,g=a,b=a;return _&&(d.$$p=null),null==$&&($=a),l(l(f=p.$param_accessor_style()["$!="]("legacy"))?f:$)&&(m=l(y=$)?y:t,v=l(g=p.$fix_suffix($))?g:p.$instance_var_name_for(t),b=[t,u(p,"lambda",[],(i=function(e){var n=null==i.$$s?this:i.$$s,$=a;return null==n.component&&(n.component=a),null==e&&(e=a),n.component.$instance_variable_set("@"+v,$=n.$fetch_from_cache(t,r,e)),n.$param_accessor_style()["$=="]("accessors")?n.component["$"+m]=function(){return $}:a},i.$$s=p,i.$$arity=1,i))],u(p.$param_definitions(),"[]=",e.to_a(b)),b[n(b.length,1)],l(["hyperstack","accessors"]["$include?"](p.$param_accessor_style())))?a:r["$=="](o(h,"Proc"))?u(p,"define_method",[t.$to_sym()],((s=function(){var n,r=null==s.$$s?this:s.$$s,$=s.$$p,o=$||a;return $&&(s.$$p=null),n=e.slice.call(arguments,0,arguments.length),l(r.$props()["$[]"](t))?u(r.$props()["$[]"](t),"call",e.to_a(n),o.$to_proc()):a}).$$s=p,s.$$arity=-1,s)):u(p,"define_method",[t.$to_sym()],((c=function(){var e=null==c.$$s?this:c.$$s;return e.$fetch_from_cache(t,r,e.$props())}).$$s=p,c.$$arity=0,c))},d.$$arity=-3),e.def(r,"$define_all_others",f=function(t){var r,$,o=f.$$p,i=o||a,s=this,c=a,_=a;return o&&(f.$$p=null),c=s.$instance_var_name_for(t),_=[t,u(s,"lambda",[],(r=function(n){var $=null==r.$$s?this:r.$$s,o=a;return null==$.component&&($.component=a),null==n&&(n=a),$.component.$instance_variable_set("@"+c,o=e.yield1(i,n)),$.$param_accessor_style()["$=="]("accessors")?$.component["$"+t]=function(){return o}:a},r.$$s=s,r.$$arity=1,r))],u(s.$param_definitions(),"[]=",e.to_a(_)),_[n(_.length,1)],u(s,"define_method",[t.$to_sym()],(($=function(){var t=null==$.$$s?this:$.$$s,n=a;return null==t._all_others_cache&&(t._all_others_cache=a),t._all_others_cache=l(n=t._all_others_cache)?n:e.yield1(i,t.$props())}).$$s=s,$.$$arity=0,$))},f.$$arity=1)}(e.get_singleton_class(g),b),e.def(g,"$param_accessor_style",i=function(){return this.$class().$param_accessor_style()},i.$$arity=0),e.def(g,"$initialize",_=function(e,t){var n,r=this;return null==t&&(t=a),r.component=e,u(r.$class().$param_definitions(),"each_value",[],((n=function(e){var r=null==n.$$s?this:n.$$s,$=a;return null==e&&(e=a),u(r,"instance_exec",[l($=t)?$:r.$props()],e.$to_proc())}).$$s=r,n.$$arity=1,n))},_.$$arity=-2),e.def(g,"$reload",p=function(e){var t=this;return t._all_others_cache=a,t.$initialize(t.component,e)},p.$$arity=1),e.def(g,"$[]",d=function(e){return this.$props()["$[]"](e)},d.$$arity=1),g.$private(),e.def(g,"$fetch_from_cache",f=function(t,r,$){var o,i,s,c=this,_=a,p=a;return i=c.$cache()["$[]"](t),_=null==(o=e.to_ary(i))[0]?a:o[0],p=null==o[1]?a:o[1],l(_["$equal?"]($["$[]"](t)))?p:u(c.$convert_param(t,r,$),"tap",[],((s=function(r){var o=null==s.$$s?this:s.$$s,i=a;return null==r&&(r=a),i=[t,[$["$[]"](t),r]],u(o.$cache(),"[]=",e.to_a(i)),i[n(i.length,1)]}).$$s=c,s.$$arity=1,s))},f.$$arity=3),e.def(g,"$convert_param",h=function(e,t,n){var r,$=this,i=a;return l(t["$respond_to?"]("_react_param_conversion"))?t.$_react_param_conversion(n["$[]"](e),a):l(l(i=t["$is_a?"](o(b,"Array")))?t["$[]"](0)["$respond_to?"]("_react_param_conversion"):i)?u(n["$[]"](e),"collect",[],((r=function(e){null==r.$$s||r.$$s;return null==e&&(e=a),t["$[]"](0).$_react_param_conversion(e,a)}).$$s=$,r.$$arity=1,r)):n["$[]"](e)},h.$$arity=3),e.def(g,"$cache",m=function(){var t,r=this,$=a;return r.cache=l($=r.cache)?$:u(o(b,"Hash"),"new",[],((t=function(r,$){null==t.$$s||t.$$s;var o=a;return null==r&&(r=a),null==$&&($=a),o=[$,[]],u(r,"[]=",e.to_a(o)),o[n(o.length,1)]}).$$s=r,t.$$arity=2,t))},m.$$arity=0),e.def(g,"$props",y=function(){return this.$component().$props()},y.$$arity=0),e.def(g,"$value_for",v=function(e){var t=this;return l(t["$[]"](e))?t["$[]"](e).$instance_variable_get("@value"):a},v.$$arity=1),a&&"value_for"}(_[0],0,_)}(_[0],_)}(_[0],_)}($[0],$)},Opal.modules["hyperstack/component"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}var n=e.top,r=[],$=e.nil,a=e.$$$,o=e.$$,i=e.module,s=e.send,l=e.truthy,c=e.hash2,u=e.lambda,_=e.hash;return e.add_stubs(["$require","$include","$class_eval","$class_attribute","$lambda","$zero?","$arity","$deprecation_warning","$instance_exec","$to_proc","$define_callback","$add_after_error_hook","$extend","$respond_to?","$!","$<","$allow_deprecated_render_definition?","$new","$to_a","$mounted_components","$each","$include?","$force_update!","$name","$class","$event_camelize","$to_s","$call","$[]","$params","$props_wrapper","$on_opal_client?","$load_context","$observing","$<<","$run_callback","$props","$quiet_test","$reload","$unmount","$remove","$delete","$set_state","$==","$method_defined?","$raise","$first","$component_will_mount","$_run_before_render_callbacks","$render","$waiting_on_resources"]),n.$require("hyperstack/ext/component/string"),n.$require("hyperstack/ext/component/hash"),n.$require("active_support/core_ext/class/attribute"),n.$require("hyperstack/internal/component/rendering_context"),n.$require("hyperstack/internal/component"),n.$require("hyperstack/internal/component/instance_methods"),n.$require("hyperstack/internal/component/class_methods"),n.$require("hyperstack/internal/component/props_wrapper"),function(n,r){var p=[i(n,"Hyperstack")].concat(r);return function(n,r){var p,d,f,h,m,y,v,g,b,k,w,x,O,H,I,C,R,S,z,q,N,j=i(n,"Component"),E=[j].concat(r);return e.defs(j,"$included",p=function(n){var r,i=this,_=$,p=$;return n.$include(a(a(o(E,"Hyperstack"),"State"),"Observer")),n.$include(a(a(a(o(E,"Hyperstack"),"Internal"),"Component"),"InstanceMethods")),n.$include(a(a(o(E,"Hyperstack"),"Internal"),"AutoUnmount")),n.$include(a(a(a(o(E,"Hyperstack"),"Internal"),"Component"),"Tags")),n.$include(a(a(a(o(E,"Hyperstack"),"Internal"),"Component"),"ShouldComponentUpdate")),s(n,"class_eval",[],((r=function(){var t,n,i,_,p,d=null==r.$$s?this:r.$$s,f=$;return d.$class_attribute("initial_state"),f=s(d,"lambda",[],((t=function(n,r,a){var o,i=null==t.$$s?this:t.$$s;return null==n&&(n=$),null==r&&(r=$),null==a&&(a=$),o=e.slice.call(arguments,3,arguments.length),l(a.$arity()["$zero?"]())?o=[]:i.$deprecation_warning("In the future "+n+" callbacks will not receive any parameters."),s(r,"instance_exec",e.to_a(o),a.$to_proc()),o}).$$s=d,t.$$arity=-4,t)),d.$define_callback("before_mount",c(["before_call_hook"],{before_call_hook:f})),d.$define_callback("after_mount"),d.$define_callback("before_new_params",c(["after_define_hook"],{after_define_hook:s(d,"lambda",[],(n=function(e){null==n.$$s||n.$$s;return null==e&&(e=$),e.$deprecation_warning("`before_new_params` has been deprecated.  The base method componentWillReceiveProps is deprecated in React without replacement")},n.$$s=d,n.$$arity=1,n))})),d.$define_callback("before_update",c(["before_call_hook"],{before_call_hook:f})),d.$define_callback("after_update"),d.$define_callback("__hyperstack_component_after_render_hook",c(["before_call_hook"],{before_call_hook:u((i=function(t,n,r){var a;null==i.$$s||i.$$s;return null==t&&(t=$),null==n&&(n=$),null==r&&(r=$),a=e.slice.call(arguments,3,arguments.length),[].concat(e.to_a(s(n,"instance_exec",e.to_a(a),r.$to_proc())))},i.$$s=d,i.$$arity=-4,i))})),d.$define_callback("__hyperstack_component_rescue_hook",c(["before_call_hook"],{before_call_hook:u((_=function(t,n,r){var a;null==_.$$s||_.$$s;return null==t&&(t=$),null==n&&(n=$),null==r&&(r=$),a=e.slice.call(arguments,3,arguments.length),s(n,"instance_exec",e.to_a(a),r.$to_proc())},_.$$s=d,_.$$arity=-4,_))})),d.$define_callback("after_error",c(["after_define_hook"],{after_define_hook:u((p=function(e){null==p.$$s||p.$$s;return null==e&&(e=$),a(a(a(o(E,"Hyperstack"),"Internal"),"Component"),"ReactWrapper").$add_after_error_hook(e)},p.$$s=d,p.$$arity=1,p))}))}).$$s=i,r.$$arity=0,r)),n.$extend(a(a(a(o(E,"Hyperstack"),"Internal"),"Component"),"ClassMethods")),l(e.__hyperstack_component_original_defn)?$:(e.__hyperstack_component_original_defn=e.defn,e.defn=function(n,r,$){l(l(_=n["$respond_to?"]("hyper_component?"))?t(n,a(a(o(E,"Hyperstack"),"Component"),"NativeLibrary"))["$!"]():_)&&(l(l(p="$render"==r)?n["$allow_deprecated_render_definition?"]()["$!"]():p)?o(E,"Hyperstack").$deprecation_warning(n,"Do not directly define the render method. Use the render macro instead."):l("$__hyperstack_component_render"==r)&&(r="$render")),e.__hyperstack_component_original_defn(n,r,$)},$)},p.$$arity=1),e.defs(j,"$mounted_components",d=function(){var e=this,t=$;return null==e.__hyperstack_component_mounted_components&&(e.__hyperstack_component_mounted_components=$),e.__hyperstack_component_mounted_components=l(t=e.__hyperstack_component_mounted_components)?t:o(E,"Set").$new()},d.$$arity=0),e.defs(j,"$force_update!",f=function(){var e,t=this,n=$;return n=t.$mounted_components().$to_a(),s(n,"each",[],((e=function(t){var n=null==e.$$s?this:e.$$s;return null==t&&(t=$),l(n.$mounted_components()["$include?"](t))?t["$force_update!"]():$}).$$s=t,e.$$arity=1,e))},f.$$arity=0),e.defs(j,"$deprecation_warning",h=function(e){var t=this;return o(E,"Hyperstack").$deprecation_warning(t.$name(),e)},h.$$arity=1),e.def(j,"$deprecation_warning",m=function(e){var t=this;return o(E,"Hyperstack").$deprecation_warning(t.$class().$name(),e)},m.$$arity=1),e.def(j,"$initialize",y=function(e){return this.__hyperstack_component_native=e},y.$$arity=1),e.def(j,"$emit",v=function(t){var n,r=this,i=$;return n=e.slice.call(arguments,1,arguments.length),l(a(o(E,"Event"),"BUILT_IN_EVENTS")["$include?"](i="on"+t.$to_s().$event_camelize()))?s(r.$params()["$[]"](i),"call",e.to_a(n)):s(r.$params()["$[]"]("on_"+t),"call",e.to_a(n))},v.$$arity=-2),e.def(j,"$component_will_mount",g=function(){var e,t=this;return t.__hyperstack_component_params_wrapper=t.$class().$props_wrapper().$new(t),l(o(E,"IsomorphicHelpers")["$on_opal_client?"]())&&o(E,"IsomorphicHelpers").$load_context(!0),s(t,"observing",[c(["immediate_update"],{immediate_update:!0})],((e=function(){var t=null==e.$$s?this:e.$$s;return a(o(E,"Hyperstack"),"Component").$mounted_components()["$<<"](t),t.$run_callback("before_mount",t.$props())}).$$s=t,e.$$arity=0,e))},g.$$arity=0),e.def(j,"$component_did_mount",b=function(){var e,t=this;return s(t,"observing",[c(["update_objects"],{update_objects:!0})],((e=function(){var t=null==e.$$s?this:e.$$s;return t.$run_callback("after_mount"),a(a(a(o(E,"Hyperstack"),"Internal"),"Component"),"RenderingContext").$quiet_test(t)}).$$s=t,e.$$arity=0,e))},b.$$arity=0),e.def(j,"$component_will_receive_props",k=function(e){var t,n=this;return s(n,"observing",[c(["immediate_update"],{immediate_update:!0})],((t=function(){return(null==t.$$s?this:t.$$s).$run_callback("before_new_params",e)}).$$s=n,t.$$arity=0,t)),n.__hyperstack_component_receiving_props=!0},k.$$arity=1),e.def(j,"$component_will_update",w=function(e,t){var n,r=this;return null==r.__hyperstack_component_receiving_props&&(r.__hyperstack_component_receiving_props=$),null==r.__hyperstack_component_params_wrapper&&(r.__hyperstack_component_params_wrapper=$),s(r,"observing",[],((n=function(){return(null==n.$$s?this:n.$$s).$run_callback("before_update",e,t)}).$$s=r,n.$$arity=0,n)),l(r.__hyperstack_component_receiving_props)&&r.__hyperstack_component_params_wrapper.$reload(e),r.__hyperstack_component_receiving_props=!1},w.$$arity=2),e.def(j,"$component_did_update",x=function(e,t){var n,r=this;return s(r,"observing",[c(["update_objects"],{update_objects:!0})],((n=function(){var r=null==n.$$s?this:n.$$s;return r.$run_callback("after_update",e,t),a(a(a(o(E,"Hyperstack"),"Internal"),"Component"),"RenderingContext").$quiet_test(r)}).$$s=r,n.$$arity=0,n))},x.$$arity=2),e.def(j,"$component_will_unmount",O=function(){var e,t=this;return s(t,"observing",[],((e=function(){var t=null==e.$$s?this:e.$$s;return t.$unmount(),t.$remove(),a(o(E,"Hyperstack"),"Component").$mounted_components().$delete(t)}).$$s=t,e.$$arity=0,e))},O.$$arity=0),e.def(j,"$component_did_catch",H=function(e,t){var n,r=this;return s(r,"observing",[],((n=function(){return(null==n.$$s?this:n.$$s).$run_callback("after_error",e,t)}).$$s=r,n.$$arity=0,n))},H.$$arity=2),e.def(j,"$mutations",I=function(){return this.$set_state(c(["***_state_updated_at-***"],{"***_state_updated_at-***":Date.now()+Math.random()}))},I.$$arity=1),e.def(j,"$update_react_js_state",C=function(e,t,n){var r=this;return l(e)?(e["$=="](r)||(t=e.$class()+"."+t),r.$set_state(_("***_state_updated_at-***",Date.now()+Math.random(),t,n))):r.$set_state(_(t,n))},C.$$arity=3),l(j["$method_defined?"]("render"))||e.def(j,"$render",R=function(){return this.$raise("no render defined")},R.$$arity=0),e.def(j,"$waiting_on_resources",S=function(){var e=this;return null==e.__hyperstack_component_waiting_on_resources&&(e.__hyperstack_component_waiting_on_resources=$),e.__hyperstack_component_waiting_on_resources},S.$$arity=0),e.def(j,"$__hyperstack_component_run_post_render_hooks",z=function(e){return this.$run_callback("__hyperstack_component_after_render_hook",e).$first()},z.$$arity=1),e.def(j,"$_run_before_render_callbacks",q=function(){var e=this;return null==e.__component_mounted&&(e.__component_mounted=$),l(e.__component_mounted)||e.$component_will_mount(),e.__component_mounted=!0},q.$$arity=0),e.def(j,"$_render_wrapper",N=function(){var e,t=this;return t.$_run_before_render_callbacks(),s(t,"observing",[c(["rendering"],{rendering:!0})],((e=function(){var t,n=null==e.$$s?this:e.$$s,r=$;return r=s(a(a(a(o(E,"Hyperstack"),"Internal"),"Component"),"RenderingContext"),"render",[$],((t=function(){var e=null==t.$$s?this:t.$$s,n=$;return l(n=e.$render())?n:""}).$$s=n,t.$$arity=0,t)),l(r["$respond_to?"]("waiting_on_resources"))&&(n.__hyperstack_component_waiting_on_resources=r.$waiting_on_resources()),r}).$$s=t,e.$$arity=0,e))},N.$$arity=0),$&&"_render_wrapper"}(p[0],p)}(r[0],r)},Opal.modules["hyperstack/internal/component/should_component_update"]=function(e){e.top;var t=[],n=e.nil,r=(e.$$$,e.$$),$=e.module,a=e.send,o=e.truthy;return e.add_stubs(["$observing","$respond_to?","$!","$call_needs_update","$props_changed?","$native_state_changed?","$define_singleton_method","$needs_update?","$new","$!="]),function(t,i){var s=[$(t,"Hyperstack")].concat(i);return function(t,i){var s=[$(t,"Internal")].concat(i);return function(t,i){var s=[$(t,"Component")].concat(i);return function(t,i){var s,l,c,u,_=$(t,"ShouldComponentUpdate"),p=[_].concat(i);return e.def(_,"$should_component_update?",s=function(e,t){var r,$=this;return a($,"observing",[],((r=function(){var $=null==r.$$s?this:r.$$s,a=n;return o($["$respond_to?"]("needs_update?"))?$.$call_needs_update(e,t)["$!"]()["$!"]():o(a=$["$props_changed?"](e))?a:$["$native_state_changed?"](t)}).$$s=$,r.$$arity=0,r))},s.$$arity=2),e.def(_,"$call_needs_update",l=function(e,t){var r,$,o=this,i=n;return i=o,a(e,"define_singleton_method",["changed?"],((r=function(){var e=null==r.$$s?this:r.$$s;return i["$props_changed?"](e)}).$$s=o,r.$$arity=0,r)),a(t,"define_singleton_method",["changed?"],(($=function(){null==$.$$s||$.$$s;return i["$native_state_changed?"](t)}).$$s=o,$.$$arity=0,$)),o["$needs_update?"](e,t)},l.$$arity=2),e.def(_,"$native_state_changed?",c=function(e){var t=this,$=n;return null==t.__hyperstack_component_native&&(t.__hyperstack_component_native=n),$=r(p,"Hash").$new(t.__hyperstack_component_native.state),e["$!="]($)},c.$$arity=1),e.def(_,"$props_changed?",u=function(e){var t=this,$=n;return null==t.__hyperstack_component_native&&(t.__hyperstack_component_native=n),$=r(p,"Hash").$new(t.__hyperstack_component_native.props),e["$!="]($)},u.$$arity=1),n&&"props_changed?"}(s[0],s)}(s[0],s)}(s[0],s)}(t[0],t)},Opal.modules["hyperstack/internal/component/tags"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}e.top;var r=[],$=e.nil,a=e.$$$,o=e.$$,i=e.module,s=e.send,l=e.truthy,c=e.send2,u=e.find_super,_=e.klass;return e.add_stubs(["$+","$each","$define_method","$upcase","$render","$to_proc","$const_set","$new","$include","$import_native_component","$downcase","$=~","$include?","$create_element","$find_component","$find_name_and_parent","$extend","$private","$name","$split","$>","$length","$last","$[]","$inject","$const_get","$lookup_const","$!","$method_defined?","$raise","$_reactrb_import_component_class","$==","$reverse","$to_s","$class","$detect","$const_defined?","$respond_to?"]),function(r,_){var p=[i(r,"Hyperstack")].concat(_);(function(r,_){var p=[i(r,"Internal")].concat(_);(function(r,_){var p=[i(r,"Component")].concat(_);(function(r,_){var p,d,f,h,m,y,v=i(r,"Tags"),g=[v].concat(_);e.const_set(g[0],"HTML_TAGS",t(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"],["circle","clipPath","defs","ellipse","g","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"])),s(o(g,"HTML_TAGS"),"each",[],((p=function(t){var n,r=null==p.$$s?this:p.$$s;return null==t&&(t=$),s(r,"define_method",[t.$upcase()],((n=function(){null==n.$$s||n.$$s;var r,a=n.$$p,i=a||$;return a&&(n.$$p=null),r=e.slice.call(arguments,0,arguments.length),s(o(g,"RenderingContext"),"render",[t].concat(e.to_a(r)),i.$to_proc())}).$$s=r,n.$$arity=-1,n)),r.$const_set(t.$upcase(),t)}).$$s=v,p.$$arity=1,p)),v.$const_set("FRAGMENT",s(o(g,"Class"),"new",[],((d=function(){var e,t=null==d.$$s?this:d.$$s;return t.$include(a(o(g,"Hyperstack"),"Component")),s(t,"render",[],((e=function(){null==e.$$s||e.$$s;return $}).$$s=t,e.$$arity=0,e)),a(a(a(o(g,"Hyperstack"),"Internal"),"Component"),"ReactWrapper").$import_native_component(t,React.Fragment)}).$$s=v,d.$$arity=0,d))),e.defs(v,"$html_tag_class_for",f=function(e){var t=$,n=$;return t=e.$downcase(),l(l(n=e["$=~"](/^[A-Z]+$/))?o(g,"HTML_TAGS")["$include?"](t):n)?o(g,"Object").$const_set(e,o(g,"ReactWrapper").$create_element(t)):$},f.$$arity=1),e.def(v,"$method_missing",h=function(t){var n,r=h.$$p,a=r||$,i=this,_=$;return r&&(h.$$p=null),r&&(h.$$p=null),n=e.slice.call(arguments,1,arguments.length),_=i.$find_component(t),l(_)?s(o(g,"RenderingContext"),"render",[_].concat(e.to_a(n)),a.$to_proc()):c(i,u(i,"method_missing",h,!1,!0),"method_missing",[t].concat(e.to_a(n)),r)},h.$$arity=-2),function(r,a){var i,c,u=[r].concat(a);e.def(r,"$included",i=function(t){var n,r,a,l=i.$$p,c=this,_=$,p=$,d=$;return l&&(i.$$p=null),r=c.$find_name_and_parent(t),n=e.to_ary(r),_=null==n[0]?$:n[0],p=null==n[1]?$:n[1],d=s(o(u,"Module"),"new",[],((a=function(){var n,r=null==a.$$s?this:a.$$s;return s(r,"define_method",[_],((n=function(){null==n.$$s||n.$$s;var r,a=n.$$p,i=a||$;return a&&(n.$$p=null),r=e.slice.call(arguments,0,arguments.length),s(o(u,"RenderingContext"),"render",[t].concat(e.to_a(r)),i.$to_proc())}).$$s=r,n.$$arity=-1,n))}).$$s=c,a.$$arity=0,a)),p.$extend(d)},i.$$arity=1),r.$private(),e.def(r,"$find_name_and_parent",c=function(e){var r,a=this,i=$,c=$,_=$;return i=l(c=e.$name())?e.$name().$split("::"):c,l(l(_=i)?n(i.$length(),1):_)?[i.$last(),s(i,"inject",[[o(u,"Module")]],(r=function(e,n){null==r.$$s||r.$$s;return null==e&&(e=$),null==n&&(n=$),t(e,[e.$last().$const_get(n)])},r.$$s=a,r.$$arity=2,r))["$[]"](-2)]:$},c.$$arity=1)}(e.get_singleton_class(v),g),v.$private(),e.def(v,"$find_component",m=function(e){var t=this,n=$,r=$,a=$;return n=t.$lookup_const(e),l(l(r=n)?n["$method_defined?"]("render")["$!"]():r)&&t.$raise(e+" does not appear to be a react component."),l(a=n)?a:o(g,"Object").$_reactrb_import_component_class(e)},m.$$arity=1),e.def(v,"$lookup_const",y=function(e){var n,r,i=this,c=$,u=$;return l(e["$=~"](/^[A-Z]/))?e["$=="]("FRAGMENT")?a(a(a(a(o(g,"Hyperstack"),"Internal"),"Component"),"Tags"),"FRAGMENT"):(c=s(i.$class().$name().$to_s().$split("::"),"inject",[[o(g,"Object")]],(n=function(e,r){null==n.$$s||n.$$s;return null==e&&(e=$),null==r&&(r=$),t(e,[e.$last().$const_get(r)])},n.$$s=i,n.$$arity=2,n)).$reverse(),u=s(c,"detect",[],((r=function(t){null==r.$$s||r.$$s;return null==t&&(t=$),t["$const_defined?"](e,!1)}).$$s=i,r.$$arity=1,r)),l(u)?u.$const_get(e,!1):$):$},y.$$arity=1)})(p[0],p)})(p[0],p)})(p[0],p)}(r[0],r),l(o(r,"Object")["$respond_to?"]("_reactrb_import_component_class"))?$:function(t,$super,n){var r,a=_(t,null,"Object");[a].concat(n);return e.defs(a,"$_reactrb_import_component_class",r=function(){return $},r.$$arity=1),$&&"_reactrb_import_component_class"}(r[0],0,r)},Opal.modules["hyperstack/component/event"]=function(e){e.top;var t=[],n=e.nil,r=e.$$$,$=e.$$,a=e.module,o=e.klass;return e.add_stubs(["$include","$alias_native"]),function(t,i){var s=[a(t,"Hyperstack")].concat(i);return function(t,i){var s=[a(t,"Component")].concat(i);return function(t,$super,a){var i,s=o(t,null,"Event"),l=[s].concat(a);return s.$include(r($(l,"Native"),"Wrapper")),s.$alias_native("bubbles","bubbles"),s.$alias_native("cancelable","cancelable"),s.$alias_native("current_target","currentTarget"),s.$alias_native("default_prevented","defaultPrevented"),s.$alias_native("event_phase","eventPhase"),s.$alias_native("is_trusted?","isTrusted"),s.$alias_native("native_event","nativeEvent"),s.$alias_native("target","target"),s.$alias_native("timestamp","timeStamp"),s.$alias_native("event_type","type"),s.$alias_native("prevent_default","preventDefault"),s.$alias_native("stop_propagation","stopPropagation"),s.$alias_native("clipboard_data","clipboardData"),s.$alias_native("alt_key","altKey"),s.$alias_native("char_code","charCode"),s.$alias_native("ctrl_key","ctrlKey"),s.$alias_native("get_modifier_state","getModifierState"),s.$alias_native("key","key"),s.$alias_native("key_code","keyCode"),s.$alias_native("locale","locale"),s.$alias_native("location","location"),s.$alias_native("meta_key","metaKey"),s.$alias_native("repeat","repeat"),s.$alias_native("shift_key","shiftKey"),s.$alias_native("which","which"),s.$alias_native("related_target","relatedTarget"),s.$alias_native("button","button"),s.$alias_native("buttons","buttons"),s.$alias_native("client_x","clientX"),s.$alias_native("client_y","clientY"),s.$alias_native("get_modifier_state","getModifierState"),s.$alias_native("page_x","pageX"),s.$alias_native("page_y","pageY"),s.$alias_native("screen_x","screen_x"),s.$alias_native("screen_y","screen_y"),s.$alias_native("changed_touches","changedTouches"),s.$alias_native("target_touches","targetTouches"),s.$alias_native("touches","touches"),s.$alias_native("detail","detail"),s.$alias_native("view","view"),s.$alias_native("delta_mode","deltaMode"),s.$alias_native("delta_x","deltaX"),s.$alias_native("delta_y","deltaY"),s.$alias_native("delta_z","deltaZ"),e.const_set(l[0],"BUILT_IN_EVENTS",["onCopy","onCut","onPaste","onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onChange","onInput","onSubmit","onClick","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onScroll","onWheel"]),e.def(s,"$initialize",i=function(e){return this.native=e},i.$$arity=1),n&&"initialize"}(s[0],0,s)}(s[0],s)}(t[0],t)},Opal.modules["hyperstack/ext/component/object"]=function(e){e.top;var t=[],n=e.nil,r=e.$$$,$=e.$$,a=e.klass,o=e.alias,i=e.truthy;return e.add_stubs(["$_reactrb_tag_original_const_missing","$html_tag_class_for","$raise","$object_id"]),function(t,$super,s){var l,c=a(t,null,"Object"),u=[c].concat(s);return function(t,$super,s){var l=a(t,null,"Object"),c=[l].concat(s);(function(t,a){var s,l=[t].concat(a);o(t,"_reactrb_tag_original_const_missing","const_missing"),e.def(t,"$const_missing",s=function(t){var a=this,o=n,s=n;try{return a.$_reactrb_tag_original_const_missing(t)}catch(c){if(!e.rescue(c,[$(l,"StandardError")]))throw c;o=c;try{return i(s=r(r(r($(l,"Hyperstack"),"Internal"),"Component"),"Tags").$html_tag_class_for(t))?s:a.$raise(o)}finally{e.pop_exception()}}},s.$$arity=1)})(e.get_singleton_class(l),c)}(u[0],0,u),e.def(c,"$to_key",l=function(){return this.$object_id()},l.$$arity=0),n&&"to_key"}(t[0],0,t)},Opal.modules["hyperstack/ext/component/kernel"]=function(e){e.top;var t=[],n=e.nil,r=(e.$$$,e.$$),$=e.module,a=e.send,o=e.truthy,i=e.alias;return e.add_stubs(["$tap","$new","$after","$resolve","$call"]),function(t,s){var l,c=$(t,"Kernel"),u=[c].concat(s);return e.def(c,"$pause",l=function(t){var $,i=l.$$p,s=i||n,c=this;return i&&(l.$$p=null),i&&(l.$$p=null),a(r(u,"Promise").$new(),"tap",[],(($=function(r){var i,l=null==$.$$s?this:$.$$s;return null==r&&(r=n),a(l,"after",[t],((i=function(){null==i.$$s||i.$$s;var t=n;return a(r,"resolve",e.to_a(o(t=s)?[s.$call()]:t))}).$$s=l,i.$$arity=0,i))}).$$s=c,$.$$arity=1,$))},l.$$arity=1),i(c,"busy_sleep","sleep"),i(c,"sleep","pause")}(t[0],t)},Opal.modules["hyperstack/ext/component/number"]=function(e){e.top;var t=[],n=e.nil,r=(e.$$$,e.$$,e.klass);return function(t,$super,$){var a,o=r(t,null,"Number");[o].concat($);return e.def(o,"$to_key",a=function(){return this},a.$$arity=0),n&&"to_key"}(t[0],0,t)},Opal.modules["hyperstack/ext/component/boolean"]=function(e){e.top;var t=[],n=e.nil,r=(e.$$$,e.$$,e.klass);return function(t,$super,$){var a,o=r(t,null,"Boolean");[o].concat($);return e.def(o,"$to_key",a=function(){return this},a.$$arity=0),n&&"to_key"}(t[0],0,t)},Opal.modules["hyperstack/ext/component/array"]=function(e){e.top;var t=[],n=e.nil,r=(e.$$$,e.$$,e.klass),$=e.send,a=e.truthy;return e.add_stubs(["$to_enum","$size","$reject!","$<<"]),function(t,$super,o){var i,s=r(t,null,"Array");[s].concat(o);return e.def(s,"$extract!",i=function(){var t,r,o=i.$$p,s=o||n,l=this,c=n;return o&&(i.$$p=null),s===n?$(l,"to_enum",["extract!"],((t=function(){return(null==t.$$s?this:t.$$s).$size()}).$$s=l,t.$$arity=0,t)):(c=[],$(l,"reject!",[],((r=function(t){null==r.$$s||r.$$s;return null==t&&(t=n),a(e.yield1(s,t))?c["$<<"](t):n}).$$s=l,r.$$arity=1,r)),c)},i.$$arity=0),n&&"extract!"}(t[0],0,t)},Opal.modules["hyperstack/ext/component/enumerable"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}e.top;var n=[],r=e.nil,$=(e.$$$,e.$$),a=e.module,o=e.hash2,i=e.send,s=e.truthy;return e.add_stubs(["$new","$private_constant","$each","$[]=","$-","$!=","$to_enum","$respond_to?","$size"]),function(n,l){var c,u=a(n,"Enumerable"),_=[u].concat(l);return e.const_set(_[0],"INDEX_WITH_DEFAULT",$(_,"Object").$new()),u.$private_constant("INDEX_WITH_DEFAULT"),e.def(u,"$index_with",c=function(n){var a,l,u,p=c.$$p,d=p||r,f=this,h=r;return p&&(c.$$p=null),null==n&&(n=$(_,"INDEX_WITH_DEFAULT")),d!==r?(h=o([],{}),i(f,"each",[],((a=function(n){null==a.$$s||a.$$s;var $=r;return null==n&&(n=r),$=[n,e.yield1(d,n)],i(h,"[]=",e.to_a($)),$[t($.length,1)]}).$$s=f,a.$$arity=1,a)),h):s(n["$!="]($(_,"INDEX_WITH_DEFAULT")))?(h=o([],{}),i(f,"each",[],((l=function($){null==l.$$s||l.$$s;var a=r;return null==$&&($=r),a=[$,n],i(h,"[]=",e.to_a(a)),a[t(a.length,1)]}).$$s=f,l.$$arity=1,l)),h):i(f,"to_enum",["index_with"],((u=function(){var e=null==u.$$s?this:u.$$s;return s(e["$respond_to?"]("size"))?e.$size():r}).$$s=f,u.$$arity=0,u))},c.$$arity=-1),r&&"index_with"}(n[0],n)},Opal.modules["hyperstack/ext/component/time"]=function(e){e.top;var t=[],n=e.nil,r=(e.$$$,e.$$,e.klass);return e.add_stubs(["$to_json","$strftime"]),function(t,$super,$){var a,o=r(t,null,"Time");[o].concat($);return e.def(o,"$to_json",a=function(){return this.$strftime("%FT%T.%3N%z").$to_json()},a.$$arity=0),n&&"to_json"}(t[0],0,t)},Opal.modules["hyperstack/component/isomorphic_helpers"]=function(Opal){function $rb_plus(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function $rb_minus(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var self=Opal.top,$nesting=[],nil=Opal.nil,$$$=Opal.$$$,$$=Opal.$$,$module=Opal.module,$truthy=Opal.truthy,$range=Opal.range,$send=Opal.send,$klass=Opal.klass,$class_variable_set=Opal.class_variable_set,$class_variable_get=Opal.class_variable_get,$hash2=Opal.hash2;return Opal.add_stubs(["$require","$extend","$!","$!=","$unique_id","$on_opal_server?","$log","$new","$is_a?","$==","$production?","$env","$+","$[]","$class","$on_opal_client?","$join","$collect","$prerender_footer_blocks","$call","$attr_reader","$[]=","$-","$run","$each","$before_first_mount_blocks","$send_to_opal","$eval","$load!","$tr","$<<","$first","$send_to_server","$to_json","$parse","$controller","$context","$register_before_first_mount_block","$to_proc","$register_prerender_footer_block","$send","$result"]),self.$require("hyperstack/internal/component"),function($base,$parent_nesting){var self=$module($base,"Hyperstack"),$nesting=[self].concat($parent_nesting);return function($base,$parent_nesting){var self=$module($base,"Component"),$nesting=[self].concat($parent_nesting);return function($base,$parent_nesting){var self=$module($base,"IsomorphicHelpers"),$nesting=[self].concat($parent_nesting),$IsomorphicHelpers_included$1,$IsomorphicHelpers_load_context$2,$IsomorphicHelpers_context$3,$IsomorphicHelpers_log$4,$IsomorphicHelpers_on_opal_server$ques$5,$IsomorphicHelpers_on_opal_client$ques$6,$IsomorphicHelpers_log$7,$IsomorphicHelpers_on_opal_server$ques$8,$IsomorphicHelpers_on_opal_client$ques$9,$IsomorphicHelpers_prerender_footers$10;return Opal.defs(self,"$included",$IsomorphicHelpers_included$1=function(e){return e.$extend($$($nesting,"ClassMethods"))},$IsomorphicHelpers_included$1.$$arity=1),Opal.defs(self,"$load_context",$IsomorphicHelpers_load_context$2=function(e,t){var n=this,r=nil,$=nil,a=nil;return null==n.context&&(n.context=nil),null==e&&(e=nil),null==t&&(t=nil),$truthy($truthy(r=$truthy($=e["$!"]())?$:n.context["$!"]())?r:n.context.$unique_id()["$!="](e))&&(a=function(){if($truthy(n["$on_opal_server?"]())){try{console.history=[]}catch(e){if(!Opal.rescue(e,[$$($nesting,"StandardError")]))throw e;Opal.pop_exception()}return"************************ React Prerendering Context Initialized "+t+" ***********************"}return"************************ React Browser Context Initialized ****************************"}(),n.$log(a),n.context=$$($nesting,"Context").$new(e)),!0},$IsomorphicHelpers_load_context$2.$$arity=-1),Opal.defs(self,"$context",$IsomorphicHelpers_context$3=function(){var e=this;return null==e.context&&(e.context=nil),e.context},$IsomorphicHelpers_context$3.$$arity=0),Opal.defs(self,"$log",$IsomorphicHelpers_log$4=function(e,t){var n=this,r=nil,$=nil,a=nil;return null==t&&(t="info"),$truthy(e["$is_a?"]($$($nesting,"Array")))||(e=[e]),$truthy($truthy(r=$truthy($=t["$=="]("info"))?$:t["$=="]("warning"))?$$($nesting,"Hyperstack").$env()["$production?"]():r)?nil:t["$=="]("info")?(a=$truthy(n["$on_opal_server?"]())?"background: #00FFFF; color: red":"background: #222; color: #bada55",e=$rb_plus([$rb_plus("%c",e["$[]"](0)),a],e["$[]"]($range(1,-1,!1))),console.log.apply(console,e)):t["$=="]("warning")?console.warn.apply(console,e):console.error.apply(console,e)},$IsomorphicHelpers_log$4.$$arity=-2),Opal.defs(self,"$on_opal_server?",$IsomorphicHelpers_on_opal_server$ques$5=function(){return"undefined"==typeof Opal.global.document},$IsomorphicHelpers_on_opal_server$ques$5.$$arity=0),Opal.defs(self,"$on_opal_client?",$IsomorphicHelpers_on_opal_client$ques$6=function(){return this["$on_opal_server?"]()["$!"]()
},$IsomorphicHelpers_on_opal_client$ques$6.$$arity=0),Opal.def(self,"$log",$IsomorphicHelpers_log$7=function(){var e;return e=Opal.slice.call(arguments,0,arguments.length),$send($$($nesting,"IsomorphicHelpers"),"log",Opal.to_a(e))},$IsomorphicHelpers_log$7.$$arity=-1),Opal.def(self,"$on_opal_server?",$IsomorphicHelpers_on_opal_server$ques$8=function(){return this.$class()["$on_opal_server?"]()},$IsomorphicHelpers_on_opal_server$ques$8.$$arity=0),Opal.def(self,"$on_opal_client?",$IsomorphicHelpers_on_opal_client$ques$9=function(){return this.$class()["$on_opal_client?"]()},$IsomorphicHelpers_on_opal_client$ques$9.$$arity=0),Opal.defs(self,"$prerender_footers",$IsomorphicHelpers_prerender_footers$10=function(e){var t,n=this;return null==e&&(e=nil),$send($$($nesting,"Context").$prerender_footer_blocks(),"collect",[],(t=function(n){null==t.$$s||t.$$s;return null==n&&(n=nil),n.$call(e)},t.$$s=n,t.$$arity=1,t)).$join("\n")},$IsomorphicHelpers_prerender_footers$10.$$arity=-1),function(e,$super,t){var n,r,$,a,o,i,s,l,c,u=$klass(e,null,"Context"),_=[u].concat(t);u.$$prototype.unique_id=u.$$prototype.cname=u.$$prototype.ctx=nil,u.$attr_reader("controller"),u.$attr_reader("unique_id"),Opal.defs(u,"$define_isomorphic_method",n=function(e){var t=n.$$p,r=t||nil,$=nil,a=nil;return t&&(n.$$p=null),t&&(n.$$p=null),$class_variable_set(_[0],"@@ctx_methods",$truthy(null!=_[0].$$cvars["@@ctx_methods"]?"class variable":nil)&&$truthy($=$class_variable_get(_[0],"@@ctx_methods",!1))?$:$hash2([],{})),a=[e,r],$send($class_variable_get(_[0],"@@ctx_methods",!1),"[]=",Opal.to_a(a)),a[$rb_minus(a.length,1)]},n.$$arity=1),Opal.defs(u,"$before_first_mount_blocks",r=function(){var e=this,t=nil;return null==e.before_first_mount_blocks&&(e.before_first_mount_blocks=nil),e.before_first_mount_blocks=$truthy(t=e.before_first_mount_blocks)?t:[]},r.$$arity=0),Opal.defs(u,"$prerender_footer_blocks",$=function(){var e=this,t=nil;return null==e.prerender_footer_blocks&&(e.prerender_footer_blocks=nil),e.prerender_footer_blocks=$truthy(t=e.prerender_footer_blocks)?t:[]},$.$$arity=0),Opal.def(u,"$initialize",a=function(e,t,n,r){var $,a=this;return null==t&&(t=nil),null==n&&(n=nil),null==r&&(r=nil),a.unique_id=e,a.cname=r,$$$($$$($$(_,"Hyperstack"),"Application"),"Boot").$run($hash2(["context"],{context:a})),$send(a.$class().$before_first_mount_blocks(),"each",[],(($=function(e){var t=null==$.$$s?this:$.$$s;return null==e&&(e=nil),e.$call(t)}).$$s=a,$.$$arity=1,$))},a.$$arity=-2),Opal.def(u,"$load_opal_context",o=function(){var e=this;return e.$send_to_opal("load_context",e.unique_id,e.cname)},o.$$arity=0),Opal.def(u,"$eval",i=function(e){var t=this;return $truthy(t.ctx)?t.ctx.$eval(e):nil},i.$$arity=1),Opal.def(u,"$send_to_opal",s=function(e){var t,n,r=this,$=nil;return t=Opal.slice.call(arguments,1,arguments.length),$truthy(r.ctx)?($$$($$$($$$($$$($$(_,"Hyperstack"),"Internal"),"Component"),"Rails"),"ComponentLoader").$new(r.ctx)["$load!"](),$=$send(t,"collect",[],(n=function(e){null==n.$$s||n.$$s;return null==e&&(e=nil),'"'+(""+e).$tr('"',"'")+'"'},n.$$s=r,n.$$arity=1,n)).$join(", "),r.ctx.$eval("Opal.Hyperstack.$const_get('Component').$const_get('IsomorphicHelpers').$"+e+"("+$+")")):nil},s.$$arity=-2),Opal.defs(u,"$register_before_first_mount_block",l=function(){var e=l.$$p,t=e||nil,n=this;return e&&(l.$$p=null),e&&(l.$$p=null),n.$before_first_mount_blocks()["$<<"](t)},l.$$arity=0),Opal.defs(u,"$register_prerender_footer_block",c=function(){var e=c.$$p,t=e||nil,n=this;return e&&(c.$$p=null),e&&(c.$$p=null),n.$prerender_footer_blocks()["$<<"](t)},c.$$arity=0)}($nesting[0],0,$nesting),function($base,$super,$parent_nesting){var self=$klass($base,$super,"IsomorphicProcCall"),$nesting=[self].concat($parent_nesting),$IsomorphicProcCall_result$23,$IsomorphicProcCall_initialize$24,$IsomorphicProcCall_when_on_client$25,$IsomorphicProcCall_send_to_server$26,$IsomorphicProcCall_when_on_server$27;self.$$prototype.result=self.$$prototype.name=nil,self.$attr_reader("context"),Opal.def(self,"$result",$IsomorphicProcCall_result$23=function(){var e=this;return $truthy(e.result)?e.result.$first():nil},$IsomorphicProcCall_result$23.$$arity=0),Opal.def(self,"$initialize",$IsomorphicProcCall_initialize$24=function(e,t,n){var r,$,a=this,o=nil;return r=Opal.slice.call(arguments,3,arguments.length),$=r,a.name=e,a.context=n,$send(t,"call",[a].concat(Opal.to_a($))),a.result=$truthy(o=a.result)?o:$send(a,"send_to_server",Opal.to_a($))},$IsomorphicProcCall_initialize$24.$$arity=-4),Opal.def(self,"$when_on_client",$IsomorphicProcCall_when_on_client$25=function(){var e=$IsomorphicProcCall_when_on_client$25.$$p,t=e||nil,n=this;return e&&($IsomorphicProcCall_when_on_client$25.$$p=null),e&&($IsomorphicProcCall_when_on_client$25.$$p=null),$truthy($$($nesting,"IsomorphicHelpers")["$on_opal_client?"]())?n.result=[t.$call()]:nil},$IsomorphicProcCall_when_on_client$25.$$arity=0),Opal.def(self,"$send_to_server",$IsomorphicProcCall_send_to_server$26=function $$send_to_server($a){var $post_args,args,self=this,method_string=nil;return $post_args=Opal.slice.call(arguments,0,arguments.length),args=$post_args,$truthy($$($nesting,"IsomorphicHelpers")["$on_opal_server?"]())?(method_string=$rb_plus($rb_plus($rb_plus($rb_plus("ServerSideIsomorphicMethod.",self.name),"("),args.$to_json()),")"),self.result=[$$($nesting,"JSON").$parse(eval(method_string))]):nil},$IsomorphicProcCall_send_to_server$26.$$arity=-1),Opal.def(self,"$when_on_server",$IsomorphicProcCall_when_on_server$27=function(){var e=$IsomorphicProcCall_when_on_server$27.$$p,t=e||nil,n=this,r=nil;return e&&($IsomorphicProcCall_when_on_server$27.$$p=null),e&&($IsomorphicProcCall_when_on_server$27.$$p=null),$truthy($truthy(r=$$($nesting,"IsomorphicHelpers")["$on_opal_client?"]())?r:$$($nesting,"IsomorphicHelpers")["$on_opal_server?"]())?nil:n.result=[t.$call().$to_json()]},$IsomorphicProcCall_when_on_server$27.$$arity=0)}($nesting[0],null,$nesting),function(e,t){var n,r,$,a,o,i,s,l=$module(e,"ClassMethods"),c=[l].concat(t);return Opal.def(l,"$on_opal_server?",n=function(){return $$(c,"IsomorphicHelpers")["$on_opal_server?"]()},n.$$arity=0),Opal.def(l,"$on_opal_client?",r=function(){return $$(c,"IsomorphicHelpers")["$on_opal_client?"]()},r.$$arity=0),Opal.def(l,"$log",$=function(){var e;return e=Opal.slice.call(arguments,0,arguments.length),$send($$(c,"IsomorphicHelpers"),"log",Opal.to_a(e))},$.$$arity=-1),Opal.def(l,"$controller",a=function(){return $$(c,"IsomorphicHelpers").$context().$controller()},a.$$arity=0),Opal.def(l,"$before_first_mount",o=function(){var e=o.$$p,t=e||nil;return e&&(o.$$p=null),e&&(o.$$p=null),$send($$$($$(c,"IsomorphicHelpers"),"Context"),"register_before_first_mount_block",[],t.$to_proc())},o.$$arity=0),Opal.def(l,"$prerender_footer",i=function(){var e=i.$$p,t=e||nil;return e&&(i.$$p=null),e&&(i.$$p=null),$send($$$($$(c,"IsomorphicHelpers"),"Context"),"register_prerender_footer_block",[],t.$to_proc())},i.$$arity=0),Opal.def(l,"$isomorphic_method",s=function(e){var t,n=s.$$p,r=n||nil,$=this;return n&&(s.$$p=null),n&&(s.$$p=null),$send($.$class(),"send",["define_method",e],((t=function(){var n,$=null==t.$$s?this:t.$$s;return n=Opal.slice.call(arguments,0,arguments.length),$send($$$($$(c,"IsomorphicHelpers"),"IsomorphicProcCall"),"new",[e,r,$].concat(Opal.to_a(n))).$result()}).$$s=$,t.$$arity=-1,t))},s.$$arity=1),nil&&"isomorphic_method"}($nesting[0],$nesting)}($nesting[0],$nesting)}($nesting[0],$nesting)}($nesting[0],$nesting)},Opal.modules["active_support/core_ext/object/try"]=function(e){e.top;var t=[],n=e.nil,r=(e.$$$,e.$$,e.klass),$=e.truthy,a=e.send;return e.add_stubs(["$empty?","$respond_to?","$first","$try!","$to_proc","$zero?","$arity","$instance_eval","$public_send"]),function(t,$super,o){var i,s,l=r(t,null,"Object");[l].concat(o);e.def(l,"$try",i=function(){var t,r,o=i.$$p,s=o||n,l=this,c=n;return o&&(i.$$p=null),o&&(i.$$p=null),t=e.slice.call(arguments,0,arguments.length),$($(c=(r=t)["$empty?"]())?c:l["$respond_to?"](r.$first()))?a(l,"try!",e.to_a(r),s.$to_proc()):n},i.$$arity=-1),e.def(l,"$try!",s=function(){var t,r,o=s.$$p,i=o||n,l=this,c=n;return o&&(s.$$p=null),o&&(s.$$p=null),t=e.slice.call(arguments,0,arguments.length),$($(c=(r=t)["$empty?"]())?i!==n:c)?$(i.$arity()["$zero?"]())?a(l,"instance_eval",[],i.$to_proc()):e.yield1(i,l):a(l,"public_send",e.to_a(r),i.$to_proc())},s.$$arity=-1)}(t[0],0,t),function(t,$super,$){var a,o,i=r(t,null,"NilClass");[i].concat($);return e.def(i,"$try",a=function(){return e.slice.call(arguments,0,arguments.length),n},a.$$arity=-1),e.def(i,"$try!",o=function(){return e.slice.call(arguments,0,arguments.length),n},o.$$arity=-1),n&&"try!"}(t[0],0,t)},Opal.modules["hyperstack/component/react_api"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var n=e.top,r=[],$=e.nil,a=e.$$$,o=e.$$,i=e.module,s=e.send,l=e.truthy;return e.add_stubs(["$require","$+","$create_element","$to_proc","$raise","$to_n","$kind_of?","$!","$build"]),n.$require("native"),n.$require("active_support/core_ext/object/try"),n.$require("hyperstack/internal/component/tags"),function(n,r){var c=[i(n,"Hyperstack")].concat(r);return function(n,r){var c=[i(n,"Component")].concat(r);return function(n,r){var c,u,_,p,d,f,h,m,y,v=i(n,"ReactAPI"),g=[v].concat(r);return e.const_set(g[0],"ATTRIBUTES",t(["accept","acceptCharset","accessKey","action","allowFullScreen","allowTransparency","alt","async","autoComplete","autoPlay","cellPadding","cellSpacing","charSet","checked","classID","className","cols","colSpan","content","contentEditable","contextMenu","controls","coords","crossOrigin","data","dateTime","defer","dir","disabled","download","draggable","encType","form","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","height","hidden","href","hrefLang","htmlFor","httpEquiv","icon","id","label","lang","list","loop","manifest","marginHeight","marginWidth","max","maxLength","media","mediaGroup","method","min","multiple","muted","name","noValidate","open","pattern","placeholder","poster","preload","radioGroup","readOnly","rel","required","role","rows","rowSpan","sandbox","scope","scrolling","seamless","selected","shape","size","sizes","span","spellCheck","src","srcDoc","srcSet","start","step","style","tabIndex","target","title","type","useMap","value","width","wmode","dangerouslySetInnerHTML"],["clipPath","cx","cy","d","dx","dy","fill","fillOpacity","fontFamily","fontSize","fx","fy","gradientTransform","gradientUnits","markerEnd","markerMid","markerStart","offset","opacity","patternContentUnits","patternUnits","points","preserveAspectRatio","r","rx","ry","spreadMethod","stopColor","stopOpacity","stroke","strokeDasharray","strokeLinecap","strokeOpacity","strokeWidth","textAnchor","transform","version","viewBox","x1","x2","x","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlSpace","y1","y2","y"])),e.const_set(g[0],"HASH_ATTRIBUTES",["data","aria"]),e.const_set(g[0],"HTML_TAGS",a(a(a(a(o(g,"Hyperstack"),"Internal"),"Component"),"Tags"),"HTML_TAGS")),e.defs(v,"$html_tag?",c=function(e){var t=$;t=o(g,"HTML_TAGS");for(var n=0;n<t.length;n++)if(t[n]===e)return!0;return!1},c.$$arity=1),e.defs(v,"$html_attr?",u=function(e){var t=$;t=o(g,"ATTRIBUTES");for(var n=0;n<t.length;n++)if(t[n]===e)return!0;return!1},u.$$arity=1),e.defs(v,"$create_element",_=function(t){var n,r=_.$$p,i=r||$;return r&&(_.$$p=null),r&&(_.$$p=null),n=e.slice.call(arguments,1,arguments.length),s(a(a(a(o(g,"Hyperstack"),"Internal"),"Component"),"ReactWrapper"),"create_element",[t].concat(e.to_a(n)),i.$to_proc())},_.$$arity=-2),e.defs(v,"$render",p=function(t,n){var r=p.$$p,a=r||$,o=this,i=$,s=$;return r&&(p.$$p=null),l("undefined"==typeof ReactDOM)&&o.$raise("ReactDOM.render is not defined.  In React >= v15 you must import it with ReactDOM"),n=n.$$class?n[0]:n,a!==$?(i=function(){setTimeout(function(){e.yieldX(a,[])},0)},s=ReactDOM.render(t.$to_n(),n,i)):s=ReactDOM.render(t.$to_n(),n),l(null!==s)?l(s.__opalInstance!==undefined&&null!==s.__opalInstance)?s.__opalInstance:l(ReactDOM.findDOMNode!==undefined&&s.nodeType===undefined)?ReactDOM.findDOMNode(s):s:$},p.$$arity=2),e.defs(v,"$is_valid_element",d=function(e){var t=$;return console.error("Warning: `is_valid_element` is deprecated in favor of `is_valid_element?`."),l(t=e["$kind_of?"](a(a(o(g,"Hyperstack"),"Component"),"Element")))?React.isValidElement(e.$to_n()):t},d.$$arity=1),e.defs(v,"$is_valid_element?",f=function(e){var t=$;return l(t=e["$kind_of?"](a(a(o(g,"Hyperstack"),"Component"),"Element")))?React.isValidElement(e.$to_n()):t},f.$$arity=1),e.defs(v,"$render_to_string",h=function(e){var t,n=this;return console.error("Warning: `Hyperstack::Component::ReactAPI.render_to_string` is deprecated in favor of `React::Server.render_to_string`."),l(("undefined"==typeof ReactDOMServer)["$!"]())?s(a(a(a(o(g,"Hyperstack"),"Internal"),"Component"),"RenderingContext"),"build",[],((t=function(){null==t.$$s||t.$$s;return ReactDOMServer.renderToString(e.$to_n())}).$$s=n,t.$$arity=0,t)):n.$raise("renderToString is not defined.  In React >= v15 you must import it with ReactDOMServer")},h.$$arity=1),e.defs(v,"$render_to_static_markup",m=function(e){var t,n=this;return console.error("Warning: `Hyperstack::Component::ReactAPI.render_to_static_markup` is deprecated in favor of `React::Server.render_to_static_markup`."),l(("undefined"==typeof ReactDOMServer)["$!"]())?s(a(a(a(o(g,"Hyperstack"),"Internal"),"Component"),"RenderingContext"),"build",[],((t=function(){null==t.$$s||t.$$s;return ReactDOMServer.renderToStaticMarkup(e.$to_n())}).$$s=n,t.$$arity=0,t)):n.$raise("renderToStaticMarkup is not defined.  In React >= v15 you must import it with ReactDOMServer")},m.$$arity=1),e.defs(v,"$unmount_component_at_node",y=function(e){var t=this;return l(("undefined"==typeof ReactDOM)["$!"]())?ReactDOM.unmountComponentAtNode(e.$$class?e[0]:e):t.$raise("unmountComponentAtNode is not defined.  In React >= v15 you must import it with ReactDOM")},y.$$arity=1),$&&"unmount_component_at_node"}(c[0],c)}(c[0],c)}(r[0],r)},Opal.modules["hyperstack/internal/component/top_level_rails_component"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}e.top;var n=[],r=e.nil,$=e.$$$,a=e.$$,o=e.module,i=e.klass,s=e.truthy,l=e.send;return e.add_stubs(["$include","$export_component","$param","$backtrace","$top_level_render","$start_with?","$<<","$const_get","$each","$search_path","$class","$name","$!=","$method_defined?","$render","$raise","$join","$search_path=","$-","$!","$include?","$add_to_react_search_path"]),function(t,n){var c=[o(t,"Hyperstack")].concat(n);(function(t,n){var c=[o(t,"Internal")].concat(n);(function(t,n){var c=[o(t,"Component")].concat(n);(function(t,$super,n){var o,c,u,_,p=i(t,null,"TopLevelRailsComponent"),d=[p].concat(n);p.$$prototype.ComponentName=p.$$prototype.RenderParams=p.$$prototype.Controller=r,p.$include($(a(d,"Hyperstack"),"Component")),e.defs(p,"$search_path",o=function(){var e=this,t=r;return null==e.search_path&&(e.search_path=r),e.search_path=s(t=e.search_path)?t:[a(d,"Object")]},o.$$arity=0),p.$export_component(),p.$param("component_name"),p.$param("controller"),p.$param("render_params"),p.$backtrace("off"),e.defs(p,"$allow_deprecated_render_definition?",c=function(){return!0},c.$$arity=0),e.def(p,"$render",u=function(){return this.$top_level_render()},u.$$arity=0),e.def(p,"$top_level_render",_=function(){var t,n,$=this,o=r,i=r,c=r;return o=[],i=r,s($.ComponentName["$start_with?"]("::"))?(o["$<<"]($.ComponentName),i=function(){try{return a(d,"Object").$const_get($.ComponentName)}catch(t){if(!e.rescue(t,[a(d,"NameError")]))throw t;try{return r}finally{e.pop_exception()}}}()):(function(){var n=e.new_brk();try{l($.$class().$search_path(),"each",[],((t=function($){var l=null==t.$$s?this:t.$$s;if(null==l.Controller&&(l.Controller=r),null==l.ComponentName&&(l.ComponentName=r),null==$&&($=r),o["$<<"]($.$name()+"::"+l.Controller+"::"+l.ComponentName),i=function(){try{return $.$const_get(l.Controller,!1).$const_get(l.ComponentName,!1)}catch(t){if(!e.rescue(t,[a(d,"NameError")]))throw t;try{return r}finally{e.pop_exception()}}}(),!s(i["$!="](r)))return r;e.brk(r,n)}).$$s=$,t.$$brk=n,t.$$arity=1,t))}catch(c){if(c===n)return c.$v;throw c}}(),s(i)||function(){var t=e.new_brk();try{l($.$class().$search_path(),"each",[],((n=function($){var l=null==n.$$s?this:n.$$s;if(null==l.ComponentName&&(l.ComponentName=r),null==$&&($=r),o["$<<"]($.$name()+"::"+l.ComponentName),i=function(){try{return $.$const_get(l.ComponentName,!1)}catch(t){if(!e.rescue(t,[a(d,"NameError")]))throw t;try{return r}finally{e.pop_exception()}}}(),!s(i["$!="](r)))return r;e.brk(r,t)}).$$s=$,n.$$brk=t,n.$$arity=1,n))}catch(c){if(c===t)return c.$v;throw c}}()),s(s(c=i)?i["$method_defined?"]("render"):c)?a(d,"RenderingContext").$render(i,$.RenderParams):$.$raise("Could not find component class '"+$.ComponentName+"' for @Controller '"+$.Controller+"' in any component directory. Tried ["+o.$join(", ")+"]")},_.$$arity=0)})(c[0],0,c)})(c[0],c)})(c[0],c)}(n[0],n),function(n,$super,o){var c,u=i(n,null,"Module"),_=[u].concat(o);e.def(u,"$add_to_react_search_path",c=function(n){var o=this,i=r;return null==n&&(n=r),s(n)?(i=[[o]],l($($($(a(_,"Hyperstack"),"Internal"),"Component"),"TopLevelRailsComponent"),"search_path=",e.to_a(i)),i[t(i.length,1)]):s($($($(a(_,"Hyperstack"),"Internal"),"Component"),"TopLevelRailsComponent").$search_path()["$include?"](o)["$!"]())?$($($(a(_,"Hyperstack"),"Internal"),"Component"),"TopLevelRailsComponent").$search_path()["$<<"](o):r},c.$$arity=-1)}(n[0],0,n),function(e,t){var n=o(e,"Components");[n].concat(t);return n.$add_to_react_search_path()}(n[0],n)},Opal.modules["hyperstack/component/while_loading"]=function(e){e.top;var t=[],n=e.nil,r=e.$$$,$=e.$$,a=e.module,o=e.hash2,i=e.truthy;return e.add_stubs(["$WhileLoadingWrapper","$!","$on_opal_client?"]),function(t,s){var l=[a(t,"Hyperstack")].concat(s);return function(t,s){var l=[a(t,"Component")].concat(s);return function(t,s){var l,c,u,_=a(t,"WhileLoading"),p=[_].concat(s);if(e.def(_,"$__hyperstack_component_rescue_wrapper",l=function(e){var t=this;return r(r($(p,"Hyperstack"),"Internal"),"Component").$WhileLoadingWrapper(o(["child","children_elements"],{child:t,children_elements:e}))},l.$$arity=1),e.def(_,"$resources_loading?",c=function(){var e=this;return null==e.__hyperstack_while_loading_waiting_on_resources&&(e.__hyperstack_while_loading_waiting_on_resources=n),e.__hyperstack_while_loading_waiting_on_resources},c.$$arity=0),e.def(_,"$resources_loaded?",u=function(){var e=this;return null==e.__hyperstack_while_loading_waiting_on_resources&&(e.__hyperstack_while_loading_waiting_on_resources=n),e.__hyperstack_while_loading_waiting_on_resources["$!"]()},u.$$arity=0),!i(r(r($(p,"Hyperstack"),"Component"),"IsomorphicHelpers")["$on_opal_client?"]()))return n;{function d(e){e.message.match(/^Uncaught NotQuiet: /)&&e.preventDefault()}window.addEventListener("error",d)}}(l[0],l)}(l[0],l)}(t[0],t)},Opal.modules["hyperstack/component/free_render"]=function(e){e.top;var t=[],n=e.nil,r=e.$$$,$=e.$$,a=e.module,o=e.send,i=e.alias,s=e.truthy;return e.add_stubs(["$instance_eval","$const_defined?","$const_get","$is_a?","$method_defined?","$include?","$render","$to_proc","$hyperstack_component_original_meth_missing"]),function(t,l){var c=[a(t,"Hyperstack")].concat(l);return function(t,l){var c=[a(t,"Component")].concat(l);return function(t,l){var c,u=a(t,"FreeRender"),_=[u].concat(l);return e.defs(u,"$included",c=function(t){var a,l=this;return o(t,"instance_eval",[],((a=function(){var t,l=null==a.$$s?this:a.$$s;return i(l,"hyperstack_component_original_meth_missing","method_missing"),e.def(l,"$method_missing",t=function(a){var i,l=t.$$p,c=l||n,u=this,p=n,d=n,f=n,h=n,m=n;return l&&(t.$$p=null),l&&(t.$$p=null),i=e.slice.call(arguments,1,arguments.length),s(s(p=s(d=u["$const_defined?"](a))?f=u.$const_get(a):d)?s(h=s(m=f["$is_a?"]($(_,"Class")))?f["$method_defined?"]("render"):m)?h:r(r(r(r($(_,"Hyperstack"),"Internal"),"Component"),"Tags"),"HTML_TAGS")["$include?"](f):p)?o(u,"render",[f].concat(e.to_a(i)),c.$to_proc()):o(u,"hyperstack_component_original_meth_missing",[a].concat(e.to_a(i)),c.$to_proc())},t.$$arity=-2),n&&"method_missing"}).$$s=l,a.$$arity=0,a))},c.$$arity=1),n&&"included"}(c[0],c)}(c[0],c)}(t[0],t)},Opal.modules["hyperstack/internal/component/rescue_wrapper"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}e.top;var n=[],r=e.nil,$=e.$$$,a=e.$$,o=e.module,i=e.klass,s=e.send,l=e.hash2,c=e.truthy;return e.add_stubs(["$include","$param","$render","$call","$attr_accessor","$RescueMetaWrapper","$after_error","$after_error_args","$run_callback","$after_error_args=","$-","$raise","$force_update!"]),function(n,u){var _=[o(n,"Hyperstack")].concat(u);return function(n,u){var _=[o(n,"Internal")].concat(u);return function(n,u){var _=[o(n,"Component")].concat(u);return function(e,$super,t){var n,o=i(e,null,"RescueMetaWrapper"),l=[o].concat(t);o.$include($(a(l,"Hyperstack"),"Component")),o.$param("children_elements"),s(o,"render",[],((n=function(){var e=null==n.$$s?this:n.$$s;return null==e.ChildrenElements&&(e.ChildrenElements=r),e.ChildrenElements.$call()}).$$s=o,n.$$arity=0,n))}(_[0],0,_),function(n,$super,o){var u,_,p=i(n,null,"RescueWrapper"),d=[p].concat(o);return function(e,t){[e].concat(t);e.$attr_accessor("after_error_args")}(e.get_singleton_class(p),d),p.$include($(a(d,"Hyperstack"),"Component")),p.$param("child"),p.$param("children_elements"),s(p,"render",[],((u=function(){var e=null==u.$$s?this:u.$$s;return null==e.ChildrenElements&&(e.ChildrenElements=r),e.$RescueMetaWrapper(l(["children_elements"],{children_elements:e.ChildrenElements}))}).$$s=p,u.$$arity=0,u)),s(p,"after_error",[],((_=function(n,$){var o,i,l=null==_.$$s?this:_.$$s,u=r,p=r,f=r,h=r;return null==l.Child&&(l.Child=r),null==n&&(n=r),null==$&&($=r),u=c(p=a(d,"RescueWrapper").$after_error_args())?p:[n,$],i=s(l.Child,"run_callback",["__hyperstack_component_rescue_hook",f].concat(e.to_a(u))),f=null==(o=e.to_ary(i))[0]?r:o[0],c(f)||(h=[u],s(a(d,"RescueWrapper"),"after_error_args=",e.to_a(h)),h[t(h.length,1)],l.$raise(n)),l.Child["$force_update!"]()}).$$s=p,_.$$arity=2,_))}(_[0],0,_)}(_[0],_)}(_[0],_)}(n[0],n)},Opal.modules["hyperstack/internal/component/while_loading_wrapper"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}e.top;var n=[],r=e.nil,$=e.$$$,a=e.$$,o=e.module,i=e.klass,s=e.send,l=e.truthy,c=e.hash2;return e.add_stubs(["$render","$!","$quiet?","$raise_if_not_quiet=","$-","$instance_eval","$mutate","$RescueMetaWrapper","$before_mount","$rescues","$class","$instance_variable_set"]),function(n,u){var _=[o(n,"Hyperstack")].concat(u);return function(n,u){var _=[o(n,"Internal")].concat(u);return function(n,u){var _=[o(n,"Component")].concat(u);return function(n,$super,o){var u,_,p=i(n,$super,"WhileLoadingWrapper"),d=[p].concat(o);return s(p,"render",[],((u=function(){var n,$=null==u.$$s?this:u.$$s,o=r,i=r;return null==$.waiting_on_resources&&($.waiting_on_resources=r),null==$.Child&&($.Child=r),null==$.ChildrenElements&&($.ChildrenElements=r),l(l(o=$.waiting_on_resources)?$["$quiet?"]()["$!"]():o)?(i=[!1],s(a(d,"RenderingContext"),"raise_if_not_quiet=",e.to_a(i)),i[t(i.length,1)]):($.waiting_on_resources=!1,s($.Child,"instance_eval",[],((n=function(){var e=null==n.$$s?this:n.$$s;return null==e.__hyperstack_while_loading_waiting_on_resources&&(e.__hyperstack_while_loading_waiting_on_resources=r),l(e.__hyperstack_while_loading_waiting_on_resources)&&e.$mutate(),e.__hyperstack_while_loading_waiting_on_resources=!1}).$$s=$,n.$$arity=0,n)),i=[!0],s(a(d,"RenderingContext"),"raise_if_not_quiet=",e.to_a(i)),i[t(i.length,1)]),$.$RescueMetaWrapper(c(["children_elements"],{children_elements:$.ChildrenElements}))}).$$s=p,u.$$arity=0,u)),s(p,"before_mount",[],((_=function(){var e,t=null==_.$$s?this:_.$$s,n=r;return null==t.Child&&(t.Child=r),n=t,s(t.Child.$class(),"rescues",[$(a(d,"RenderingContext"),"NotQuiet")],((e=function(){var t=null==e.$$s?this:e.$$s;return n.$instance_variable_set("@waiting_on_resources",!0),t.__hyperstack_while_loading_waiting_on_resources=!0}).$$s=t,e.$$arity=0,e))}).$$s=p,_.$$arity=0,_))}(_[0],a(_,"RescueWrapper"),_)}(_[0],_)}(_[0],_)}(n[0],n)},Opal.modules["hyperstack/component/version"]=function(e){e.top;var t=[],n=(e.nil,e.$$$,e.$$,e.module);return function(t,r){var $=[n(t,"Hyperstack")].concat(r);return function(t,r){var $=[n(t,"Component")].concat(r);return e.const_set($[0],"VERSION","1.0.alpha1.8")}($[0],$)}(t[0],t)},Opal.modules["hyper-component"]=function(e){var t=e.top,n=[],r=(e.nil,e.$$$,e.$$),$=e.hash2;return e.add_stubs(["$require","$js_import","$import"]),t.$require("hyperstack/internal/component"),r(n,"Hyperstack").$js_import("react/react-source-browser",$(["client_only","defines"],{client_only:!0,defines:["ReactDOM","React"]})),r(n,"Hyperstack").$js_import("react/react-source-server",$(["server_only","defines"],{server_only:!0,defines:"React"})),r(n,"Hyperstack").$import("browser/delay",$(["client_only"],{client_only:!0})),r(n,"Hyperstack").$import("browser/interval",$(["client_only"],{client_only:!0})),r(n,"Hyperstack").$js_import("react_ujs",$(["defines"],{defines:"ReactRailsUJS"})),r(n,"Hyperstack").$import("hyper-component"),r(n,"Hyperstack").$import("hyperstack/component/auto-import"),t.$require("hyperstack/internal/callbacks"),t.$require("hyperstack/internal/auto_unmount"),t.$require("native"),t.$require("json"),t.$require("hyperstack/state/observer"),t.$require("hyperstack/internal/component/validator"),t.$require("hyperstack/component/element"),t.$require("hyperstack/internal/component/react_wrapper"),t.$require("hyperstack/component"),t.$require("hyperstack/internal/component/should_component_update"),t.$require("hyperstack/internal/component/tags"),t.$require("hyperstack/component/event"),t.$require("hyperstack/internal/component/rendering_context"),t.$require("hyperstack/ext/component/object"),t.$require("hyperstack/ext/component/kernel"),t.$require("hyperstack/ext/component/number"),t.$require("hyperstack/ext/component/boolean"),t.$require("hyperstack/ext/component/array"),t.$require("hyperstack/ext/component/enumerable"),t.$require("hyperstack/ext/component/time"),t.$require("hyperstack/component/isomorphic_helpers"),t.$require("hyperstack/component/react_api"),t.$require("hyperstack/internal/component/top_level_rails_component"),t.$require("hyperstack/component/while_loading"),t.$require("hyperstack/component/free_render"),t.$require("hyperstack/internal/component/rescue_wrapper"),t.$require("hyperstack/internal/component/while_loading_wrapper"),t.$require("hyperstack/component/version")},Opal.modules["react/router"]=function(e){e.top;var t=[],n=(e.nil,e.$$$),r=e.$$,$=e.module,a=e.klass;return e.add_stubs(["$imports"]),function(e,t){var o=[$(e,"React")].concat(t);return function(e,$super,t){var n=a(e,$super,"Router");[n].concat(t);return n.$imports("ReactRouter")}(o[0],n(n(r(o,"Hyperstack"),"Component"),"NativeLibrary"),o)}(t[0],t)},Opal.modules["react/router/dom"]=function(e){e.top;var t=[],n=(e.nil,e.$$$),r=e.$$,$=e.module,a=e.klass;return e.add_stubs(["$imports"]),function(e,t){var o=[$(e,"React")].concat(t);return function(e,$super,t){var $=[a(e,null,"Router")].concat(t);return function(e,$super,t){var n=a(e,$super,"DOM");[n].concat(t);return n.$imports("ReactRouterDOM")}($[0],n(n(r($,"Hyperstack"),"Component"),"NativeLibrary"),$)}(o[0],0,o)}(t[0],t)},Opal.modules["react/router/history"]=function(e){e.top;var t=[],n=e.nil,r=e.$$$,$=e.$$,a=e.module,o=e.klass;return e.add_stubs(["$include","$new","$alias_native"]),function(t,i){var s=[a(t,"React")].concat(i);return function(t,$super,a){var i=[o(t,null,"Router")].concat(a);return function(t,$super,a){var i,s,l,c=o(t,null,"History"),u=[c].concat(a);return c.$$prototype.native=n,c.$include(r($(u,"Native"),"Wrapper")),e.defs(c,"$current",i=function(){return this.$new(History)},i.$$arity=0),e.def(c,"$initialize",s=function(e){return this.native=e},s.$$arity=1),e.def(c,"$to_n",l=function(){return this.native},l.$$arity=0),c.$alias_native("create_browser_history","createBrowserHistory"),c.$alias_native("create_hash_history","createHashHistory"),c.$alias_native("create_location","createLocation"),c.$alias_native("create_memory_history","createMemoryHistory"),c.$alias_native("create_path","createPath")}(i[0],0,i)}(s[0],0,s)}(t[0],t)},Opal.modules["hyperstack/internal/router/isomorphic_methods"]=function(e){e.top;var t=[],n=e.nil,r=e.$$$,$=e.$$,a=e.module,o=e.klass,i=e.truthy,s=e.send;return e.add_stubs(["$include","$prerender_footer","$on_opal_server?","$new","$[]","$raise","$isomorphic_method","$when_on_client","$send_to_server","$when_on_server","$fullpath","$request","$controller","$context"]),function(t,l){var c=[a(t,"Hyperstack")].concat(l);return function(t,l){var c=[a(t,"Internal")].concat(l);return function(t,l){var c=[a(t,"Router")].concat(l);return function(t,$super,a){var l,c,u,_=o(t,null,"IsomorphicMethods"),p=[_].concat(a);return _.$include(r(r($(p,"Hyperstack"),"Component"),"IsomorphicHelpers")),e.defs(_,"$ctx",l=function(){var e=this,t=n;return null==e.ctx&&(e.ctx=n),e.ctx=i(t=e.ctx)?t:{}},l.$$arity=0),s(_,"prerender_footer",[],((c=function(e){var t=null==c.$$s?this:c.$$s,r=n;return null==t.ctx&&(t.ctx=n),null==e&&(e=n),i(t["$on_opal_server?"]())?(r=$(p,"Hash").$new(t.ctx),t.ctx={},i(r["$[]"]("url"))?t.$raise("Hyperstack::Internal::Component::Redirect "+r["$[]"]("url")+" status: "+r["$[]"]("status")):n):n}).$$s=_,c.$$arity=1,c)),s(_,"isomorphic_method",["request_fullpath"],((u=function(e){var t,r,$=null==u.$$s?this:u.$$s;return null==e&&(e=n),s(e,"when_on_client",[],((t=function(){null==t.$$s||t.$$s;return window.location.pathname}).$$s=$,t.$$arity=0,t)),e.$send_to_server(),s(e,"when_on_server",[],((r=function(){null==r.$$s||r.$$s;return e.$context().$controller().$request().$fullpath()}).$$s=$,r.$$arity=0,r))}).$$s=_,u.$$arity=1,u))}(c[0],0,c)}(c[0],c)}(c[0],c)}(t[0],t)},Opal.modules["hyperstack/router/history"]=function(e){e.top;var t=[],n=e.nil,r=e.$$$,$=e.$$,a=e.module,o=e.klass,i=e.truthy,s=e.send;return e.add_stubs(["$include","$new","$native_block","$to_n","$native_listen","$alias_native"]),function(t,l){var c=[a(t,"Hyperstack")].concat(l);return function(t,l){var c=[a(t,"Router")].concat(l);return function(t,$super,a){var l,c,u,_,p,d=o(t,null,"History"),f=[d].concat(a);return d.$$prototype.native=n,d.$include(r($(f,"Native"),"Wrapper")),e.def(d,"$initialize",l=function(e){return this.native=e},l.$$arity=1),e.def(d,"$to_n",c=function(){return this.native},c.$$arity=0),e.def(d,"$location",u=function(){var e=this;return $(f,"Location").$new(e.native.location)},u.$$arity=0),e.def(d,"$block",_=function(t){var r,a=_.$$p,o=a||n,l=this;return a&&(_.$$p=null),null==t&&(t=n),i(t)?l.$native_block(t.$to_n()):s(l,"native_block",[],((r=function(t,a){null==r.$$s||r.$$s;return null==t&&(t=n),null==a&&(a=n),e.yieldX(o,[$(f,"Location").$new(t),a])}).$$s=l,r.$$arity=2,r))},_.$$arity=-1),e.def(d,"$listen",p=function(){var t,r=p.$$p,a=r||n,o=this;return r&&(p.$$p=null),s(o,"native_listen",[],((t=function(r,o){null==t.$$s||t.$$s;return null==r&&(r=n),null==o&&(o=n),e.yieldX(a,[$(f,"Location").$new(r),o])}).$$s=o,t.$$arity=2,t))},p.$$arity=0),d.$alias_native("action"),d.$alias_native("native_block","block"),d.$alias_native("create_href","createHref"),d.$alias_native("entries"),d.$alias_native("go"),d.$alias_native("go_back","goBack"),d.$alias_native("go_forward","goForward"),d.$alias_native("index"),d.$alias_native("length"),d.$alias_native("native_listen","listen"),d.$alias_native("push","push"),d.$alias_native("replace","replace")}(c[0],0,c)}(c[0],c)}(t[0],t)},Opal.modules["hyperstack/router/location"]=function(e){e.top;var t=[],n=e.nil,r=e.$$$,$=e.$$,a=e.module,o=e.klass,i=e.truthy,s=e.hash2,l=e.send,c=e.range;return e.add_stubs(["$include","$blank?","$search","$[]","$map","$split","$alias_native"]),function(t,u){var _=[a(t,"Hyperstack")].concat(u);return function(t,u){var _=[a(t,"Router")].concat(u);return function(t,$super,a){var u,_,p,d=o(t,null,"Location"),f=[d].concat(a);return d.$$prototype.native=n,d.$include(r($(f,"Native"),"Wrapper")),e.def(d,"$initialize",u=function(e){return this.native=e},u.$$arity=1),e.def(d,"$to_n",_=function(){return this.native},_.$$arity=0),e.def(d,"$query",p=function(){var t,r=this;return i(r.$search()["$blank?"]())?s([],{}):$(f,"Hash")["$[]"](l(r.$search()["$[]"](c(1,-1,!1)).$split("&"),"map",[],((t=function(r){null==t.$$s||t.$$s;var $,a,o=n,i=n;return null==r&&(r=n),a=r.$split("="),o=null==($=e.to_ary(a))[0]?n:$[0],i=null==$[1]?n:$[1],[decodeURIComponent(o),decodeURIComponent(i)]}).$$s=r,
t.$$arity=1,t)))},p.$$arity=0),d.$alias_native("pathname"),d.$alias_native("search"),d.$alias_native("hash"),d.$alias_native("state"),d.$alias_native("key")}(_[0],0,_)}(_[0],_)}(t[0],t)},Opal.modules["hyperstack/router/match"]=function(e){e.top;var t=[],n=e.nil,r=e.$$$,$=e.$$,a=e.module,o=e.klass;return e.add_stubs(["$include","$alias_native"]),function(t,i){var s=[a(t,"Hyperstack")].concat(i);return function(t,i){var s=[a(t,"Router")].concat(i);return function(t,$super,a){var i,s,l=o(t,null,"Match"),c=[l].concat(a);return l.$$prototype.native=n,l.$include(r($(c,"Native"),"Wrapper")),e.def(l,"$initialize",i=function(e){return this.native=e},i.$$arity=1),e.def(l,"$to_n",s=function(){return this.native},s.$$arity=0),l.$alias_native("params"),l.$alias_native("is_exact","isExact"),l.$alias_native("path"),l.$alias_native("url")}(s[0],0,s)}(s[0],s)}(t[0],t)},Opal.modules["hyperstack/internal/router/class_methods"]=function(e){e.top;var t=[],n=e.nil,r=e.$$$,$=e.$$,a=e.module,o=e.truthy,i=e.send;return e.add_stubs(["$positive?","$count","$first","$send","$new","$to_n","$history","$private","$create_browser_history","$current","$create_hash_history","$create_memory_history"]),function(t,s){var l=[a(t,"Hyperstack")].concat(s);return function(t,s){var l=[a(t,"Internal")].concat(s);return function(t,s){var l=[a(t,"Router")].concat(s);return function(t,s){var l,c,u,_,p,d=a(t,"ClassMethods"),f=[d].concat(s);return e.def(d,"$history",l=function(){var t,r,$=this,a=n;return null==$.__history_type&&($.__history_type=n),null==$.__history&&($.__history=n),t=e.slice.call(arguments,0,arguments.length),o((r=t).$count()["$positive?"]())?$.__history_type=r.$first():o($.__history_type)?$.__history=o(a=$.__history)?a:$.$send($.__history_type+"_history"):n},l.$$arity=-1),e.def(d,"$location",c=function(){var e=this;return r(r($(f,"Hyperstack"),"Router"),"Location").$new(e.$history().$to_n().location)},c.$$arity=0),d.$private(),e.def(d,"$browser_history",u=function(){var e=this,t=n;return null==e.__browser_history&&(e.__browser_history=n),e.__browser_history=o(t=e.__browser_history)?t:r(r($(f,"React"),"Router"),"History").$current().$create_browser_history()},u.$$arity=0),e.def(d,"$hash_history",_=function(){var t,a,s=this,l=n;return null==s.__hash_history&&(s.__hash_history=n),t=e.slice.call(arguments,0,arguments.length),a=t,s.__hash_history=o(l=s.__hash_history)?l:i(r(r($(f,"React"),"Router"),"History").$current(),"create_hash_history",e.to_a(a))},_.$$arity=-1),e.def(d,"$memory_history",p=function(){var t,a,s=this,l=n;return null==s.__memory_history&&(s.__memory_history=n),t=e.slice.call(arguments,0,arguments.length),a=t,s.__memory_history=o(l=s.__memory_history)?l:i(r(r($(f,"React"),"Router"),"History").$current(),"create_memory_history",e.to_a(a))},p.$$arity=-1),n&&"memory_history"}(l[0],l)}(l[0],l)}(l[0],l)}(t[0],t)},Opal.modules["hyperstack/internal/router/helpers"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}e.top;var n=[],r=e.nil,$=e.$$$,a=e.$$,o=e.module,i=e.hash2,s=e.send,l=e.truthy;return e.add_stubs(["$to_n","$tap","$[]=","$-","$[]","$delete","$Link","$to_proc","$any?","$&","$keys","$observed!","$NavLink","$ctx","$Redirect","$new","$lambda","$format_params","$create_element","$values","$Route","$Switch"]),function(n,c){var u=[o(n,"Hyperstack")].concat(c);return function(n,c){var u=[o(n,"Internal")].concat(c);return function(n,c){var u=[o(n,"Router")].concat(c);return function(n,c){var u,_,p,d,f,h,m=o(n,"Helpers"),y=[m].concat(c);return e.def(m,"$Link",u=function(n,o){var c,_=u.$$p,p=_||r,d=this,f=r;return _&&(u.$$p=null),_&&(u.$$p=null),null==o&&(o=i([],{})),f=["to",s(i([],{}),"tap",[],(c=function($){null==c.$$s||c.$$s;return null==$&&($=r),f=["pathname",n],s($,"[]=",e.to_a(f)),f[t(f.length,1)],l(o["$[]"]("search"))&&(f=["search",o.$delete("search")],s($,"[]=",e.to_a(f)),f[t(f.length,1)]),l(o["$[]"]("hash"))?(f=["hash",o.$delete("hash")],s($,"[]=",e.to_a(f)),f[t(f.length,1)]):r},c.$$s=d,c.$$arity=1,c)).$to_n()],s(o,"[]=",e.to_a(f)),f[t(f.length,1)],s($($(a(y,"React"),"Router"),"DOM"),"Link",[o],p.$to_proc())},u.$$arity=-2),e.def(m,"$NavLink",_=function(n,o){var c=_.$$p,u=c||r,p=r;return c&&(_.$$p=null),c&&(_.$$p=null),null==o&&(o=i([],{})),p=["to",n.$to_n()],s(o,"[]=",e.to_a(p)),p[t(p.length,1)],l(["active_class","active_style","active"]["$&"](o.$keys())["$any?"]())&&(l(o["$[]"]("active_class"))&&(p=["activeClassName",o.$delete("active_class").$to_n()],s(o,"[]=",e.to_a(p)),p[t(p.length,1)]),l(o["$[]"]("active_style"))&&(p=["activeStyle",o.$delete("active_style").$to_n()],s(o,"[]=",e.to_a(p)),p[t(p.length,1)]),l(o["$[]"]("active"))&&(p=["isActive",o.$delete("active").$to_n()],s(o,"[]=",e.to_a(p)),p[t(p.length,1)]),$(a(y,"State"),"Mapper")["$observed!"]($($(a(y,"Hyperstack"),"Router"),"Location"))),s($($(a(y,"React"),"Router"),"DOM"),"NavLink",[o],u.$to_proc())},_.$$arity=-2),e.def(m,"$Redirect",p=function(n,o){var c=r,u=r,_=r;return null==o&&(o=i([],{})),c=["to",n.$to_n()],s(o,"[]=",e.to_a(c)),c[t(c.length,1)],u=o.$delete("status"),u=l(_=u)?_:302,a(y,"IsomorphicMethods").$ctx().status=u,$(a(y,"React"),"Router").$Redirect(o)},p.$$arity=-2),e.def(m,"$format_params",d=function(t){return e.slice.call(arguments,1,arguments.length),i(["match","location","history"],{match:$($(a(y,"Hyperstack"),"Router"),"Match").$new(t.match),location:$($(a(y,"Hyperstack"),"Router"),"Location").$new(t.location),history:$($(a(y,"Hyperstack"),"Router"),"History").$new(t.history)})},d.$$arity=-2),e.def(m,"$Route",f=function(n,o){var c,u,_=f.$$p,p=_||r,d=this,h=r,m=r;return _&&(f.$$p=null),_&&(f.$$p=null),null==o&&(o=i([],{})),$($($(a(y,"Hyperstack"),"Internal"),"State"),"Mapper")["$observed!"]($($(a(y,"Hyperstack"),"Router"),"Location")),h=["path",n.$to_n()],s(o,"[]=",e.to_a(h)),h[t(h.length,1)],l(o["$[]"]("mounts"))&&(m=o.$delete("mounts"),h=["component",s(d,"lambda",[],(c=function(){var t,n=null==c.$$s?this:c.$$s,o=r;return t=e.slice.call(arguments,0,arguments.length),o=s(n,"format_params",e.to_a(t)),$($(a(y,"Hyperstack"),"Component"),"ReactAPI").$create_element(m,o).$to_n()},c.$$s=d,c.$$arity=-1,c))],s(o,"[]=",e.to_a(h)),h[t(h.length,1)]),l(p)&&(h=["render",s(d,"lambda",[],(u=function(){var t,n=null==u.$$s?this:u.$$s,$=r;return t=e.slice.call(arguments,0,arguments.length),$=s(n,"format_params",e.to_a(t)),e.yieldX(p,e.to_a($.$values())).$to_n()},u.$$s=d,u.$$arity=-1,u))],s(o,"[]=",e.to_a(h)),h[t(h.length,1)]),$(a(y,"React"),"Router").$Route(o)},f.$$arity=-2),e.def(m,"$Switch",h=function(){var e=h.$$p,t=e||r;return e&&(h.$$p=null),e&&(h.$$p=null),s($(a(y,"React"),"Router"),"Switch",[],t.$to_proc())},h.$$arity=0),r&&"Switch"}(u[0],u)}(u[0],u)}(u[0],u)}(n[0],n)},Opal.modules["hyperstack/internal/router/instance_methods"]=function(e){e.top;var t=[],n=e.nil,r=(e.$$$,e.$$,e.module);return e.add_stubs(["$history","$class","$location"]),function(t,$){var a=[r(t,"Hyperstack")].concat($);return function(t,$){var a=[r(t,"Internal")].concat($);return function(t,$){var a=[r(t,"Router")].concat($);return function(t,$){var a,o,i=r(t,"InstanceMethods");[i].concat($);return e.def(i,"$history",a=function(){return this.$class().$history()},a.$$arity=0),e.def(i,"$location",o=function(){return this.$class().$location()},o.$$arity=0),n&&"location"}(a[0],a)}(a[0],a)}(a[0],a)}(t[0],t)},Opal.modules["hyperstack/router/helpers"]=function(e){e.top;var t=[],n=e.nil,r=e.$$$,$=e.$$,a=e.module,o=e.send,i=e.hash2;return e.add_stubs(["$include","$class_eval","$param"]),function(t,s){var l=[a(t,"Hyperstack")].concat(s);return function(t,s){var l=[a(t,"Router")].concat(s);return function(t,s){var l,c,u,_,p=a(t,"Helpers"),d=[p].concat(s);return e.def(p,"$match",l=function(){var e=this;return null==e._match_param&&(e._match_param=n),e._match_param},l.$$arity=0),e.def(p,"$location",c=function(){var e=this;return null==e._location_param&&(e._location_param=n),e._location_param},c.$$arity=0),e.def(p,"$history",u=function(){var e=this;return null==e._history_param&&(e._history_param=n),e._history_param},u.$$arity=0),e.defs(p,"$included",_=function(e){var t,a=this;return e.$include(r(r(r($(d,"Hyperstack"),"Internal"),"Router"),"Helpers")),o(e,"class_eval",[],((t=function(){var e=null==t.$$s?this:t.$$s;return e.$param("match",i(["default","alias"],{"default":n,alias:"_match_param"})),e.$param("location",i(["default","alias"],{"default":n,alias:"_location_param"})),e.$param("history",i(["default","alias"],{"default":n,alias:"_history_param"}))}).$$s=a,t.$$arity=0,t))},_.$$arity=1),n&&"included"}(l[0],l)}(l[0],l)}(t[0],t)},Opal.modules["hyperstack/router"]=function(e){e.top;var t=[],n=e.nil,r=e.$$$,$=e.$$,a=e.module,o=e.klass,i=e.truthy,s=e.lambda,l=e.send,c=e.hash2;return e.add_stubs(["$on_opal_server?","$__hyperstack_prerender_router","$to_proc","$__hyperstack_render_router","$instance_eval","$is_a?","$respond_to?","$acts_as_string?","$render","$to_s","$history","$class","$Router","$to_n","$__eval_block","$split","$request_fullpath","$StaticRouter","$ctx","$extend","$include","$class_eval","$location","$after_mount","$listen","$mutated!","$before_unmount","$call"]),function(t,u){var _=[a(t,"Hyperstack")].concat(u);return function(t,u){var _,p,d,f,h,m=a(t,"Router"),y=[m].concat(u);return function(e,$super,t){[o(e,$super,"NoHistoryError")].concat(t)}(y[0],$(y,"StandardError"),y),e.def(m,"$__hyperstack_router_wrapper",_=function(){var e,t,a=_.$$p,o=a||n,c=this;return a&&(_.$$p=null),a&&(_.$$p=null),i(r(r($(y,"Hyperstack"),"Component"),"IsomorphicHelpers")["$on_opal_server?"]())?s(((e=function(){var t=null==e.$$s?this:e.$$s;return l(t,"__hyperstack_prerender_router",[],o.$to_proc())}).$$s=c,e.$$arity=0,e)):s(((t=function(){var e=null==t.$$s?this:t.$$s;return l(e,"__hyperstack_render_router",[],o.$to_proc())}).$$s=c,t.$$arity=0,t))},_.$$arity=0),e.def(m,"$__eval_block",p=function(e){var t,a=this,o=n,s=n,c=n;return o=l(a,"instance_eval",[],e.$to_proc()),i(i(s=o["$is_a?"]($(y,"String")))?s:i(c=o["$respond_to?"]("acts_as_string?"))?o["$acts_as_string?"]():c)&&(o=l(r(r(r($(y,"Hyperstack"),"Internal"),"Component"),"RenderingContext"),"render",["span"],((t=function(){null==t.$$s||t.$$s;return o.$to_s()}).$$s=a,t.$$arity=0,t))),o},p.$$arity=1),e.def(m,"$__hyperstack_render_router",d=function(){var e,t=d.$$p,a=t||n,o=this;return t&&(d.$$p=null),t&&(d.$$p=null),l(o,"instance_eval",[],((e=function(){var t,n=null==e.$$s?this:e.$$s;return i(n.$history())||n.$class().$history("browser"),l(r($(y,"React"),"Router"),"Router",[c(["history"],{history:n.$history().$to_n()})],((t=function(){return(null==t.$$s?this:t.$$s).$__eval_block(a)}).$$s=n,t.$$arity=0,t))}).$$s=o,e.$$arity=0,e))},d.$$arity=0),e.def(m,"$__hyperstack_prerender_router",f=function(){var t,a=f.$$p,o=a||n,s=this;return a&&(f.$$p=null),a&&(f.$$p=null),l(s,"instance_eval",[],((t=function(){var a,s,u,_=null==t.$$s?this:t.$$s,p=n,d=n,f=n;return s=r(r(r($(y,"Hyperstack"),"Internal"),"Router"),"IsomorphicMethods").$request_fullpath().$split("?",2),p=null==(a=e.to_ary(s))[0]?n:a[0],d=null==a[1]?n:a[1],f=c(["pathname","search"],{pathname:p,search:i(d)?"?"+d:""}).$to_n(),l(r($(y,"React"),"Router"),"StaticRouter",[c(["location","context"],{location:f,context:r(r(r($(y,"Hyperstack"),"Internal"),"Router"),"IsomorphicMethods").$ctx()})],((u=function(){return(null==u.$$s?this:u.$$s).$__eval_block(o)}).$$s=_,u.$$arity=0,u))}).$$s=s,t.$$arity=0,t))},f.$$arity=0),e.defs(m,"$included",h=function(t){var a,o=this;return t.$extend(r(r(r($(y,"Hyperstack"),"Internal"),"Router"),"ClassMethods")),t.$include(r(r(r($(y,"Hyperstack"),"Internal"),"Router"),"Helpers")),l(t,"class_eval",[],((a=function(){var t,o,s,c,u=null==a.$$s?this:a.$$s;return e.def(u,"$history",t=function(){return this.$class().$history()},t.$$arity=0),e.def(u,"$location",o=function(){return this.$class().$location()},o.$$arity=0),l(u,"after_mount",[],((s=function(){var e,t=null==s.$$s?this:s.$$s;return t._react_router_unlisten=l(t.$history(),"listen",[],((e=function(t,a){null==e.$$s||e.$$s;return null==t&&(t=n),null==a&&(a=n),r(r(r($(y,"Hyperstack"),"Internal"),"State"),"Mapper")["$mutated!"](r(r($(y,"Hyperstack"),"Router"),"Location"))}).$$s=t,e.$$arity=2,e))}).$$s=u,s.$$arity=0,s)),l(u,"before_unmount",[],((c=function(){var e=null==c.$$s?this:c.$$s;return null==e._react_router_unlisten&&(e._react_router_unlisten=n),i(e._react_router_unlisten)?e._react_router_unlisten.$call():n}).$$s=u,c.$$arity=0,c))}).$$s=o,a.$$arity=0,a))},h.$$arity=1),n&&"included"}(_[0],_)}(t[0],t)},Opal.queue(function(e){var t=e.top,n=[],r=(e.nil,e.$$$,e.$$),$=e.hash2;return e.add_stubs(["$require","$js_import","$import"]),t.$require("hyper-component"),r(n,"Hyperstack").$js_import("hyperstack/router/react-router-source",$(["defines"],{defines:["ReactRouter","ReactRouterDOM","History"]})),r(n,"Hyperstack").$import("hyper-router"),t.$require("react/router"),t.$require("react/router/dom"),t.$require("react/router/history"),t.$require("hyperstack/internal/router/isomorphic_methods"),t.$require("hyperstack/router/history"),t.$require("hyperstack/router/location"),t.$require("hyperstack/router/match"),t.$require("hyperstack/internal/router/class_methods"),t.$require("hyperstack/internal/router/helpers"),t.$require("hyperstack/internal/router/instance_methods"),t.$require("hyperstack/router/helpers"),t.$require("hyperstack/router")});